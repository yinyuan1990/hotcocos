System.register("chunks:///_virtual/ClubDividendView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Utils.ts","./List.ts","./UIView.ts","./Decorators.ts","./MyUserItem2.ts","./UserData.ts","./Macros.ts","./EnterRoomView.ts","./HallModel.ts","./giveView.ts"],(function(t){"use strict";var e,i,a,n,o,s,l,r,p,h,d,u,c,g,b,m,f,y,C,A,w,E,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,n=t.Label,o=t.Node,s=t.EditBox,l=t._decorator,r=t.Toggle,p=t.Prefab,h=t.instantiate,d=t.Sprite},function(t){u=t.Config,c=t.ViewZOrder},function(t){g=t.default},function(t){b=t.default},function(t){m=t.default},function(t){f=t.inject},function(t){y=t.MyUserItem},function(t){C=t.UserDataEn},function(t){A=t.Macro},function(t){w=t.default},function(t){E=t.HallModel},function(t){T=t.default}],execute:function(){var D,N,v,P,S,U,_,B,L,I,O,H,z,x,M,G,V,k,R,q,j,F,$,J,Z,K,Q,W,X,Y,tt,et,it,at,nt,ot,st;a._RF.push({},"b41afO2mqtCVq2HSiHtpOt7","ClubDividendView",void 0);const{ccclass:lt,property:rt}=l;t("default",(D=lt(),N=f("topLayout/title",n),v=f("safeArea/top/today/lb_today",n),P=f("safeArea/top/total/lb_total",n),S=f("safeArea/top/invite/lb_pnum",n),U=f("safeArea/top/percent/lb_percent",n),_=f("topLayout/news",o),B=f("safeArea/content/ScrollView",b),L=f("safeArea/content/title_bg/Node/titleOpt",o),I=f("safeArea/select",o),O=f("safeArea/content",o),H=f("safeArea/stats",o),z=f("safeArea/pop",o),x=f("safeArea/pop/pop_bg/btn_sure",o),M=f("safeArea/pop/pop_bg/btn_cancel",o),G=f("safeArea/top/today/btn_opt",o),V=f("safeArea/top/today/btn_extra",o),k=f("safeArea/pop/pop_bg/bg/EditBox",s),D((j=e((q=class extends m{constructor(...t){super(...t),this.agentApi=App.apis.agent,i(this,"title",j,this),i(this,"lbToday",F,this),i(this,"lbTotal",$,this),i(this,"lbPNum",J,this),i(this,"lbPercent",Z,this),i(this,"back",K,this),i(this,"ScrollContent",Q,this),i(this,"titleOpt",W,this),i(this,"select",X,this),i(this,"content",Y,this),i(this,"stats",tt,this),i(this,"popNode",et,this),i(this,"btnSure",it,this),i(this,"btnCancel",at,this),i(this,"btnOpt",nt,this),i(this,"btnExtra",ot,this),i(this,"edit",st,this),this.curSelectType=0,this.agentDatalist=null,this.statsData=null,this.updateTimerId=null,this.crtPage=0,this.totalCount=0,this.currentUid=""}static getPrefabUrl(){return"dividend/prefabs/myUserView"}get tabIndex(){return this.curSelectType+1}onLoad(){super.onLoad(),this.onN(this.back,o.EventType.TOUCH_END,this.close),this.onN(this.btnSure,o.EventType.TOUCH_END,(()=>{if(App.globalAudio.playGlobalEffect(u.audioPath.button),this.edit.string.length<1)return void App.tips.show("请输入数量");let t=parseInt(this.edit.string);(isNaN(t)||t<=0)&&App.tips.show("请输入正确的数量")})),this.onN(this.btnCancel,o.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(u.audioPath.button),this.popNode.active=!1,this.edit.string=""})),this.onN(this.btnOpt,o.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(u.audioPath.button)})),this.onN(this.btnExtra,o.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(u.audioPath.button),this.popNode.active=!0,this.edit.string=""})),this.select.children.forEach(((t,e)=>this.onN(t,r.EventType.TOGGLE,(()=>this.onSelectTog(e))))),App.utils.addListRule(this.node,this.ScrollContent,"ClubDividendView","onShowItemList","","renderEvent"),this.onTabChanged(this.tabIndex,1),this.ScrollContent.numItems=0}show(t){super.show(t),this.currentUid=t.id,this.title.string=`${t.username}的红利`}onDestroy(...t){this.clearUpdateTimer(),super.onDestroy()}onSelectTog(t){if(App.globalAudio.playGlobalEffect(u.audioPath.button),this.select.children[t].getComponent(r).isChecked){if(this.curSelectType==t)return;this.crtPage=1,this.curSelectType=t,this.titleOpt.active=0===this.curSelectType,this.clearUpdateTimer(),this.onTabChanged(this.tabIndex,this.crtPage)}}onTabChanged(t,e){this.content.active=t<=3,this.stats.active=4==t,4==t?this.statsData?this.showAgentStats():this.requestAgentStats():this.loadMoreData(t,e)}clearUpdateTimer(){this.updateTimerId&&clearTimeout(this.updateTimerId)}loadMoreData(t,e,i=!1){this.clearUpdateTimer(),i||(this.ScrollContent.numItems=0,this.ScrollContent.scrollTo(0,0),App.loading.show("")),this.agentApi.getAgentReward(t,e,parseInt(this.currentUid)).then((a=>{App.loading.hide(),this.agentDatalist?this.agentDatalist.list.push(...a.data.list):this.agentDatalist=a.data,this.crtPage=a.data.page,this.totalCount=a.data.totalCount,this.ScrollContent.numItems=this.agentDatalist.list.length,i&&this.ScrollContent.update(),1==t&&(this.updateTimerId=setTimeout((()=>{this.loadMoreData(t,e,!0)}),5e3))})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}requestAgentStats(){App.loading.show(""),this.agentApi.getAgentReward(4,1,parseInt(this.currentUid)).then((t=>{App.loading.hide(),this.statsData=t.data,this.showAgentStats()})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}showAgentStats(){let t=this.stats.getChildByName("list");for(let e=0;e<t.children.length;e++){let i=t.children[e],a=i.getChildByName("today").getComponent(n),o=i.getChildByName("total").getComponent(n),s=0,l=0;0==e?(s=this.statsData.todayAmount1,l=this.statsData.totalAmount1):1==e?(s=this.statsData.todayAmount2,l=this.statsData.totalAmount2):(s=this.statsData.todayAmount3,l=this.statsData.totalAmount3),Log.d("====>>>>dayVal: ",s,"totalVal: ",l),a.string=g.getScoreImplicit(s),o.string=g.getScoreImplicit(l)}}onShowItemList(t,e){var i=t.getComponent(y);i||(i=t.addComponent(y));var a=this.agentDatalist.list[e];i.setData(this.tabIndex,e,a,this.onSelectUser.bind(this),this.onClickEnter.bind(this)),e==this.agentDatalist.list.length-1&&this.agentDatalist.list.length<this.totalCount&&this.loadMoreData(this.tabIndex,this.crtPage+1)}onSelectUser(t,e){var i=C.getUserData();2!=i.type&&3!=i.type||this.onShowUserEmpower(t)}onClickEnter(t,e){t.TableNo&&("yes"===t.needPass?App.uiManager.open({type:w,bundle:A.BUNDLE_HALL,zIndex:c.UI,args:{tableNo:t.TableNo}}):E.enterTable({isTalbeNo:!0,tableId:Number(t.TableNo),password:"",locate:JSON.stringify(App.stageData.GPSLocation)}))}onGive(){App.globalAudio.playGlobalEffect(u.audioPath.button),App.uiManager.open({type:T,bundle:A.BUNDLE_HALL})}onShowUserEmpower(t){App.asset.load(A.BUNDLE_HALL,"dividend/prefabs/userEmpower",p,(()=>{}),(e=>{const i=h(e.data);this.node.addChild(i),i.getChildByPath("headBg/Mask/head").getComponent(d).loadRemoteImage({url:t.avatar+"?t="+(new Date).getTime(),view:this,defaultBundle:this.bundle,isNeedCache:!0});let a=i.getChildByPath("name").getComponent(n),l=i.getChildByPath("gold_bg/id").getComponent(n),r=i.getChildByPath("balance/id").getComponent(n),p=i.getChildByPath("info_bg-001/editScore").getComponent(s),c=i.getChildByPath("agentEmpower");0!=t.type&&(c.active=!1);let g=i.getChildByPath("SpriteSplash"),b=i.getChildByPath("TakeEmpower"),m=i.getChildByPath("butGive");this.onN(m,o.EventType.TOUCH_END,this.onGive),this.onN(g,o.EventType.TOUCH_END,(()=>{this.node.removeChild(i)})),this.onN(c,o.EventType.TOUCH_END,(()=>{App.loading.show(""),this.agentApi.setAgent(t.id+"").then((t=>{App.tips.show("授权成功"),this.node.removeChild(i)})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))})),this.onN(b,o.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(u.audioPath.button),p.string?(App.loading.show(""),this.agentApi.takeUserMoney(t.id+"",p.string).then((t=>{App.tips.show("退分成功")})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))):App.tips.show("请输入退分金额")})),a.string=t.username,l.string=t.id+"",r.string=t.balance/100+""}))}onShowUserEmpowerProportion(t,e){Log.d("[onShowUserEmpowerProportion]",t),App.asset.load(A.BUNDLE_HALL,"dividend/prefabs/UserProportion",p,(()=>{}),(e=>{const i=h(e.data);this.node.addChild(i);let a=i.getChildByPath("headBg/Mask/head").getComponent(d);t.avatar&&a.loadRemoteImage({url:t.avatar+"?t="+(new Date).getTime(),view:this,defaultBundle:this.bundle,isNeedCache:!0});let l=i.getChildByPath("name").getComponent(n),r=i.getChildByPath("gold_bg/id").getComponent(n),p=i.getChildByPath("LabelMax").getComponent(n),u=i.getChildByPath("rateTxt").getComponent(n),c=i.getChildByPath("allianceEmpowerLayout/allianceEmpower/Label").getComponent(n),g=i.getChildByPath("allianceEmpowerLayout/proportion").getComponent(n),b=i.getChildByPath("allianceEmpowerLayout/EditBox").getComponent(s);var m=C.getUserData(),f=this.agentDatalist.minRebateRate,y=t.rebate_rate||0;l.string=t.username,r.string=t.id+"",p.string="最高 "+m.rebateRate+"%",u.string=`盟主比例分配,最低 ${f}%`,g.string="对方当前:"+y,b.string=y+"",2==t.type?c.string="确定分配":c.string="授权盟主";let A=i.getChildByPath("allianceEmpowerLayout/allianceEmpower"),w=i.getChildByPath("SpriteSplash");this.onN(w,o.EventType.TOUCH_END,(()=>{this.node.removeChild(i)})),this.onN(A,o.EventType.TOUCH_END,(()=>{App.loading.show("");let e=b.string;this.agentApi.setLeader(t.id+"",e).then((a=>{App.loading.hide(),App.tips.show("设置成功"),t.rebate_rate=Number(e),this.node.removeChild(i)})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}))}))}}).prototype,"title",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(q.prototype,"lbToday",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(q.prototype,"lbTotal",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(q.prototype,"lbPNum",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(q.prototype,"lbPercent",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(q.prototype,"back",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(q.prototype,"ScrollContent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(q.prototype,"titleOpt",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(q.prototype,"select",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(q.prototype,"content",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(q.prototype,"stats",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(q.prototype,"popNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(q.prototype,"btnSure",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(q.prototype,"btnCancel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(q.prototype,"btnOpt",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(q.prototype,"btnExtra",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(q.prototype,"edit",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=q))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClubMsgItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts","./Config.ts","./CommonData.ts","./Decorators.ts","./EventComponent.ts"],(function(t){"use strict";var e,i,a,n,s,l,o,r,u,c,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,n=t.Label,s=t.Sprite,l=t.Button,o=t._decorator},function(t){r=t.Macro},function(t){u=t.Config},function(t){c=t.EmClubEvent},function(t){p=t.inject},function(t){d=t.default}],execute:function(){var h,b,g,m,f,A,C,v,w,M,y,_,D,P,E;a._RF.push({},"32240NoXkJEor7MRV9w7PgH","ClubMsgItem",void 0);const{ccclass:I,property:R}=o;t("ClubMsgData",class{constructor(){this.username=void 0,this.id=void 0,this.userid=void 0,this.clubid=void 0,this.avatar=void 0,this.desc=void 0,this.created_at=void 0,this.status=void 0}});t("ClubMsgItem",(h=I("ClubMsgItem"),b=p("lb_name",n),g=p("sp_head",s),m=p("lb_notice",n),f=p("lb_time",n),A=p("btn_reject",l),C=p("btn_accept",l),h((M=e((w=class extends d{constructor(...t){super(...t),i(this,"lbName",M,this),i(this,"spHead",y,this),i(this,"lbDesc",_,this),i(this,"lbTime",D,this),i(this,"btnRej",P,this),i(this,"btnAct",E,this),this.data=null,this.userApi=App.apis.user}setData(t){this.data=t,this.lbName.string=t.username,this.lbDesc.string="通知:"+t.desc,this.lbTime.string=t.created_at,this.spHead.loadRemoteImage({url:t.avatar,view:App.uiManager.getView("JoinClubView"),defaultBundle:r.BUNDLE_HALL,isNeedCache:!0}),App.utils.addCheckRule(this.node,this.btnRej,"ClubMsgItem","onCancelPart","","clickEvents"),App.utils.addCheckRule(this.node,this.btnAct,"ClubMsgItem","onSetPart","","clickEvents")}onCancelPart(){App.globalAudio.playGlobalEffect(u.audioPath.button),Log.d("ClubMsgItem","onCancelPart",this.data),App.loading.show(""),this.userApi.handleClubjoinreq(this.data.clubid.toString(),this.data.userid.toString(),2).then((t=>{App.loading.hide(),App.tips.show("拒绝成功"),App.event.emit(c.UpdateClubMsg,this.data.userid,2)})).catch((t=>{App.loading.hide(),App.tips.show(t.message)}))}onSetPart(){App.globalAudio.playGlobalEffect(u.audioPath.button),Log.d("ClubMsgItem","onSetPart",this.data),App.loading.show(""),this.userApi.handleClubjoinreq(this.data.clubid.toString(),this.data.userid.toString(),1).then((t=>{App.loading.hide(),App.tips.show("已通过"),App.event.emit(c.UpdateClubMsg,this.data.userid,1)})).catch((t=>{App.loading.hide(),App.tips.show(t.message)}))}}).prototype,"lbName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(w.prototype,"spHead",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(w.prototype,"lbDesc",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(w.prototype,"lbTime",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"btnRej",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(w.prototype,"btnAct",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClubMsgView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClubMsgItem.ts","./CommonData.ts","./UIView.ts","./Decorators.ts","./List.ts","./Config.ts"],(function(t){"use strict";var e,s,i,o,n,l,a,r,u,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Node,n=t._decorator},function(t){l=t.ClubMsgItem},function(t){a=t.EmClubEvent},function(t){r=t.default},function(t){u=t.inject},function(t){c=t.default},function(t){d=t.Config}],execute:function(){var h,p,g,b,f,w,m;i._RF.push({},"3c2cdUw1IdNG7Ev5WaMoIhd","ClubMsgView",void 0);const{ccclass:C,property:L}=n;t("default",(h=C("ClubMsgView"),p=u("topLayout/news",o),g=u("content/ScrollView",c),h((w=e((f=class extends r{constructor(...t){super(...t),this.userApi=App.apis.user,s(this,"back",w,this),s(this,"ScrollView",m,this),this.datas=[],this.isLoading=!1,this.selClubId=""}static getPrefabUrl(){return"prefabs/ClubMsgView"}onLoad(){super.onLoad(),this.onN(this.back,o.EventType.TOUCH_END,this.onClose),App.event.on(a.UpdateClubMsg,((t,e)=>{let s=this.datas.find((t=>{t.userid}));s&&(s.status=e,this.ScrollView.numItems=this.datas.length)})),App.utils.addListRule(this.node,this.ScrollView,"ClubMsgView","onShowItemList","","renderEvent"),this.ScrollView.numItems=this.datas.length}show(t){super.show(t),this.selClubId=t.clubId,this.onRecord()}onClose(){App.globalAudio.playGlobalEffect(d.audioPath.close),this.close()}onDestroy(...t){super.onDestroy()}onRecord(){this.isLoading||(App.loading.show(""),this.isLoading=!0,this.userApi.clubApplyList(this.selClubId).then((t=>{this.isLoading=!1,App.loading.hide();let e=t.data;this.datas=e,this.ScrollView.numItems=this.datas.length})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.datas[e]);let s=t.getComponent(l);null==s&&(s=t.addComponent(l));let i=this.datas[e];s.setData(i)}}).prototype,"back",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(f.prototype,"ScrollView",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/ClubOptItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./Decorators.ts","./EventComponent.ts"],(function(t){"use strict";var e,i,r,n,l,o,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Label,l=t._decorator},function(t){o=t.default},function(t){s=t.inject},function(t){a=t.default}],execute:function(){var u,c,b,p,f,h,d,m,g,y;r._RF.push({},"32a0eTsPtNP57mNuzBMZNAd","ClubOptItem",void 0);const{ccclass:v,property:C}=l;t("ClubOptData",class{constructor(){this.money=void 0,this.remark=void 0,this.extraId=void 0,this.id=void 0,this.afterMoney=void 0,this.updateAt=void 0}});t("ClubOptItem",(u=s("lb_change",n),c=s("lb_op",n),b=s("lb_time",n),p=s("lb_left",n),v((d=e((h=class extends a{constructor(...t){super(...t),i(this,"lbChange",d,this),i(this,"lbOp",m,this),i(this,"lbTime",g,this),i(this,"lbLeft",y,this)}setData(t){this.lbChange.string=o.getScore(t.money),this.lbOp.string=t.remark,this.lbLeft.string=o.getScore(t.afterMoney),this.lbTime.string=t.updateAt.replace(" ","\n")}}).prototype,"lbChange",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(h.prototype,"lbOp",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(h.prototype,"lbTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(h.prototype,"lbLeft",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/ClubOptView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./List.ts","./Config.ts","./ClubOptItem.ts","./Utils.ts","./ClubInfoData.ts"],(function(t){"use strict";var e,i,n,o,r,s,l,a,u,p,c,h,b,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Sprite,r=t.Label,s=t.Node,l=t.EditBox,a=t._decorator},function(t){u=t.default},function(t){p=t.inject},function(t){c=t.default},function(t){h=t.Config},function(t){b=t.ClubOptItem},function(t){d=t.default},function(t){g=t.ClubInfoDataEn}],execute:function(){var f,w,y,m,S,A,N,C,v,D,_,L,E,T,I,z,U,O,V,H,k,P,R,G,x,B,F,M,$,j;n._RF.push({},"9cdfbq5ZvNMYagoNdTYgmK9","ClubOptView",void 0);const{ccclass:Y,property:q}=a;t("default",(f=p("content/top/icon_head",o),w=p("content/top/lb_nickname",r),y=p("content/top/lb_id",r),m=p("content/top/lb_fee",r),S=p("content/top/lb_score",r),A=p("topLayout/news",s),N=p("content/ScrollView",c),C=p("content/pop",s),v=p("content/pop/pop_bg/bg/EditBox",l),D=p("content/pop/pop_bg/title",r),_=p("content/pop/pop_bg/btn_sure",s),L=p("content/pop/pop_bg/btn_cancel",s),E=p("content/top/btn_add",s),T=p("content/top/btn_sub",s),Y((U=e((z=class extends u{constructor(...t){super(...t),this.userApi=App.apis.user,this.clubApi=App.apis.club,i(this,"spHead",U,this),i(this,"lbNick",O,this),i(this,"lbId",V,this),i(this,"lbFee",H,this),i(this,"lbScore",k,this),i(this,"back",P,this),i(this,"ScrollView",R,this),i(this,"popNode",G,this),i(this,"edit",x,this),i(this,"title",B,this),i(this,"btnSure",F,this),i(this,"btnCancel",M,this),i(this,"btnAdd",$,this),i(this,"btnSub",j,this),this.datas=[],this.isLoading=!1,this.currentType=0,this.targetUid=0,this.userData=null}static getPrefabUrl(){return"prefabs/ClubOptView"}onLoad(){super.onLoad(),this.onN(this.back,s.EventType.TOUCH_END,this.onClose),this.onN(this.btnSure,s.EventType.TOUCH_END,(()=>{if(this.isLoading)return;if(App.globalAudio.playGlobalEffect(h.audioPath.button),this.edit.string.length<1)return void App.tips.show("请输入操作数量");let t=parseInt(this.edit.string);isNaN(t)||t<=0?App.tips.show("请输入正确的操作数量"):(this.isLoading=!0,App.loading.show(""),this.clubApi.modClubMemberScore(g.getClubData().id.toString(),0==this.currentType?"2":"1",this.targetUid.toString(),d.convertToServerScore(t).toString()).then((e=>{this.isLoading=!1,App.loading.hide(),App.tips.show("操作成功"),this.userData.balance=0==this.currentType?this.userData.balance-d.convertToServerScore(t):this.userData.balance+d.convertToServerScore(t),this.lbScore.string=`${d.getScore(this.userData.balance)}`,this.popNode.active=!1,this.edit.string="",this.onRecord()})).catch((t=>{App.loading.hide(),this.isLoading=!1,App.tips.show(t.message)})))})),this.onN(this.btnCancel,s.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(h.audioPath.button),this.popNode.active=!1,this.edit.string=""})),this.onN(this.btnAdd,s.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(h.audioPath.button),this.currentType=1,this.popNode.active=!0,this.edit.string="",this.title.string="增加积分额度"})),this.onN(this.btnSub,s.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(h.audioPath.button),this.currentType=0,this.popNode.active=!0,this.edit.string="",this.title.string="减少积分额度"})),App.utils.addListRule(this.node,this.ScrollView,"ClubOptView","onShowItemList","","renderEvent"),this.ScrollView.numItems=this.datas.length}show(t){super.show(t),this.userData=t,this.targetUid=t.id,this.lbId.string=`ID:${t.id}`,this.lbNick.string=t.username,this.lbScore.string=`${d.getScore(t.balance)}`,this.spHead.loadRemoteImage({url:t.avatar,view:this,defaultBundle:this.bundle,isNeedCache:!0}),this.onRecord()}onClose(){App.globalAudio.playGlobalEffect(h.audioPath.close),this.close()}onDestroy(...t){super.onDestroy()}onRecord(){this.isLoading||(App.loading.show(""),this.isLoading=!0,console.log("资金记录用户id:"+this.targetUid),this.userApi.balanceUpDownRecord(this.targetUid).then((t=>{this.isLoading=!1,App.loading.hide(),console.log("资金记录用户id:"+JSON.stringify(t.data));let e=t.data.list;this.datas=e,this.ScrollView.numItems=this.datas.length})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.datas[e]);let i=t.getComponent(b);null==i&&(i=t.addComponent(b));let n=this.datas[e];i.setData(n)}}).prototype,"spHead",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(z.prototype,"lbNick",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(z.prototype,"lbId",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(z.prototype,"lbFee",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(z.prototype,"lbScore",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(z.prototype,"back",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(z.prototype,"ScrollView",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(z.prototype,"popNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"edit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(z.prototype,"title",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(z.prototype,"btnSure",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(z.prototype,"btnCancel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(z.prototype,"btnAdd",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(z.prototype,"btnSub",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=z))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/ClubProfitItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./EventComponent.ts"],(function(t){"use strict";var e,i,r,l,n,o,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,l=t.Label,n=t._decorator},function(t){o=t.inject},function(t){s=t.default}],execute:function(){var u,a,c,b,p,f,h,d,v,m;r._RF.push({},"774038MH4BDt60vbp8lpD5M","ClubProfitItem",void 0);const{ccclass:g,property:y}=n;t("ClubProfitData",class{constructor(){this.username=void 0,this.id=void 0,this.userid=void 0,this.clubid=void 0,this.avatar=void 0,this.desc=void 0,this.created_at=void 0,this.status=void 0}});t("ClubProfitItem",(u=o("lb_change",l),a=o("lb_op",l),c=o("lb_time",l),b=o("lb_left",l),g((h=e((f=class extends s{constructor(...t){super(...t),i(this,"lbChange",h,this),i(this,"lbOp",d,this),i(this,"lbTime",v,this),i(this,"lbLeft",m,this)}setData(t){}}).prototype,"lbChange",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(f.prototype,"lbOp",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(f.prototype,"lbTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(f.prototype,"lbLeft",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/ClubProfitView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./List.ts","./Config.ts","./ClubProfitItem.ts"],(function(t){"use strict";var e,i,n,o,l,r,a,s,u,p,b,c,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Label,l=t.Node,r=t.EditBox,a=t.ToggleContainer,s=t._decorator},function(t){u=t.default},function(t){p=t.inject},function(t){b=t.default},function(t){c=t.Config},function(t){h=t.ClubProfitItem}],execute:function(){var d,f,g,y,w,m,A,C,E,P,N,T,_,L,v,z,S,D,x,V,I,O,U,k,G,H,R,B,j,F,Y,K;n._RF.push({},"7d0fdaLogxAhYc5d8YSKQn+","ClubProfitView",void 0);const{ccclass:M,property:Q}=s;t("default",(d=p("content/top/today/lb_today",o),f=p("content/top/total/lb_total",o),g=p("content/top/invite/lb_pnum",o),y=p("content/top/percent/lb_percent",o),w=p("topLayout/news",l),m=p("content/ScrollView",b),A=p("content/pop",l),C=p("content/pop/pop_bg/bg/EditBox",r),E=p("topLayout/title",o),P=p("content/pop/pop_bg/btn_sure",l),N=p("content/pop/pop_bg/btn_cancel",l),T=p("content/top/today/btn_opt",l),_=p("content/top/today/btn_extra",l),L=p("content/tabs",a),v=p("content/top/today/btn_extra",l),M((D=e((S=class extends u{constructor(...t){super(...t),this.userApi=App.apis.user,this.clubApi=App.apis.club,this.agentApi=App.apis.agent,i(this,"lbToday",D,this),i(this,"lbTotal",x,this),i(this,"lbPNum",V,this),i(this,"lbPercent",I,this),i(this,"back",O,this),i(this,"ScrollView",U,this),i(this,"popNode",k,this),i(this,"edit",G,this),i(this,"title",H,this),i(this,"btnSure",R,this),i(this,"btnCancel",B,this),i(this,"btnOpt",j,this),i(this,"btnExtra",F,this),i(this,"tabs",Y,this),i(this,"contentTitleNode",K,this),this.datas=[],this.isLoading=!1,this.curSelectType=0,this.crtPage=0,this.totalPage=0,this.targetUid=0,this.userData=null}static getPrefabUrl(){return"prefabs/ClubProfitView"}onLoad(){super.onLoad(),this.onN(this.back,l.EventType.TOUCH_END,this.onClose),this.onN(this.btnSure,l.EventType.TOUCH_END,(()=>{if(this.isLoading)return;if(App.globalAudio.playGlobalEffect(c.audioPath.button),this.edit.string.length<1)return void App.tips.show("请输入操作数量");let t=parseInt(this.edit.string);(isNaN(t)||t<=0)&&App.tips.show("请输入正确的操作数量")})),this.onN(this.btnCancel,l.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button),this.popNode.active=!1,this.edit.string=""})),this.onN(this.btnOpt,l.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button),this.popNode.active=!0,this.edit.string=""})),this.onN(this.btnExtra,l.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button),this.popNode.active=!0,this.edit.string=""})),App.utils.addListRule(this.node,this.ScrollView,"ClubProfitView","onShowItemList","","renderEvent"),App.utils.addCheckRule(this.node,this.tabs,"ClubProfitView","onTab","","checkEvents"),this.ScrollView.numItems=this.datas.length}show(t){super.show(t),this.title.string=`${t.username}的红利`,this.targetUid=t.id}onTab(t){App.globalAudio.playGlobalEffect(c.audioPath.button);let e=this.tabs.toggleItems.indexOf(t);e>=0&&(this.curSelectType=e,this.crtPage=1)}onClose(){App.globalAudio.playGlobalEffect(c.audioPath.close),this.close()}onDestroy(...t){super.onDestroy()}onRecord(){this.isLoading||(App.loading.show(""),this.isLoading=!0)}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.datas[e]);let i=t.getComponent(h);null==i&&(i=t.addComponent(h));let n=this.datas[e];i.setData(n)}}).prototype,"lbToday",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(S.prototype,"lbTotal",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(S.prototype,"lbPNum",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"lbPercent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(S.prototype,"back",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(S.prototype,"ScrollView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(S.prototype,"popNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(S.prototype,"edit",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(S.prototype,"title",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(S.prototype,"btnSure",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(S.prototype,"btnCancel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(S.prototype,"btnOpt",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(S.prototype,"btnExtra",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(S.prototype,"tabs",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(S.prototype,"contentTitleNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=S))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/ClubRoomItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Utils.ts","./CommonData.ts","./UserData.ts"],(function(e){"use strict";var t,i,r,a,n,l,o,s,u,m,c,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e.Node,n=e.Label,l=e.Sprite,o=e._decorator},function(e){s=e.default},function(e){u=e.inject},function(e){m=e.default},function(e){c=e.HallModelTableState},function(e){b=e.UserDataEn}],execute:function(){var h,p,f,g,y,d,v,D,w,N,C,T,z,M,S,R,_,B,x,E,I,U,F,P,k,A,H,J,L,O,j,Z,G,K;r._RF.push({},"16265uSrplLkZ4og6eKCOS2","ClubRoomItem",void 0);const{ccclass:W,property:Y}=o;e("default",(h=u("create",a),p=u("normal",a),f=u("normal/roomNumber",n),g=u("normal/roomDesc",l),y=u("normal/roomDesc/desc",n),d=u("normal/pool",a),v=u("normal/room_btn_enter",a),D=u("normal/status/free",a),w=u("normal/status/playing",a),N=u("normal/dtime",n),C=u("normal/score/value",n),T=u("normal/time/value",n),z=u("normal/member/value",n),M=u("normal/roomMy",a),S=u("normal/roomJoin",a),R=u("normal/players",a),W((x=t((B=class extends s{constructor(...e){super(...e),i(this,"create",x,this),i(this,"normal",E,this),i(this,"labNumber",I,this),i(this,"sprRoomDesc",U,this),i(this,"labRoomDesc",F,this),i(this,"pool",P,this),i(this,"btnEnter",k,this),i(this,"nFree",A,this),i(this,"nPlaying",H,this),i(this,"labDTime",J,this),i(this,"labScore",L,this),i(this,"labTime",O,this),i(this,"labMemberN",j,this),i(this,"roomMy",Z,this),i(this,"roomJoin",G,this),i(this,"players",K,this),this._data=null,this._bundle=null}set bundle(e){this._bundle=e}get bundle(){return this._bundle}setData(e){var t;if(e.isCreate)return this.create.active=!0,void(this.normal.active=!1);this.create.active=!1,this.normal.active=!0,this._data=e,this.labScore.string=m.getScore(e.pi,0)+"/"+m.getScore(e.mango,0),this.labMemberN.string=e.sitDownCount+"/"+e.seatMax,this.labTime.string=Math.floor(e.gameTime/60)+"分钟",this.labNumber.string=m.padLeft(e.tableNo,6),this.sprRoomDesc.grayscale=!e.diwang,this.labRoomDesc.string=e.diwang?"地九王":"普通",this.pool.active=!1,this.nFree.active=e.tableState==c.WAIT||e.tableState==c.READY||null==e.tableState,this.nPlaying.active=e.tableState==c.GAME;var i=b.getUserData().id;this.roomMy.active=e.createUserId==i,this.roomJoin.active=e.isMy&&e.createUserId!=i;for(const e of this.players.children)e.active=!1;null==(t=e.palyers)||t.forEach((t=>{this.players.getChildByName("player"+(e.palyers.indexOf(t)+1)).active=!0,this.players.getChildByName("player"+(e.palyers.indexOf(t)+1)).getChildByName("sprHeadBg").getChildByName("mask").getChildByName("sprHead").getComponent(l).loadRemoteImage({url:t.avatar+"?t="+(new Date).getTime(),view:this,defaultBundle:this.bundle,isNeedCache:!0}),this.players.getChildByName("player"+(e.palyers.indexOf(t)+1)).getChildByName("txtName").getComponent(n).string=t.userName})),this.unscheduleAllCallbacks(),this.labDTime.string="剩余:"+this.convertDate(e.remainTime),e.remainTime!=e.gameTime&&this.schedule((()=>{!this.node||e.remainTime<=0||(this.labDTime.string="剩余:"+this.convertDate(e.remainTime),e.remainTime>0&&e.remainTime--)}),1)}convertDate(e){let t=Math.floor(e/60),i=t<10?"0"+t:""+t,r=Math.floor(e%3600%60);return i+":"+(r<10?"0"+r:""+r)}addZero(e){return e<10?"0"+e:e+""}}).prototype,"create",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(B.prototype,"normal",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(B.prototype,"labNumber",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(B.prototype,"sprRoomDesc",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(B.prototype,"labRoomDesc",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(B.prototype,"pool",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(B.prototype,"btnEnter",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(B.prototype,"nFree",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(B.prototype,"nPlaying",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(B.prototype,"labDTime",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(B.prototype,"labScore",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"labTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(B.prototype,"labMemberN",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(B.prototype,"roomMy",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(B.prototype,"roomJoin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(B.prototype,"players",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=B))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/ClubView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GivePage.ts","./DiamondPage.ts","./MembersPage.ts","./ScorePage.ts","./ContributionPage.ts","./PartnerPage.ts","./UIView.ts","./Decorators.ts","./Config.ts","./UserData.ts"],(function(e){"use strict";var t,n,i,a,o,r,s,l,u,c,p,b,g,f,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Node,o=e.ToggleContainer,r=e._decorator},function(e){s=e.default},function(e){l=e.default},function(e){u=e.default},function(e){c=e.default},function(e){p=e.default},function(e){b=e.default},function(e){g=e.default},function(e){f=e.inject},function(e){d=e.Config},function(e){h=e.UserDataEn}],execute:function(){var m,P,C,y,w,v,z,D,k,E,A,T,U,V,_,L,R,G,N,j,x;i._RF.push({},"7f616znwo9PIYl3vT69RECn","ClubView",void 0);const{ccclass:F,property:H}=r;e("default",(m=F("ClubView"),P=f("topLayout/news",a),C=f("content/tabs",o),y=f("content/pages",a),w=f("content/pages/give",a),v=f("content/pages/diamond",a),z=f("content/pages/members",a),D=f("content/pages/score",a),k=f("content/pages/contribution",a),E=f("content/pages/partner",a),m((U=t((T=class extends g{constructor(...e){super(...e),this.userApi=App.apis.user,n(this,"back",U,this),n(this,"tabs",V,this),n(this,"pages",_,this),n(this,"givePage",L,this),n(this,"diamondPage",R,this),n(this,"membersPage",G,this),n(this,"scorePage",N,this),n(this,"contributionPage",j,this),n(this,"partnerPage",x,this)}static getPrefabUrl(){return"prefabs/ClubView"}onLoad(){console.log("点击后的token:"+h.getUserData().token),super.onLoad(),this.onN(this.back,a.EventType.TOUCH_END,this.onClose),App.utils.addCheckRule(this.node,this.tabs,"ClubView","onTab","","checkEvents"),this.givePage.addComponent(s),this.diamondPage.addComponent(l),this.membersPage.addComponent(u),this.scorePage.addComponent(c),this.contributionPage.addComponent(p),this.partnerPage.addComponent(b)}onClose(){App.globalAudio.playGlobalEffect(d.audioPath.close),this.close()}onTab(e){App.globalAudio.playGlobalEffect(d.audioPath.button),this.pages.children.forEach((t=>{t.active=e.node.name==t.name}))}}).prototype,"back",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(T.prototype,"tabs",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(T.prototype,"pages",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"givePage",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(T.prototype,"diamondPage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"membersPage",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"scorePage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(T.prototype,"contributionPage",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"partnerPage",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=T))||A));i._RF.pop()}}}));

System.register("chunks:///_virtual/ContributionPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./List.ts","./ContributionPageItem.ts","./Decorators.ts","./Config.ts"],(function(t){"use strict";var i,e,o,n,l,r,a,u,s,b,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Label,l=t.Node,r=t._decorator},function(t){a=t.default},function(t){u=t.default},function(t){s=t.ContributionPageItem},function(t){b=t.inject},function(t){c=t.Config}],execute:function(){var p,h,g,f,d,m,C,y,P,_,w,S,z,L,A,T,D,E,N,v,I,R,V,W,$,G,H,O,j,k,x;o._RF.push({},"8d62fONeNJBgKPuJ+5kpEmd","ContributionPage",void 0);const{ccclass:B,property:F}=r;t("default",(p=B("ContributionPage"),h=b("top/lb_total_score",n),g=b("top/lb_total_partner_cut",n),f=b("top/lb_partner_no_cut",n),d=b("mid/lb_cost",n),m=b("mid/lb_total_cost",n),C=b("ScrollView",u),y=b("bottom/lb_total_day",n),P=b("bottom/lb_winlose",n),_=b("bottom/lb_chenpi",n),w=b("bottom/lb_supao",n),S=b("bottom/lb_winlose_con",n),z=b("bottom/lb_page",n),L=b("bottom/pager_bg/sub",l),A=b("bottom/pager_bg/sub",l),p((E=i((D=class extends a{constructor(...t){super(...t),this.userApi=App.apis.user,e(this,"lbTotalScore",E,this),e(this,"lbTotalPartCut",N,this),e(this,"lbPartnerNoCut",v,this),e(this,"lbDCost",I,this),e(this,"lbTotalCost",R,this),e(this,"ScrollView",V,this),e(this,"lbTotalDay",W,this),e(this,"lbWinlose",$,this),e(this,"lbChenpi",G,this),e(this,"lbSupao",H,this),e(this,"lbWinloseCon",O,this),e(this,"lbPage",j,this),e(this,"btnSub",k,this),e(this,"btnAdd",x,this),this.datas=[],this.isLoading=!1,this.crtPage=0,this.pageCount=0,this.totalCount=0}onLoad(){super.onLoad(),this.onRecord(1),this.onN(this.btnAdd,l.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button),this.crtPage++,this.lbPage.string=`${this.crtPage}/${this.totalCount}`})),this.onN(this.btnSub,l.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button),this.crtPage--,this.lbPage.string=`${this.crtPage}/${this.totalCount}`})),App.utils.addListRule(this.node,this.ScrollView,"ContributionPage","onShowItemList","","renderEvent"),this.ScrollView.numItems=this.datas.length}onEnable(){}onRecord(t=1){this.isLoading}onShowItemList(t,i){Log.d("====>>>>onShowItemList: ",i,this.datas[i]);let e=t.getComponent(s);null==e&&(e=t.addComponent(s));let o=this.datas[i];e.setData(o),i!=this.totalCount-1&&i==this.crtPage*this.pageCount-1&&this.onRecord(this.crtPage+1)}onSelectItemList(t,i,e,o){t&&(App.globalAudio.playGlobalEffect(c.audioPath.button),Log.d("====>>>>点击了: ",i))}}).prototype,"lbTotalScore",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(D.prototype,"lbTotalPartCut",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(D.prototype,"lbPartnerNoCut",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(D.prototype,"lbDCost",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(D.prototype,"lbTotalCost",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(D.prototype,"ScrollView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(D.prototype,"lbTotalDay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(D.prototype,"lbWinlose",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(D.prototype,"lbChenpi",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(D.prototype,"lbSupao",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(D.prototype,"lbWinloseCon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(D.prototype,"lbPage",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(D.prototype,"btnSub",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(D.prototype,"btnAdd",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=D))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/ContributionPageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts"],(function(i){"use strict";var t,e,n,o,l,r,s;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){n=i.cclegacy,o=i.Label,l=i._decorator},function(i){r=i.default},function(i){s=i.inject}],execute:function(){var u,a,b,c,p,h,g,f,m,d,C,w,v,y,_,z,S;n._RF.push({},"5f778M7n7hDVI+Pn/0SimQE","ContributionPageItem",void 0);const{ccclass:D,property:P}=l;i("ContributionData",class{constructor(){this.nick=void 0,this.winlose=void 0,this.chenpi=void 0,this.winloseCon=void 0,this.supao=void 0,this.spend=void 0,this.time=void 0}});i("ContributionPageItem",(u=D("ContributionPageItem"),a=s("lb_nick",o),b=s("lb_winlose",o),c=s("lb_chenpi",o),p=s("lb_winlose_con",o),h=s("lb_supao",o),g=s("lb_spend",o),f=s("lb_time",o),u((C=t((d=class extends r{constructor(...i){super(...i),e(this,"lbChangeNum",C,this),e(this,"lbWinlose",w,this),e(this,"lbChenpi",v,this),e(this,"lbWinLoseCon",y,this),e(this,"lbSupao",_,this),e(this,"lbSpend",z,this),e(this,"lbTime",S,this)}setData(i){this.lbChangeNum.string=i.nick,this.lbWinlose.string=i.winlose,this.lbChenpi.string=i.chenpi,this.lbWinLoseCon.string=i.winloseCon,this.lbSupao.string=i.supao,this.lbSpend.string=i.spend,this.lbTime.string=i.time}}).prototype,"lbChangeNum",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(d.prototype,"lbWinlose",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(d.prototype,"lbChenpi",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(d.prototype,"lbWinLoseCon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(d.prototype,"lbSupao",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(d.prototype,"lbSpend",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(d.prototype,"lbTime",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=d))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/CreateClubRoomView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./HallModel.ts","./Utils.ts","./Config.ts","./UserData.ts","./CreateRoomSlider.ts"],(function(t){"use strict";var e,i,n,o,r,l,s,a,u,c,h,p,g,b,E,d,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,r=t.Label,l=t.EditBox,s=t.ToggleContainer,a=t.Toggle,u=t._decorator},function(t){c=t.default},function(t){h=t.inject},function(t){p=t.HallModel},function(t){g=t.default},function(t){b=t.Config},function(t){E=t.UserDataEn},function(t){d=t.default,_=t.EmCreateRoomSlider}],execute:function(){var R,f,N,m,A,O,T,I,C,y,D,L,w,S,U,P,F,G,M,z,x,v,B,k,H,K,V,X,Y,j,Q,W;t("CreateErrCode",void 0),n._RF.push({},"2dd964l6EhPp5xrhhXgbzW4","CreateClubRoomView",void 0);const{ccclass:q,property:J}=u;let Z;t("default",(R=h("topLayout/news",o),f=h("content/button",o),N=h("content/fee",r),m=h("content/body/psw/eb_psw",l),A=h("content/body/pi",o),O=h("content/body/sm/togs",s),T=h("content/body/auto/togs",s),I=h("content/body/ban/togs",s),C=h("content/body/pnum",o),y=h("content/body/option/lb_diamond",r),D=h("content/body/option/tog_gps",a),L=h("content/body/option/tog_dl",a),w=h("content/body/option/tog_mang",a),S=h("content/body/option/tog_fhp",a),U=h("content/body/option/tog_xhx",a),q((G=e((F=class extends c{constructor(...t){super(...t),i(this,"btnExit",G,this),i(this,"btnCreate",M,this),i(this,"labFee",z,this),i(this,"editPsw",x,this),i(this,"nPi",v,this),i(this,"togSM",B,this),i(this,"togAuto",k,this),i(this,"togEndTime",H,this),i(this,"nPNum",K,this),i(this,"labDiamond",V,this),i(this,"togGps",X,this),i(this,"togDl",Y,this),i(this,"togMang",j,this),i(this,"togFhp",Q,this),i(this,"togXhx",W,this),this.clubId=0,this.currentPi=1}static getPrefabUrl(){return"prefabs/CreateClubRoom"}onLoad(){super.onLoad(),this.onN(this.btnExit,o.EventType.TOUCH_END,this.close),this.onN(this.btnCreate,o.EventType.TOUCH_END,this.createRoom),this.nPi.addComponent(d).init({type:_.GearSp,values:[0,1,2,3,4,5,6],callback:t=>this.onPiSelect(t)}),this.nPNum.addComponent(d).init({type:_.Gear,values:[0,1,2,3],valuesDesc:["2人","4人","6人","8人"]}),this.onPiSelect(0),this.labDiamond.string=E.getUserData().diamonds+""}show(t){super.show(t),this.clubId=t.id}convertData(t){const e=t.split(","),i=[];return e.forEach((t=>i.push(Number(t)))),i}convertDesc(t,e,i){const n=t.split(","),o=[];return n.forEach((t=>{"0"==t.trim()?o.push(i):o.push(e.replace("%s",t))})),o}onPiSelect(t){this.currentPi=[1,2,5,10,20,50,100][t],Log.d("当前底皮:"+this.currentPi)}convertPiData(t){const e=[];for(let i=0;i<t.length;i++)e.push(i);return e}getSMNum(){let t=[2,3,4,5];for(let e=0;e<this.togSM.toggleItems.length;e++)if(this.togSM.toggleItems[e].isChecked)return t[e];return 2}getAutoNum(){let t=[3,4,5,6,7];for(let e=0;e<this.togAuto.toggleItems.length;e++)if(this.togAuto.toggleItems[e].isChecked)return t[e];return 3}getTimeNum(){let t=[1800,2400,2700,3e3,3600];for(let e=0;e<this.togEndTime.toggleItems.length;e++)if(this.togEndTime.toggleItems[e].isChecked)return t[e];return t[0]}createRoom(){if(this.checkInput()){this.nPi.getComponent(d).value;this.editPsw.string.trim();App.loading.show("创建房间中"),p.createDesk({pi:this.currentPi,raiseTimes:this.getSMNum(),leastUsers:this.getAutoNum(),gameTime:this.getTimeNum(),sitLeastTime:0,gpsip:this.togGps.isChecked,diwang:this.togDl.isChecked,xiumang:this.togMang.isChecked,fanghuopai:this.togFhp.isChecked,xunhuan:this.togXhx.isChecked,clubId:this.clubId}).then((t=>{App.loading.hide(),t.code==Z.OK?(this.close(),App.alert.show("创建成功，房间号："+g.padLeft(t.data.tableNo)+"！"),App.apis.user.getUserInfo(),p.refreshTableList(2,this.clubId)):t.code==Z.NOT_ENOUGH_COIN?App.alert.show({text:"金币不足！",confirmCb:()=>{App.globalAudio.playGlobalEffect(b.audioPath.button)}}):App.alert.show({text:"创建失败，请稍后重试",confirmCb:()=>{App.globalAudio.playGlobalEffect(b.audioPath.button)}})}))}}checkInput(){let t=!0,e=null;return this.editPsw.string&&6!=this.editPsw.string.length&&(t=!1,e="请输入六位数房间密码"),t||App.tips.show(e),t}}).prototype,"btnExit",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(F.prototype,"btnCreate",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(F.prototype,"labFee",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(F.prototype,"editPsw",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(F.prototype,"nPi",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(F.prototype,"togSM",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(F.prototype,"togAuto",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(F.prototype,"togEndTime",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(F.prototype,"nPNum",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(F.prototype,"labDiamond",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(F.prototype,"togGps",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(F.prototype,"togDl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"togMang",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(F.prototype,"togFhp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(F.prototype,"togXhx",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=F))||P));!function(t){t[t.OK=0]="OK",t[t.ERROR_PARAM=1]="ERROR_PARAM",t[t.ERROR_TOKEN=2]="ERROR_TOKEN",t[t.INVALID_TOKEN=3]="INVALID_TOKEN",t[t.ERROR_REPEAT=4]="ERROR_REPEAT",t[t.BET_CONFIG_ERROR=5]="BET_CONFIG_ERROR",t[t.CONFIG_ERROR=6]="CONFIG_ERROR",t[t.NOT_ENOUGH_COIN=10]="NOT_ENOUGH_COIN",t[t.ALREADY_IN_GAME=11]="ALREADY_IN_GAME",t[t.USER_DISABLE=12]="USER_DISABLE",t[t.TABLE_NOT_FOUND=13]="TABLE_NOT_FOUND",t[t.SEAT_FAIL=14]="SEAT_FAIL",t[t.ALREADY_IN_TABLE=15]="ALREADY_IN_TABLE",t[t.ENTER_FAIL=16]="ENTER_FAIL",t[t.ERROR_STATUS=17]="ERROR_STATUS",t[t.MAX_TIMES=18]="MAX_TIMES",t[t.INVALID_BET=19]="INVALID_BET",t[t.BET_NOT_FOUND=20]="BET_NOT_FOUND",t[t.CASH_OUT_FAIL=21]="CASH_OUT_FAIL",t[t.ERROR_ENTER_GAME=22]="ERROR_ENTER_GAME",t[t.USER_NOT_ONLINE=23]="USER_NOT_ONLINE",t[t.USER_LOADING=24]="USER_LOADING",t[t.USER_UNLOADING=25]="USER_UNLOADING",t[t.FREQUENT_OPERATION=26]="FREQUENT_OPERATION",t[t.COIN_LOCK=27]="COIN_LOCK"}(Z||(Z=t("CreateErrCode",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/DiamondPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./List.ts","./DiamondPageItem.ts","./Decorators.ts","./Config.ts"],(function(t){"use strict";var e,i,n,o,a,r,l,s,u,c,d,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,a=t.EditBox,r=t.Label,l=t._decorator},function(t){s=t.default},function(t){u=t.default},function(t){c=t.DiamondPageItem},function(t){d=t.inject},function(t){p=t.Config}],execute:function(){var h,b,g,f,m,y,D,P,w,L,S,C,I;n._RF.push({},"9270d9ryp5OzoOvyry1ub0p","DiamondPage",void 0);const{ccclass:E,property:v}=l;t("default",(h=E("DiamondPage"),b=d("btn_create",o),g=d("bg/EditBox",a),f=d("Node/lb_diamond",r),m=d("lb",r),y=d("content/ScrollView",u),h((w=e((P=class extends s{constructor(...t){super(...t),this.userApi=App.apis.user,i(this,"btnSearch",w,this),i(this,"ebId",L,this),i(this,"lbDiamond",S,this),i(this,"lbOPCount",C,this),i(this,"ScrollView",I,this),this.datas=[],this.isLoading=!1,this.crtPage=0,this.pageCount=0,this.totalCount=0}onLoad(){super.onLoad(),this.onN(this.btnSearch,o.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(p.audioPath.button),this.ebId.string.length<1&&App.tips.show("请输入俱乐部ID")})),this.onRecord(1),App.utils.addListRule(this.node,this.ScrollView,"DiamondPage","onShowItemList","","renderEvent"),this.ScrollView.numItems=this.datas.length}onEnable(){}onRecord(t=1){this.isLoading}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.datas[e]);let i=t.getComponent(c);null==i&&(i=t.addComponent(c));let n=this.datas[e];i.setData(n),e!=this.totalCount-1&&e==this.crtPage*this.pageCount-1&&this.onRecord(this.crtPage+1)}onSelectItemList(t,e,i,n){t&&(App.globalAudio.playGlobalEffect(p.audioPath.button),Log.d("====>>>>点击了: ",e))}}).prototype,"btnSearch",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(P.prototype,"ebId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(P.prototype,"lbDiamond",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(P.prototype,"lbOPCount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(P.prototype,"ScrollView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=P))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/DiamondPageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts"],(function(e){"use strict";var t,i,r,n,l,o,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.Label,l=e._decorator},function(e){o=e.default},function(e){u=e.inject}],execute:function(){var a,s,b,c,p,m,h,f,g,d,v,D,y,N,_;r._RF.push({},"f09a7X+3RRP974hARxvDQ0k","DiamondPageItem",void 0);const{ccclass:z,property:P}=l;e("DiamondData",class{constructor(){this.changeNum=void 0,this.op=void 0,this.oper=void 0,this.boper=void 0,this.leftNum=void 0,this.time=void 0}});e("DiamondPageItem",(a=z("DiamondPageItem"),s=u("lb_num",n),b=u("lb_op",n),c=u("lb_oper",n),p=u("lb_boper",n),m=u("lb_left",n),h=u("lb_time",n),a((d=t((g=class extends o{constructor(...e){super(...e),i(this,"lbChangeNum",d,this),i(this,"lbop",v,this),i(this,"lbOper",D,this),i(this,"lbBOper",y,this),i(this,"lbLeftNum",N,this),i(this,"lbTime",_,this)}setData(e){this.lbChangeNum.string=e.changeNum,this.lbop.string=e.op,this.lbOper.string=e.oper,this.lbBOper.string=e.boper,this.lbLeftNum.string=e.leftNum,this.lbTime.string=e.time}}).prototype,"lbChangeNum",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(g.prototype,"lbop",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(g.prototype,"lbOper",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(g.prototype,"lbBOper",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(g.prototype,"lbLeftNum",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(g.prototype,"lbTime",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GivePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./UserData.ts","./EventComponent.ts","./Decorators.ts","./Config.ts","./ClubInfoData.ts","./Macros.ts","./Utils.ts","./List.ts","./GivePageItem.ts"],(function(t){"use strict";var e,i,n,s,o,a,r,l,u,d,p,h,c,b,g,f,A,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,o=t.Sprite,a=t.EditBox,r=t.Label,l=t._decorator},function(t){u=t.UserInfoEvent},function(t){d=t.UserDataEn},function(t){p=t.default},function(t){h=t.inject},function(t){c=t.Config},function(t){b=t.ClubInfoDataEn},function(t){g=t.Macro},function(t){f=t.default},function(t){A=t.default},function(t){m=t.GivePageItem}],execute:function(){var v,w,S,I,D,L,y,E,C,_,R,N,P,z,U,G,H,T,V,B,k;n._RF.push({},"f0ebc3w4n1HKpacdzJQ5CLK","GivePage",void 0);const{ccclass:x,property:M}=l;t("default",(v=x("GivePage"),w=h("btn_create",s),S=h("result/btn_give",s),I=h("result/icon_head",o),D=h("bg/EditBox",a),L=h("result/bg_give/EditBox",a),y=h("result/lb_nickname",r),E=h("result/lb_id",r),C=h("result",s),_=h("ScrollView",A),v((P=e((N=class extends p{constructor(...t){super(...t),this.userApi=App.apis.user,this.clubApi=App.apis.club,i(this,"btnSearch",P,this),i(this,"btnSend",z,this),i(this,"spHead",U,this),i(this,"ebId",G,this),i(this,"ebSend",H,this),i(this,"lbNick",T,this),i(this,"lbID",V,this),i(this,"nResult",B,this),i(this,"ScrollView",k,this),this.datas=[],this.isLoading=void 0,this.currentId=null}onLoad(){super.onLoad(),this.onN(this.btnSearch,s.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button),this.ebId.string.length<1?App.tips.show("请输入玩家ID"):(this.isLoading=!0,App.loading.show(""),this.userApi.searchClubMember(b.getClubData().id.toString(),this.ebId.string).then((t=>{var e,i,n,s;(this.isLoading=!1,App.loading.hide(),t.data)?(this.nResult.active=!0,this.spHead.loadRemoteImage({url:null==(e=t.data)?void 0:e.avatar,view:App.uiManager.getView("ClubView"),defaultBundle:g.BUNDLE_ClubRoom,isNeedCache:!0}),this.lbNick.string=null==(i=t.data)?void 0:i.username,this.lbID.string=null==(n=t.data)?void 0:n.id.toString(),this.currentId=null==(s=t.data)?void 0:s.id):(this.nResult.active=!1,this.currentId=null,App.tips.show("没有记录"))})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))})),this.onN(this.btnSend,s.EventType.TOUCH_END,(()=>{if(App.globalAudio.playGlobalEffect(c.audioPath.button),this.ebSend.string.length<1)return void App.tips.show("请输入正确的数量");let t=parseInt(this.ebSend.string);t<=0?App.tips.show("请输入正确的数量"):this.doDonate(this.currentId.toString(),t.toString())})),App.utils.addListRule(this.node,this.ScrollView,"GivePage","onShowItemList","","renderEvent")}onEnable(){this.doRecord()}doDonate(t,e){var i=f.convertToServerScore(Number(e))+"";App.loading.show(""),this.userApi.donateNoPass(t,i).then((t=>{App.loading.hide(),this.ebSend.string="",App.tips.show("赠送成功"),d.getUserData().balance-=100*Number(e),App.event.emit(u.USER_DATA_UPDATA),this.doRecord()})).catch((t=>{this.ebSend.string="",App.tips.show(t.message),App.loading.hide()}))}doRecord(){this.isLoading||(this.isLoading=!0,App.loading.show(""),this.userApi.donateRecord().then((t=>{this.isLoading=!1,App.loading.hide(),this.datas=t.data,this.ScrollView.numItems=this.datas.length})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.datas[e]);let i=t.getComponent(m);null==i&&(i=t.addComponent(m));let n=this.datas[e];i.setData(n)}}).prototype,"btnSearch",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(N.prototype,"btnSend",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(N.prototype,"spHead",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(N.prototype,"ebId",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(N.prototype,"ebSend",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(N.prototype,"lbNick",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(N.prototype,"lbID",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(N.prototype,"nResult",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(N.prototype,"ScrollView",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=N))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/GivePageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Utils.ts"],(function(e){"use strict";var i,t,r,n,l,s,a,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.Label,l=e._decorator},function(e){s=e.default},function(e){a=e.inject},function(e){c=e.default}],execute:function(){var o,u,b,d,h,p,m,f,g,v,_,D,y,I;r._RF.push({},"b7b4avuhV5E+4xIozDNPJ1p","GivePageItem",void 0);const{ccclass:S,property:k}=l;e("GiveData",class{constructor(){this.username=void 0,this.extra_id=void 0,this.remark=void 0,this.created_at=void 0,this.money=void 0,this.user_id=void 0,this.extra_username=void 0}});e("GivePageItem",(o=a("sender/lb_nickname",n),u=a("sender/lb_id",n),b=a("reciver/lb_nickname",n),d=a("reciver/lb_id",n),h=a("lb_score",n),p=a("lb_time",n),S((g=i((f=class extends s{constructor(...e){super(...e),this.club=App.apis.club,t(this,"lbSenderNick",g,this),t(this,"lbSenderID",v,this),t(this,"lbRecNick",_,this),t(this,"lbRecID",D,this),t(this,"lbScore",y,this),t(this,"lbTime",I,this),this.data=null}setData(e){this.data=e,this.lbTime.string=e.created_at.replace(" ","\n"),this.lbScore.string=c.getScore(e.money),this.lbSenderNick.string=e.username,this.lbSenderID.string=`ID:${e.user_id}`,this.lbRecNick.string=e.extra_username,this.lbRecID.string=`ID:${e.extra_id}`}}).prototype,"lbSenderNick",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(f.prototype,"lbSenderID",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(f.prototype,"lbRecNick",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(f.prototype,"lbRecID",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(f.prototype,"lbScore",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(f.prototype,"lbTime",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=f))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/MembersPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./EventComponent.ts","./List.ts","./MembersPageItem.ts","./Config.ts","./ClubInfoData.ts"],(function(t){"use strict";var e,i,s,n,o,a,r,l,h,u,d,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,n=t.Node,o=t.EditBox,a=t.Label,r=t._decorator},function(t){l=t.inject},function(t){h=t.default},function(t){u=t.default},function(t){d=t.MembersPageItem},function(t){p=t.Config},function(t){c=t.ClubInfoDataEn}],execute:function(){var g,b,m,f,w,C,L,A,S,I,M;s._RF.push({},"94889UBxm5NjapSVBVgED/n","MembersPage",void 0);const{ccclass:P,property:y}=r;t("default",(g=P("MembersPage"),b=l("btn_create",n),m=l("bg/EditBox",o),f=l("lb",a),w=l("ScrollView",u),g((A=e((L=class extends h{constructor(...t){super(...t),this.userApi=App.apis.user,i(this,"btnSearch",A,this),i(this,"ebId",S,this),i(this,"lbMemberCount",I,this),i(this,"ScrollView",M,this),this.datas=[],this.isLoading=!1,this.crtPage=0,this.pageCount=0,this.totalCount=0}onLoad(){super.onLoad(),this.onN(this.btnSearch,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(p.audioPath.button),this.ebId.string.length<1?App.tips.show("请输入ID"):this.searchMember()})),App.utils.addListRule(this.node,this.ScrollView,"MembersPage","onShowItemList","","renderEvent"),this.ScrollView.numItems=this.datas.length}onEnable(){this.onRecord()}onRecord(t=1){this.isLoading||(App.loading.show(""),this.userApi.getClubMembers(c.getClubData().id.toString(),"0").then((t=>{this.isLoading=!1,App.loading.hide(),this.datas=t.data,this.ScrollView.numItems=this.datas.length,this.lbMemberCount.string=`成员:(${this.datas.length})`})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))}searchMember(){this.isLoading||(this.isLoading=!0,App.loading.show(""),this.userApi.searchClubMember(c.getClubData().id.toString(),this.ebId.string).then((t=>{this.isLoading=!1,App.loading.hide(),t.data?this.datas=[t.data]:(this.datas=[],App.tips.show("没有记录")),this.lbMemberCount.string=`成员:(${this.datas.length})`,this.ScrollView.numItems=this.datas.length})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.datas[e]);let i=t.getComponent(d);null==i&&(i=t.addComponent(d));let s=this.datas[e];i.setData(s),e!=this.totalCount-1&&e==this.crtPage*this.pageCount-1&&this.onRecord(this.crtPage+1)}onSelectItemList(t,e,i,s){t&&(App.globalAudio.playGlobalEffect(p.audioPath.button),Log.d("====>>>>点击了: ",e))}}).prototype,"btnSearch",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(L.prototype,"ebId",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(L.prototype,"lbMemberCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(L.prototype,"ScrollView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=L))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/MembersPageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Config.ts","./Macros.ts","./ClubInfoData.ts","./ClubOptView.ts"],(function(t){"use strict";var e,i,n,a,l,o,r,s,u,c,b,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Label,l=t.Button,o=t.Sprite,r=t._decorator},function(t){s=t.default},function(t){u=t.inject},function(t){c=t.Config},function(t){b=t.Macro},function(t){p=t.ClubInfoDataEn},function(t){d=t.default}],execute:function(){var h,f,g,P,m,v,C,y,D,A,M,I,k,w,E,_,S;n._RF.push({},"4cd7cvpgF9GurEh4HPrt5Us","MembersPageItem",void 0);const{ccclass:R,property:z}=r;t("MembersData",class{constructor(){this.username=void 0,this.id=void 0,this.avatar=void 0,this.type=void 0}});t("MembersPageItem",(h=R("MembersPageItem"),f=u("lb_nick",a),g=u("lb_id",a),P=u("btn_cancel",l),m=u("btn_op",l),v=u("btn_del",l),C=u("btn_set",l),y=u("icon_head",o),h((M=e((A=class extends s{constructor(...t){super(...t),this.club=App.apis.club,i(this,"lbNick",M,this),i(this,"lbID",I,this),i(this,"btnCancelPart",k,this),i(this,"btnOp",w,this),i(this,"btnDel",E,this),i(this,"btnSetPart",_,this),i(this,"spHead",S,this),this.data=null}setData(t){this.data=t,this.spHead.loadRemoteImage({url:null==t?void 0:t.avatar,view:App.uiManager.getView("ClubView"),defaultBundle:b.BUNDLE_ClubRoom,isNeedCache:!0}),this.lbNick.string=t.username,this.lbID.string=`ID:${t.id}`,this.btnCancelPart.node.active=0!=t.type,this.btnSetPart.node.active=0==t.type,App.utils.addCheckRule(this.node,this.btnCancelPart,"MembersPageItem","onCancelPart","","clickEvents"),App.utils.addCheckRule(this.node,this.btnSetPart,"MembersPageItem","onSetPart","","clickEvents"),App.utils.addCheckRule(this.node,this.btnDel,"MembersPageItem","onDelPart","","clickEvents"),App.utils.addCheckRule(this.node,this.btnOp,"MembersPageItem","onOpPart","","clickEvents")}onCancelPart(t){App.globalAudio.playGlobalEffect(c.audioPath.button),this.doModPart("0")}onSetPart(t){App.globalAudio.playGlobalEffect(c.audioPath.button),this.doModPart("1")}onDelPart(t){App.globalAudio.playGlobalEffect(c.audioPath.button)}onOpPart(t){App.globalAudio.playGlobalEffect(c.audioPath.button),App.uiManager.open({type:d,bundle:b.BUNDLE_ClubRoom,args:this.data})}doModPart(t){App.loading.show(""),this.club.modClubPartner(p.getClubData().id.toString(),t,this.data.id.toString()).then((e=>{App.loading.hide(),0==e.code&&("0"==t?(this.btnSetPart.node.active=!0,this.btnCancelPart.node.active=!1):(this.btnSetPart.node.active=!1,this.btnCancelPart.node.active=!0))})).catch((t=>{App.loading.hide(),App.tips.show(t.message)}))}}).prototype,"lbNick",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(A.prototype,"lbID",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(A.prototype,"btnCancelPart",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(A.prototype,"btnOp",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(A.prototype,"btnDel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(A.prototype,"btnSetPart",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(A.prototype,"spHead",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=A))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/MyUserItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./Utils.ts","./EventComponent.ts","./Decorators.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,l,u,c,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Label,s=t.Node,a=t._decorator,o=t.Color},function(t){l=t.UserDataEn},function(t){u=t.default},function(t){c=t.default},function(t){h=t.inject}],execute:function(){var p,b,d,f,m,y,g,E,v,D,w,U,z,C,N,x,k,A,_,I,F;n._RF.push({},"8a97dHvpaNJZZ4CAk5mbAAz","MyUserItem",void 0);const{ccclass:S,property:M}=a;t("MyUserItem",(p=S("MyUserItem"),b=h("name",r),d=h("sou",r),f=h("date",r),m=h("time",r),y=h("total",r),g=h("today",r),E=h("update",s),v=h("btnEnter",s),D=h("status",r),p((z=e((U=class extends c{constructor(...t){super(...t),i(this,"txtName",z,this),i(this,"sou",C,this),i(this,"date",N,this),i(this,"time",x,this),i(this,"total",k,this),i(this,"today",A,this),i(this,"operate",_,this),i(this,"btnEnter",I,this),i(this,"status",F,this),this.userData=null,this.operateCb=null,this.clickEnter=null,this.index=null}onLoad(){super.onLoad()}addEvents(){super.addEvents(),this.onN(this.operate,s.EventType.TOUCH_END,this.onSelectUser),this.onN(this.btnEnter,s.EventType.TOUCH_END,this.onClickEnter)}setData(t,e,i,n,r){this.index=e,this.userData=i,this.operateCb=n,this.clickEnter=r;var s=i.register_time.split(" "),a=i.username||"",c=i.id||"";this.txtName.string=App.utils.contentSubRe(a)+"\nID:"+c,this.sou.string=(i.total_hands||0)+"",this.date.string=s[0],this.time.string=s[1],this.total.string=u.getScoreImplicit(i.totalAmount||0),this.today.string=u.getScoreImplicit(i.todayAmount||0);var h=l.getUserData();if(this.operate.active=!(2!==t&&1!==t||2!==h.type&&3!==h.type),this.btnEnter.active=!1,this.status.node.active=!1,1===t){this.status.node.active=!0,"offline"===i.status?(this.status.string="离线",this.status.color=new o("A2B9D8")):i.TableNo?(this.status.string="游戏中",this.status.color=new o("FF8A00"),this.btnEnter.active=!0):(this.status.string="在线",this.status.color=new o("30FF00"))}}onSelectUser(){this.operateCb&&this.operateCb(this.userData,this.index)}onClickEnter(){this.clickEnter&&this.clickEnter(this.userData,this.index)}}).prototype,"txtName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(U.prototype,"sou",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(U.prototype,"date",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(U.prototype,"time",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(U.prototype,"total",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(U.prototype,"today",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(U.prototype,"operate",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(U.prototype,"btnEnter",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(U.prototype,"status",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=U))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/PartnerPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./Config.ts","./EventComponent.ts","./List.ts","./PartnerPageItem.ts","./ClubInfoData.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,l,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t._decorator},function(t){s=t.inject},function(t){a=t.Config},function(t){r=t.default},function(t){l=t.default},function(t){c=t.PartnerPageItem},function(t){u=t.ClubInfoDataEn}],execute:function(){var h,d,p,g,f;n._RF.push({},"75082nmlcpH3qcvuj3JA8xW","PartnerPage",void 0);const{ccclass:m,property:P}=o;t("default",(h=m("PartnerPage"),d=s("ScrollView",l),h((f=e((g=class extends r{constructor(...t){super(...t),this.userApi=App.apis.user,i(this,"ScrollView",f,this),this.datas=[],this.isLoading=!1,this.crtPage=0,this.pageCount=0,this.totalCount=0}onLoad(){super.onLoad(),App.utils.addListRule(this.node,this.ScrollView,"PartnerPage","onShowItemList","","renderEvent"),this.ScrollView.numItems=this.datas.length}onEnable(){this.onRecord()}onRecord(t=1){this.isLoading||(App.loading.show(""),this.userApi.getClubMembers(u.getClubData().id.toString(),"1").then((t=>{this.isLoading=!1,App.loading.hide(),this.datas=t.data,this.ScrollView.numItems=this.datas.length})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.datas[e]);let i=t.getComponent(c);null==i&&(i=t.addComponent(c));let n=this.datas[e];i.setData(n),e!=this.totalCount-1&&e==this.crtPage*this.pageCount-1&&this.onRecord(this.crtPage+1)}onSelectItemList(t,e,i,n){t&&(App.globalAudio.playGlobalEffect(a.audioPath.button),Log.d("====>>>>点击了: ",e))}}).prototype,"ScrollView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=g))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/PartnerPageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Config.ts","./Macros.ts","./ClubDividendView.ts"],(function(t){"use strict";var e,i,n,r,a,l,o,s,u,c,p,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Label,a=t.Button,l=t.Sprite,o=t._decorator},function(t){s=t.default},function(t){u=t.inject},function(t){c=t.Config},function(t){p=t.Macro},function(t){b=t.default}],execute:function(){var d,h,f,g,m,v,D,P,y,_,I,w,C;n._RF.push({},"39335+yJX9DG5/cimm/pr35","PartnerPageItem",void 0);const{ccclass:k,property:z}=o;t("PartnerData",class{constructor(){this.username=void 0,this.id=void 0,this.invite_code=void 0,this.avatar=void 0}});t("PartnerPageItem",(d=k("PartnerPageItem"),h=u("lb_nick",r),f=u("lb_id",r),g=u("lb_sid",r),m=u("btn_op",a),v=u("icon_head",l),d((y=e((P=class extends s{constructor(...t){super(...t),i(this,"lbNick",y,this),i(this,"lbID",_,this),i(this,"lbSID",I,this),i(this,"btnOp",w,this),i(this,"spHead",C,this),this.data=null}setData(t){this.data=t,this.lbNick.string=t.username,this.lbID.string=t.id,this.lbSID.string=t.invite_code,this.spHead.loadRemoteImage({url:t.avatar,view:App.uiManager.getView("ClubView"),defaultBundle:p.BUNDLE_HALL,isNeedCache:!0}),App.utils.addCheckRule(this.node,this.btnOp,"PartnerPageItem","onOpPart","","clickEvents")}onOpPart(t){App.globalAudio.playGlobalEffect(c.audioPath.button),App.uiManager.open({type:b,bundle:p.BUNDLE_ClubRoom,args:this.data})}}).prototype,"lbNick",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(P.prototype,"lbID",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(P.prototype,"lbSID",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(P.prototype,"btnOp",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(P.prototype,"spHead",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=P))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/room",["./ClubDividendView.ts","./MyUserItem2.ts","./ClubMsgItem.ts","./ClubMsgView.ts","./ClubOptItem.ts","./ClubOptView.ts","./ClubProfitItem.ts","./ClubProfitView.ts","./ClubRoomItem.ts","./ClubView.ts","./ContributionPage.ts","./ContributionPageItem.ts","./CreateClubRoomView.ts","./DiamondPage.ts","./DiamondPageItem.ts","./GivePage.ts","./GivePageItem.ts","./MembersPage.ts","./MembersPageItem.ts","./PartnerPage.ts","./PartnerPageItem.ts","./RoomEntry.ts","./RoomView.ts","./ScorePage.ts","./ScorePageItem.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/RoomEntry.ts",["cc","./Entry.ts","./Decorators.ts","./Macros.ts","./CommonData.ts","./BaseModel.ts","./HallModel.ts","./RoomView.ts"],(function(){"use strict";var e,t,n,o,s,c,a,r;return{setters:[function(t){e=t.cclegacy},function(e){t=e.Entry},function(e){n=e.registerEntry},function(e){o=e.Macro},function(e){s=e.CommonData},function(e){c=e.BaseModel},function(e){a=e.HallModel},function(e){r=e.default}],execute:function(){var u;e._RF.push({},"2520743Mx5PGLWBxXdWwc6M","RoomEntry",void 0);n("RoomEntry",o.BUNDLE_ClubRoom,r)(u=class extends t{addNetHandler(){}removeNetHandler(){}loadResources(e){e()}initData(){s.isConnected||(a.conect(),c.initEvents())}pauseMessageQueue(){}resumeMessageQueue(){}});e._RF.pop()}}}));

System.register("chunks:///_virtual/RoomView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./Macros.ts","./Config.ts","./CommonData.ts","./CommonEvent.ts","./List.ts","./HallModel.ts","./UserData.ts","./Broadcast.ts","./ClubRoomItem.ts","./GameView.ts","./CreateClubRoomView.ts","./ClubInfoData.ts","./ClubMsgView.ts","./ClubView.ts","./Utils.ts"],(function(t){"use strict";var e,o,i,n,a,s,r,l,u,b,c,p,h,d,m,f,D,g,R,C,w,E,y,A,T,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,a=t.Label,s=t.Sprite,r=t._decorator,l=t.macro},function(t){u=t.inject},function(t){b=t.Macro},function(t){c=t.Config},function(t){p=t.EmRoomEvent,h=t.CommonData},function(t){d=t.CommonEvent,m=t.UserInfoEvent},function(t){f=t.default},function(t){D=t.HallModel},function(t){g=t.UserDataEn},function(t){R=t.default},function(t){C=t.default},function(t){w=t.default},function(t){E=t.default},function(t){y=t.ClubInfoDataEn},function(t){A=t.default},function(t){T=t.default},function(t){I=t.default}],execute:function(){var _,v,L,N,S,M,U,V,z,G,H,O,P,k,B,$,F,x,j,J,K,W,Q,Z,q,X,Y;i._RF.push({},"06c33/ZuwJFyajrdxw6yRMQ","RoomView",void 0);const{ccclass:tt,property:et}=r;t("default",(_=tt("RoomView"),v=u("room/top_bg/broadcast",n),L=u("room/top_bg/info/nick",a),N=u("room/top_bg/info/id",a),S=u("room/top_bg/diamond/lb_diamond",a),M=u("room/top_bg/gold/lb_gold",a),U=u("room/top_bg/lb_club",a),V=u("room/top_bg/info/head",s),z=u("room/top_bg/btn_refresh",n),G=u("room/btn_mail",n),H=u("room/btn_setting",n),O=u("room/top_bg/btn_back",n),P=u("room/scrollViewRoom",f),_(($=e((B=class extends w{constructor(...t){super(...t),o(this,"broadcast",$,this),o(this,"lbNick",F,this),o(this,"lbId",x,this),o(this,"lbDiamond",j,this),o(this,"lbGold",J,this),o(this,"lbClubInfo",K,this),o(this,"spHead",W,this),o(this,"btnRefresh",Q,this),o(this,"btnMail",Z,this),o(this,"btnSetting",q,this),o(this,"btnBack",X,this),o(this,"scrollViewRoom",Y,this),this.curSelectType=0,this.selectFree=!1,this.currentCID=0,this.roomsData=[],this.renderRoomDatas=[],this.hasEnable=!1}static getPrefabUrl(){return"prefabs/roomView"}onLoad(){super.onLoad(),this.onN(this.btnRefresh,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button)})),this.onN(this.btnMail,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button),App.uiManager.open({type:A,bundle:b.BUNDLE_ClubRoom,args:{clubId:this.currentCID}})})),this.onN(this.btnSetting,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button),App.uiManager.open({type:T,bundle:b.BUNDLE_ClubRoom,args:this.args})})),this.onN(this.btnBack,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(c.audioPath.button),this.close()})),App.event.on(p.Back,(t=>{this.enterTableAuto()}),this.node),App.event.on(d.NETWORK_RECONNECT_START,(t=>{this.unscheduleAllCallbacks()}),this.node),App.event.on(d.NETWORK_RECONNECT_SUCCESS,(t=>{this.refreshTableListRepeat()}),this.node),App.event.on(p.List,(t=>{this.roomsData=h.roomsData,this.updateRoomList()}),this.node),App.event.on(p.Add,(t=>{this.roomsData=h.roomsData,this.updateRoomList()}),this.node),App.event.on(p.Remove,(t=>{this.roomsData=this.roomsData||[],this.roomsData=this.roomsData.filter((e=>e.tableId!=t.tableId)),this.updateRoomList()}),this.node),App.event.on(p.Update,(t=>{this.updateRoomList()}),this.node),App.event.on(d.GAME_NOTICE,(()=>{this.broadcast.getComponent(R).fetchNotice()}),this.node),App.utils.addListRule(this.node,this.scrollViewRoom,"RoomView","onShowItemList","","renderEvent"),App.utils.addListRule(this.node,this.scrollViewRoom,"RoomView","onSelectItemList","","selectedEvent"),this.roomsData=h.roomsData,this.updateRoomList(),this.enterTableAuto(),this.refreshTableListRepeat();let t=g.getUserData();this.lbId.string=`ID:${t.id}`,this.lbNick.string=`${t.username}`,this.lbDiamond.string=`${t.diamonds}`,this.lbGold.string=`${t.balance}`,this.spHead.loadRemoteImage({url:`${t.avatar}`,view:this,defaultBundle:b.BUNDLE_HALL,isNeedCache:!0}),this.broadcast.addComponent(R),App.event.on(m.USER_DATA_UPDATA,(()=>{this.lbGold.string=I.getScore(g.getUserData().balance)+""}),this.node)}show(t){this.currentCID=y.getClubData().id,this.lbClubInfo.string=`${y.getClubData().name}:${this.currentCID}`}onEnable(){this.hasEnable?(this.scrollViewRoom.scrollTo(0,0),D.refreshTableList(2,this.currentCID)):this.hasEnable=!0}enterTableAuto(){h.currentTableId>0&&(D.enterTable({isTalbeNo:!1,tableId:h.currentTableId,password:"",locate:JSON.stringify(App.stageData.GPSLocation)}),h.currentTableId=-1)}refreshTableListRepeat(){this.schedule((()=>{D.refreshTableList(2,this.currentCID)}),5,l.REPEAT_FOREVER,5)}updateRoomList(t=!1){if(!this.node.activeInHierarchy)return;this.renderRoomDatas=[];const e=[100,500,2e3];this.roomsData=this.roomsData||[],this.roomsData.forEach((t=>{this.selectFree&&t.seatMax<=t.sitDownCount||1==this.curSelectType&&t.pi>=e[1]||2==this.curSelectType&&(t.pi>=e[2]||t.pi<e[1])||3==this.curSelectType&&t.pi<e[2]||(4!=this.curSelectType||t.isMy)&&this.renderRoomDatas.push(t)})),this.renderRoomDatas.sort(((t,e)=>{if(t.isMy!=e.isMy)return t.isMy?-1:1;{let o=t.tableState<=1&&t.sitDownCount>=1,i=e.tableState<=1&&e.sitDownCount>=1;return o&&i?t.sitDownCount>e.sitDownCount?-1:t.sitDownCount<e.sitDownCount?1:t.pi<e.pi?-1:t.pi>e.pi?1:0:o?-1:i?1:t.pi<e.pi?-1:t.pi>e.pi?1:0}})),t&&this.scrollViewRoom.scrollTo(0,0),this.renderRoomDatas.push({isCreate:!0}),this.scrollViewRoom.numItems=this.renderRoomDatas.length}onShowItemList(t,e){var o=this.renderRoomDatas[e];if(o){t.active||(t.active=!0);var i=t.getComponent(C);null==i&&(i=t.addComponent(C)),i.setData(o)}else t.active=!1}onSelectItemList(t,e,o,i){if(t){App.globalAudio.playGlobalEffect(c.audioPath.button),Log.d("====>>>>点击了: ",e);var n=this.renderRoomDatas[e];n.isCreate?App.uiManager.open({type:E,bundle:b.BUNDLE_ClubRoom,args:{id:this.currentCID}}):(App.stageData.IsMatch=!1,D.enterTable({isTalbeNo:!1,tableId:n.tableId,password:n.password,locate:JSON.stringify(App.stageData.GPSLocation)}))}}}).prototype,"broadcast",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(B.prototype,"lbNick",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(B.prototype,"lbId",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(B.prototype,"lbDiamond",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(B.prototype,"lbGold",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(B.prototype,"lbClubInfo",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(B.prototype,"spHead",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(B.prototype,"btnRefresh",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(B.prototype,"btnMail",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(B.prototype,"btnSetting",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(B.prototype,"btnBack",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(B.prototype,"scrollViewRoom",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=B))||k));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScorePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./Config.ts","./EventComponent.ts","./List.ts","./ScorePageItem.ts","./UserData.ts","./Utils.ts"],(function(t){"use strict";var e,i,o,n,s,a,r,l,c,u,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Label,s=t._decorator},function(t){a=t.inject},function(t){r=t.Config},function(t){l=t.default},function(t){c=t.default},function(t){u=t.ScorePageItem},function(t){h=t.UserDataEn},function(t){p=t.default}],execute:function(){var d,g,b,f,S,m,w,P,L,C,D,I,y;o._RF.push({},"f1f63qR4EdKXr4MSpa7AaXY","ScorePage",void 0);const{ccclass:A,property:R}=s;t("default",(d=A("ScorePage"),g=a("lb_score",n),b=a("lb_nick",n),f=a("lb_id",n),S=a("lb_percent",n),m=a("ScrollView",c),d((L=e((P=class extends l{constructor(...t){super(...t),this.userApi=App.apis.user,i(this,"lbUseScore",L,this),i(this,"lbNick",C,this),i(this,"lbID",D,this),i(this,"lbPercent",I,this),i(this,"ScrollView",y,this),this.datas=[],this.isLoading=!1,this.crtPage=0,this.pageCount=0,this.totalCount=0}onLoad(){super.onLoad(),this.onRecord(1),App.utils.addListRule(this.node,this.ScrollView,"ScorePage","onShowItemList","","renderEvent"),this.ScrollView.numItems=this.datas.length}onEnable(){let t=h.getUserData();this.lbID.string=`ID:${t.id}`,this.lbNick.string=t.username,this.lbUseScore.string="可用积分:"+p.getScore(t.balance),this.onRecord(1)}onRecord(t=1){this.isLoading||(App.loading.show(""),this.userApi.goldRecord(t).then((t=>{App.loading.hide();let e=t.data.page;e==this.crtPage+1&&(this.crtPage=e,this.pageCount=t.data.pageCount,this.totalCount=t.data.totalCount,this.datas=this.datas.concat(t.data.list),this.ScrollView.numItems=this.datas.length)})).catch((t=>{App.tips.show(t.message),App.loading.hide()})))}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.datas[e]);let i=t.getComponent(u);null==i&&(i=t.addComponent(u));let o=this.datas[e];i.setData(o),e!=this.totalCount-1&&e==this.crtPage*this.pageCount-1&&this.onRecord(this.crtPage+1)}onSelectItemList(t,e,i,o){t&&(App.globalAudio.playGlobalEffect(r.audioPath.button),Log.d("====>>>>点击了: ",e))}}).prototype,"lbUseScore",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(P.prototype,"lbNick",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(P.prototype,"lbID",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(P.prototype,"lbPercent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(P.prototype,"ScrollView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScorePageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./EventComponent.ts","./Decorators.ts"],(function(t){"use strict";var e,i,r,n,l,o,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Label,l=t._decorator},function(t){o=t.default},function(t){a=t.default},function(t){s=t.inject}],execute:function(){var u,c,b,p,m,f,h,g,d,y,v,D,I;r._RF.push({},"b75825nKvtLXZ1TP1m4Ic1p","ScorePageItem",void 0);const{ccclass:_,property:S}=l;t("ScoreData",class{constructor(){this.money=void 0,this.remark=void 0,this.extraId=void 0,this.id=void 0,this.afterMoney=void 0,this.updateAt=void 0}});t("ScorePageItem",(u=_("ScorePageItem"),c=s("lb_num",n),b=s("lb_op",n),p=s("lb_id",n),m=s("lb_left",n),f=s("lb_time",n),u((d=e((g=class extends a{constructor(...t){super(...t),i(this,"lbChangeNum",d,this),i(this,"lbop",y,this),i(this,"lbID",v,this),i(this,"lbLeftNum",D,this),i(this,"lbTime",I,this)}setData(t){this.lbChangeNum.string=o.getScore(t.money),this.lbop.string=t.remark,this.lbLeftNum.string=o.getScore(t.afterMoney),this.lbTime.string=t.updateAt.replace(" ","\n"),this.lbID.string=`ID:${t.id}`}}).prototype,"lbChangeNum",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(g.prototype,"lbop",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(g.prototype,"lbID",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(g.prototype,"lbLeftNum",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(g.prototype,"lbTime",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/room', 'chunks:///_virtual/room'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});