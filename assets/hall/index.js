System.register("chunks:///_virtual/alliancePerformanceView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Macros.ts","./UserData.ts"],(function(e){"use strict";var t,a,n,i,r,o,l,s,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,r=e.Label,o=e.Prefab,l=e.instantiate},function(e){s=e.default},function(e){u=e.inject},function(e){c=e.Macro},function(e){p=e.UserDataEn}],execute:function(){var d,b,h,f,g,L,m,y,A,w,S,C,D;n._RF.push({},"97ee73qwFRJa45Sl9nfBSkQ","alliancePerformanceView",void 0);e("default",(d=u("safeArea/topLayout/news",i),b=u("safeArea/ScrollView/view/content",i),h=u("safeArea/inputLayout/LabelUserCount",r),f=u("safeArea/inputLayout/LabelProportion",r),g=u("safeArea/inputLayout/LabelTodaySum",r),L=u("safeArea/inputLayout/LabelSum",r),y=t((m=class extends s{constructor(...e){super(...e),this.agentApi=App.apis.agent,a(this,"back",y,this),a(this,"ScrollContent",A,this),a(this,"LabelUserCount",w,this),a(this,"LabelProportion",S,this),a(this,"LabelTodaySum",C,this),a(this,"LabelSum",D,this)}static getPrefabUrl(){return"dividend/prefabs/alliancePerformance"}onLoad(){super.onLoad(),this.onN(this.back,i.EventType.TOUCH_END,this.close),this.onDividendRecord()}onDestroy(...e){super.onDestroy()}onDividendRecord(){App.loading.show(""),this.agentApi.getLeaderReward().then((e=>{App.loading.hide();var t=p.getUserData();this.LabelProportion.string="我的比例:"+t.rebateRate+"%",this.LabelUserCount.string=e.data[0].totalUser+"人",this.LabelTodaySum.string="今日总贡献:"+e.data[0].todayAmount,this.LabelSum.string="累计总贡献:"+e.data[0].totalAmount,e.data.list.forEach((async(e,t)=>{App.asset.load(c.BUNDLE_HALL,"dividend/prefabs/allianceItem",o,(()=>{}),(t=>{const a=l(t.data);this.ScrollContent.addChild(a);let n=a.getChildByPath("ID").getComponent(r),i=a.getChildByPath("score").getComponent(r),o=a.getChildByPath("ss").getComponent(r);n.string=App.utils.contentSubRe(e.username)+"\nID:"+e.userId,i.string=e.todayAmount,o.string=e.totalAmount}))}))})).catch((e=>{App.tips.show(e.message),App.loading.hide()}))}}).prototype,"back",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(m.prototype,"ScrollContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(m.prototype,"LabelUserCount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(m.prototype,"LabelProportion",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(m.prototype,"LabelTodaySum",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(m.prototype,"LabelSum",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m));n._RF.pop()}}}));

System.register("chunks:///_virtual/CreateClubView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts","./CommonEvent.ts","./CommonData.ts","./FileUtils.ts"],(function(e){"use strict";var t,i,a,n,o,r,s,l,p,u,c,h,b,f,d,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,n=e.Node,o=e.Sprite,r=e.EditBox,s=e._decorator,l=e.sys,p=e.Texture2D,u=e.ImageAsset,c=e.SpriteFrame},function(e){h=e.default},function(e){b=e.inject},function(e){f=e.Config},function(e){d=e.UserInfoEvent},function(e){g=e.OpenType},function(e){m=e.default}],execute:function(){var A,w,y,C,D,v,E,N,H,U,_,T,F;a._RF.push({},"22ba7WTasJM3Inr9eFYkvdN","CreateClubView",void 0);const{ccclass:I,property:P}=s;e("default",(A=I("CreateClubView"),w=b("topLayout/news",n),y=b("content/btn_create",n),C=b("content/icon_head",o),D=b("content/bg/EditBox",r),v=b("content/bg2/EditBox",r),A((H=t((N=class extends h{constructor(...e){super(...e),this.userApi=App.apis.user,i(this,"back",H,this),i(this,"create",U,this),i(this,"spHead",_,this),i(this,"ebName",T,this),i(this,"ebDesc",F,this),this.buffer=void 0}static getPrefabUrl(){return"club/prefabs/CreateClubView"}onLoad(){super.onLoad(),this.onCustom(d.HEAD_BACK_UPLOAD,this.onUploadHead),this.onN(this.back,n.EventType.TOUCH_END,this.onClose),this.onN(this.create,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(f.audioPath.button),this.ebName.string.length<1?App.tips.show("请输入俱乐部名称"):this.ebDesc.string.length<1?App.tips.show("请输入俱乐部描述"):(App.loading.show(""),this.userApi.createClub({name:this.ebName.string,remark:this.ebDesc.string,avatar:this.buffer}).then((e=>{App.loading.hide(),App.tips.show("创建成功"),this.onClose()})).catch((e=>{App.loading.hide(),App.tips.show(e.message)})))})),this.onN(this.spHead.node,n.EventType.TOUCH_END,this.upload)}onClose(){App.globalAudio.playGlobalEffect(f.audioPath.close),this.close()}upload(){App.globalAudio.playGlobalEffect(f.audioPath.button),this.loadImage(this.spHead)}loadImage(e){l.isNative?window.Platform.OpenCameraOrAlbum(g.Album):App.nativeBridge.getSelectedImageData((async t=>{this.buffer=new Uint8Array(await t.arrayBuffer()),m.fileToSpriteFrame(t).then((t=>{e.spriteFrame=t}))}))}onUploadHead(e){if(l.isNative){let t=new Image;t.src=`data:image/png;base64,${e}`;let i=atob(e),a=new Uint8Array(i.length);for(let e=0;e<i.length;e++)a[e]=i.charCodeAt(e);this.buffer=a;let n=new p;t.onload=()=>{n.image=new u(t);let e=new c;e.texture=n,this.spHead.spriteFrame=e}}}}).prototype,"back",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(N.prototype,"create",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(N.prototype,"spHead",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(N.prototype,"ebName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(N.prototype,"ebDesc",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=N))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/CreateFriendRoomView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CreateRoomSlider.ts","./ConfigInfo.ts","./HallModel.ts","./FriendView.ts","./Utils.ts","./Config.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,l,u,c,p,_,E,b,f,h,R,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,r=t.Label,a=t.EditBox,s=t.Toggle,l=t._decorator},function(t){u=t.default},function(t){c=t.inject},function(t){p=t.default,_=t.EmCreateRoomSlider},function(t){E=t.ConfigInfoEn,b=t.EmConfigData},function(t){f=t.HallModel},function(t){h=t.default},function(t){R=t.default},function(t){O=t.Config}],execute:function(){var d,g,N,A,m,T,C,I,D,y,L,S,v,w,U,F,G,P,M,B,z,x,H,K,V,k;t("CreateErrCode",void 0),n._RF.push({},"fde19XoWCpJ5KJtZ1qR5alt","CreateFriendRoomView",void 0);const{ccclass:Y,property:X}=l;let j;t("default",(d=c("topLayout/news",o),g=c("content/button",o),N=c("content/fee",r),A=c("content/body/psw/eb_psw",a),m=c("content/body/pi",o),T=c("content/body/pi/num",r),C=c("content/body/sm",o),I=c("content/body/auto",o),D=c("content/body/ban",o),y=c("content/body/time",o),L=c("content/body/option/tog_gps",s),S=c("content/body/option/tog_dl",s),Y((U=e((w=class extends u{constructor(...t){super(...t),i(this,"btnExit",U,this),i(this,"btnCreate",F,this),i(this,"labFee",G,this),i(this,"editPsw",P,this),i(this,"nPi",M,this),i(this,"labPi",B,this),i(this,"nSM",z,this),i(this,"nAuto",x,this),i(this,"nBan",H,this),i(this,"nTime",K,this),i(this,"togGps",V,this),i(this,"togDl",k,this)}static getPrefabUrl(){return"createFriendRoom/prefabs/CreateFriendRoom"}onLoad(){super.onLoad(),this.onN(this.btnExit,o.EventType.TOUCH_END,this.close),this.onN(this.btnCreate,o.EventType.TOUCH_END,this.createRoom);const t=E.getConfig(b.CONFIG_ROOM);this.nPi.addComponent(p).init({type:_.GearSp,values:this.convertPiData(t.types),callback:t=>this.onPiSelect(t)}),this.nSM.addComponent(p).init({type:_.Gear,values:this.convertData(t.config.bet_up_times),valuesDesc:this.convertDesc(t.config.bet_up_times,"%s次","")}),this.nAuto.addComponent(p).init({type:_.Gear,values:this.convertData(t.config.bet_user_limit),valuesDesc:this.convertDesc(t.config.bet_user_limit,"%s人","")}),this.nBan.addComponent(p).init({type:_.Gear,values:this.convertData(t.config.bet_left_time_limit),valuesDesc:this.convertDesc(t.config.bet_left_time_limit,"%smin","无限制")}),this.nTime.addComponent(p).init({type:_.Gear,values:this.convertData(t.config.room_time),valuesDesc:this.convertDesc(t.config.room_time,"%smin","无限制")}),this.onPiSelect(0)}convertData(t){const e=t.split(","),i=[];return e.forEach((t=>i.push(Number(t)))),i}convertDesc(t,e,i){const n=t.split(","),o=[];return n.forEach((t=>{"0"==t.trim()?o.push(i):o.push(e.replace("%s",t))})),o}onPiSelect(t){const e=E.getConfig(b.CONFIG_ROOM);this.labPi.string=e.types[t].name,this.labFee.string="费用:"+R.getScore(e.types[t].fee)}convertPiData(t){const e=[];for(let i=0;i<t.length;i++)e.push(i);return e}createRoom(){if(this.checkInput()){const e=this.nPi.getComponent(p).value,i=E.getConfig(b.CONFIG_ROOM);var t=Number(i.types[e].name.replace("皮",""));t=R.convertToServerScore(t);this.editPsw.string.trim();App.loading.show("创建房间中"),f.createDesk({pi:1,raiseTimes:2,leastUsers:2,gameTime:30,sitLeastTime:0,gpsip:this.togGps.isChecked,diwang:this.togDl.isChecked,xiumang:!0,fanghuopai:!0,xunhuan:!0,clubId:0}).then((t=>{App.loading.hide(),t.code==j.OK?(App.uiManager.close(h),this.close(),App.alert.show("好友房创建成功，房间号："+R.padLeft(t.data.tableNo)+"！"),App.apis.user.getUserInfo(),f.refreshTableList(1)):t.code==j.NOT_ENOUGH_COIN?App.alert.show({text:"金币不足！",confirmCb:()=>{App.globalAudio.playGlobalEffect(O.audioPath.button)}}):App.alert.show({text:"创建失败，请稍后重试",confirmCb:()=>{App.globalAudio.playGlobalEffect(O.audioPath.button)}})}))}}checkInput(){let t=!0,e=null;return this.editPsw.string&&6!=this.editPsw.string.length&&(t=!1,e="请输入六位数房间密码"),t||App.tips.show(e),t}}).prototype,"btnExit",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(w.prototype,"btnCreate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(w.prototype,"labFee",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"editPsw",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(w.prototype,"nPi",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"labPi",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"nSM",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(w.prototype,"nAuto",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(w.prototype,"nBan",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(w.prototype,"nTime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(w.prototype,"togGps",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"togDl",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));!function(t){t[t.OK=0]="OK",t[t.ERROR_PARAM=1]="ERROR_PARAM",t[t.ERROR_TOKEN=2]="ERROR_TOKEN",t[t.INVALID_TOKEN=3]="INVALID_TOKEN",t[t.ERROR_REPEAT=4]="ERROR_REPEAT",t[t.BET_CONFIG_ERROR=5]="BET_CONFIG_ERROR",t[t.CONFIG_ERROR=6]="CONFIG_ERROR",t[t.NOT_ENOUGH_COIN=10]="NOT_ENOUGH_COIN",t[t.ALREADY_IN_GAME=11]="ALREADY_IN_GAME",t[t.USER_DISABLE=12]="USER_DISABLE",t[t.TABLE_NOT_FOUND=13]="TABLE_NOT_FOUND",t[t.SEAT_FAIL=14]="SEAT_FAIL",t[t.ALREADY_IN_TABLE=15]="ALREADY_IN_TABLE",t[t.ENTER_FAIL=16]="ENTER_FAIL",t[t.ERROR_STATUS=17]="ERROR_STATUS",t[t.MAX_TIMES=18]="MAX_TIMES",t[t.INVALID_BET=19]="INVALID_BET",t[t.BET_NOT_FOUND=20]="BET_NOT_FOUND",t[t.CASH_OUT_FAIL=21]="CASH_OUT_FAIL",t[t.ERROR_ENTER_GAME=22]="ERROR_ENTER_GAME",t[t.USER_NOT_ONLINE=23]="USER_NOT_ONLINE",t[t.USER_LOADING=24]="USER_LOADING",t[t.USER_UNLOADING=25]="USER_UNLOADING",t[t.FREQUENT_OPERATION=26]="FREQUENT_OPERATION",t[t.COIN_LOCK=27]="COIN_LOCK"}(j||(j=t("CreateErrCode",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/CreateRoomSlider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./EventComponent.ts"],(function(e){"use strict";var t,s,r,i,o,n,l,a,h,c,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){r=e.cclegacy,i=e.Slider,o=e.ProgressBar,n=e._decorator,l=e.Color,a=e.Component,h=e.Node,c=e.Label},function(e){u=e.inject},function(e){d=e.default}],execute:function(){var p,C,_,v,E,g;e("EmCreateRoomSlider",void 0),r._RF.push({},"dcbfcP82vVGF59IFw+MPLtk","CreateRoomSlider",void 0);const{ccclass:m,property:b}=n;let f;e("default",(p=u("slider",i),C=u("slider",o),m((E=t((v=class extends d{constructor(...e){super(...e),s(this,"slider",E,this),s(this,"bar",g,this),this._normalColor=l.WHITE,this._selectColor=new l,this._type=f.GearSp,this._values=null,this._valuesDesc=null,this._callback=null,this.curGear=0}get value(){return this._values[this.curGear]}onLoad(){l.fromHEX(this._selectColor,"#FFE010"),super.onLoad();let e=new a.EventHandler;e.target=this.node,e.component="CreateRoomSlider",e.handler="onSliderChange",this.slider.slideEvents.push(e),this.onN(this.slider.handle.node,h.EventType.TOUCH_END,this.touchEnd),this.onN(this.slider.handle.node,h.EventType.TOUCH_CANCEL,this.touchEnd),this.onN(this.slider.node,h.EventType.TOUCH_END,this.touchEnd),this.onN(this.slider.node,h.EventType.TOUCH_CANCEL,this.touchEnd),this.onN(this.bar.node,h.EventType.TOUCH_END,this.touchEnd),this.onN(this.bar.node,h.EventType.TOUCH_CANCEL,this.touchEnd)}init(e){this._type=e.type,this._values=e.values,this._valuesDesc=e.valuesDesc,this._callback=e.callback,this._valuesDesc&&this._valuesDesc.forEach(((e,t)=>{const s=this.node.getChildByName(t+1+"");(null==s?void 0:s.getComponent(c))&&(s.getComponent(c).string=e)})),this.changeColor()}onSliderChange(){this.bar.progress=this.slider.progress;const e=this._values.length-1,t=Math.floor((this.slider.progress+1/e/2)/(1/e));t!=this.curGear&&(this.curGear=t,this.changeColor(),this._callback&&this._callback(this.value))}touchEnd(){const e=this._values.length-1;this._type==f.Gear&&(this.slider.progress=this.curGear/e,this.bar.progress=this.curGear/e)}changeColor(){this._values.forEach(((e,t)=>{var s;const r=null==(s=this.node.getChildByName(t+1+""))?void 0:s.getComponent(c);r&&(r.color=t==this.curGear?this._selectColor:this._normalColor)})),l.fromHEX(this._selectColor,"#FFE010")}}).prototype,"slider",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(v.prototype,"bar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_));!function(e){e[e.GearSp=0]="GearSp",e[e.Gear=1]="Gear"}(f||(f=e("EmCreateRoomSlider",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/DividendView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./UserData.ts","./Macros.ts","./myUserView.ts","./myPerformanceView.ts","./alliancePerformanceView.ts","./waithdrawRecordView.ts","./Utils.ts","./Config.ts"],(function(e){"use strict";var t,i,n,a,r,o,l,u,s,c,b,p,d,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Node,r=e.Label},function(e){o=e.default},function(e){l=e.inject},function(e){u=e.UserDataEn},function(e){s=e.Macro},function(e){c=e.default},function(e){b=e.default},function(e){p=e.default},function(e){d=e.default},function(e){f=e.default},function(e){h=e.Config}],execute:function(){var g,m,y,w,A,L,v,N,E,_,D,P,U,M,z,T,C,V,B,I,H,S,x,O,R,G,k,Z,j,q,F,W,J,K,Q,X,Y,$,ee,te,ie,ne,ae;n._RF.push({},"ed9cdTqDZZOpbc60qtjeu/y","DividendView",void 0);e("default",(g=l("safeArea/topLayout/news",a),m=l("safeArea/inputLayout/NodeIllustrate",a),y=l("safeArea/ScrollView/view/content/butUser",a),w=l("safeArea/ScrollView/view/content/butPerformance",a),A=l("safeArea/ScrollView/view/content/butPerformance/LabelNum",r),L=l("safeArea/ScrollView/view/content/butMZ",a),v=l("safeArea/ScrollView/view/content/butMZ/LabelPerformance",r),N=l("safeArea/ScrollView/view/content/butRecord",a),E=l("safeArea/inputLayout/butExtract",a),_=l("safeArea/ScrollView/view/content",a),D=l("safeArea/inputLayout/LabelAccumulate",r),P=l("safeArea/inputLayout/LabelToday",r),U=l("safeArea/bottom_bg/valid",r),M=l("safeArea/bottom_bg/num",r),z=l("safeArea/bottom_bg/add",r),T=l("safeArea/bottom_bg/one",r),C=l("safeArea/bottom_bg/tow",r),V=l("safeArea/bottom_bg/tree",r),B=l("safeArea/inputLayout/dividendNums",a),I=l("illustrateLayout",a),H=l("illustrateLayout/safeArea/topLayout/news",a),x=t((S=class extends o{constructor(...e){super(...e),this.agentApi=App.apis.agent,i(this,"back",x,this),i(this,"NodeIllustrate",O,this),i(this,"nodeMyUser",R,this),i(this,"nodeMyPerformance",G,this),i(this,"LabelNum",k,this),i(this,"nodeMZ",Z,this),i(this,"LabelPerformance",j,this),i(this,"butRecord",q,this),i(this,"butExtract",F,this),i(this,"ScrollContent",W,this),i(this,"LabelAccumulate",J,this),i(this,"LabelToday",K,this),i(this,"valid",Q,this),i(this,"num",X,this),i(this,"add",Y,this),i(this,"one",$,this),i(this,"tow",ee,this),i(this,"tree",te,this),i(this,"dividendNums",ie,this),i(this,"illustrateLayout",ne,this),i(this,"IllustrateBack",ae,this),this.agentBalance=0}static getPrefabUrl(){return"dividend/prefabs/DividendView"}onLoad(){super.onLoad(),this.onN(this.back,a.EventType.TOUCH_END,this.onClose),this.onN(this.NodeIllustrate,a.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(h.audioPath.button),this.illustrateLayout.active=!0})),this.onN(this.IllustrateBack,a.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(h.audioPath.button),this.illustrateLayout.active=!1})),this.onN(this.butExtract,a.EventType.TOUCH_END,this.onExtract),this.onN(this.nodeMyUser,a.EventType.TOUCH_END,this.onMyUser),this.onN(this.nodeMZ,a.EventType.TOUCH_END,this.onalliancePerformance),this.onN(this.butRecord,a.EventType.TOUCH_END,this.onWaithdrawRecord);var e=u.getUserData();this.LabelPerformance.string=e.rebateRate+"%",this.nodeMyPerformance.active=3==e.type,this.onDividendInfo()}onClose(){App.globalAudio.playGlobalEffect(h.audioPath.close),this.close()}onExtract(){this.agentBalance<=0||(App.globalAudio.playGlobalEffect(h.audioPath.button),this.agentApi.withdraw().then((e=>{App.tips.show("提取成功"),this.agentBalance=0,App.apis.user.getUserInfo(),this.showDividendNums(0)})).catch((e=>{App.tips.show(e.message)})))}onMyUser(){App.globalAudio.playGlobalEffect(h.audioPath.button),App.uiManager.open({type:c,bundle:s.BUNDLE_HALL})}onMyPerformance(){App.globalAudio.playGlobalEffect(h.audioPath.button),App.uiManager.open({type:b,bundle:s.BUNDLE_HALL})}onalliancePerformance(){App.globalAudio.playGlobalEffect(h.audioPath.button),App.uiManager.open({type:p,bundle:s.BUNDLE_HALL})}onWaithdrawRecord(){App.globalAudio.playGlobalEffect(h.audioPath.button),App.uiManager.open({type:d,bundle:s.BUNDLE_HALL})}onDividendInfo(){App.loading.show(""),this.agentApi.dividendInfo().then((e=>{if(App.loading.hide(),e.data&&e.data[0]){var t=e.data[0]||{};this.LabelAccumulate.string="累计红利:",this.LabelToday.string="今日红利:",this.agentBalance=t.agent_balance||0,this.LabelNum.string=t.contribute_rate+"%",this.showDividendNums(this.agentBalance),this.num.string=t.promote_count,this.add.string=t.today_promote_count,this.one.string=t.promote_count_first,this.tow.string=t.promote_count_second,this.tree.string=t.promote_count_third}})).catch((e=>{App.tips.show(e.message),App.loading.hide()}))}showDividendNums(e){var t=this.dividendNums.children.length;let i=Math.floor(Number(f.getScoreImplicit(e))).toString();var n=this.clampMoneyLength(i,t);let a=0;for(let e=n.length-1;e>=0;e--)this.dividendNums.getChildByName("dividend"+a).getComponent(r).string=n.charAt(e),a++}clampMoneyLength(e,t){return e.length>t&&-1!=e.indexOf(".")?((e=e.substring(0,t-1)).indexOf(".")!=e.length-1&&(e=e.substring(0,-1)),e=Number(e)+""):f.padLeft(Number(e),t)}}).prototype,"back",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(S.prototype,"NodeIllustrate",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(S.prototype,"nodeMyUser",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(S.prototype,"nodeMyPerformance",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(S.prototype,"LabelNum",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(S.prototype,"nodeMZ",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(S.prototype,"LabelPerformance",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(S.prototype,"butRecord",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(S.prototype,"butExtract",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(S.prototype,"ScrollContent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(S.prototype,"LabelAccumulate",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(S.prototype,"LabelToday",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(S.prototype,"valid",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(S.prototype,"num",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(S.prototype,"add",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(S.prototype,"one",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(S.prototype,"tow",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(S.prototype,"tree",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(S.prototype,"dividendNums",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(S.prototype,"illustrateLayout",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(S.prototype,"IllustrateBack",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S));n._RF.pop()}}}));

System.register("chunks:///_virtual/EditClubView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts","./Macros.ts","./CommonEvent.ts","./CommonData.ts","./FileUtils.ts"],(function(e){"use strict";var t,i,a,n,o,r,s,l,u,c,p,b,d,f,h,g,m,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,n=e.Node,o=e.Sprite,r=e.EditBox,s=e._decorator,l=e.sys,u=e.Texture2D,c=e.ImageAsset,p=e.SpriteFrame},function(e){b=e.default},function(e){d=e.inject},function(e){f=e.Config},function(e){h=e.Macro},function(e){g=e.UserInfoEvent},function(e){m=e.OpenType},function(e){w=e.default}],execute:function(){var y,A,E,C,D,N,v,H,U,_,B,I,L;a._RF.push({},"363a5AYiN1HsqXk13gejmdi","EditClubView",void 0);const{ccclass:P,property:x}=s;e("default",(y=P("EditClubView"),A=d("topLayout/news",n),E=d("content/btn_create",n),C=d("content/icon_head",o),D=d("content/bg/EditBox",r),N=d("content/bg2/EditBox",r),y((U=t((H=class extends b{constructor(...e){super(...e),this.userApi=App.apis.user,i(this,"back",U,this),i(this,"create",_,this),i(this,"spHead",B,this),i(this,"ebName",I,this),i(this,"ebDesc",L,this),this.buffer=void 0}static getPrefabUrl(){return"club/prefabs/EditClubView"}onLoad(){super.onLoad(),this.onCustom(g.HEAD_BACK_UPLOAD,this.onUploadHead),this.onN(this.back,n.EventType.TOUCH_END,this.onClose),this.onN(this.create,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(f.audioPath.button),this.ebName.string.length<1?App.tips.show("请输入俱乐部名称"):this.ebDesc.string.length<1&&App.tips.show("请输入俱乐部描述")}))}show(e){super.show(e),this.spHead.loadRemoteImage({url:e.head,view:this,defaultBundle:h.BUNDLE_HALL,isNeedCache:!0}),this.ebName.string=e.clubName,this.ebDesc.string=e.clubDesc}onClose(){App.globalAudio.playGlobalEffect(f.audioPath.close),this.close()}upload(){App.globalAudio.playGlobalEffect(f.audioPath.button),this.loadImage(this.spHead)}loadImage(e){l.isNative?window.Platform.OpenCameraOrAlbum(m.Album):App.nativeBridge.getSelectedImageData((async t=>{this.buffer=new Uint8Array(await t.arrayBuffer()),w.fileToSpriteFrame(t).then((t=>{e.spriteFrame=t}))}))}onUploadHead(e){if(l.isNative){let t=new Image;t.src=`data:image/png;base64,${e}`;let i=atob(e),a=new Uint8Array(i.length);for(let e=0;e<i.length;e++)a[e]=i.charCodeAt(e);this.buffer=a;let n=new u;t.onload=()=>{n.image=new c(t);let e=new p;e.texture=n,this.spHead.spriteFrame=e}}}}).prototype,"back",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(H.prototype,"create",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(H.prototype,"spHead",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(H.prototype,"ebName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(H.prototype,"ebDesc",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=H))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/EnterClubItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./UserData.ts","./Macros.ts"],(function(t){"use strict";var e,i,r,n,l,a,s,u,o,c,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Label,l=t.Sprite,a=t.Node,s=t._decorator},function(t){u=t.default},function(t){o=t.inject},function(t){c=t.UserDataEn},function(t){b=t.Macro}],execute:function(){var d,h,p,m,f,C,g,v,y,D,_,E,w;r._RF.push({},"c8c03BUR7FGQKWEbD+EhGth","EnterClubItem",void 0);const{ccclass:M,property:z}=s;t("ClubData",class{constructor(){this.id=void 0,this.name=void 0,this.no=void 0,this.creater_id=void 0,this.remark=void 0,this.avatar=void 0,this.state=void 0}});t("EnterClubItem",(d=M("EnterClubItem"),h=o("lb_name",n),p=o("sp_head",l),m=o("lb_desc",n),f=o("lb_state",n),C=o("icon_my",a),d((y=e((v=class extends u{constructor(...t){super(...t),i(this,"lbClubName",y,this),i(this,"lbClubHead",D,this),i(this,"lbClubDesc",_,this),i(this,"lbClubState",E,this),i(this,"ndMy",w,this)}setData(t){this.lbClubName.string=t.name,this.lbClubDesc.string="简介:"+t.remark,this.lbClubState.string=t.state,this.ndMy.active=t.creater_id==c.getUserData().id.toString(),this.lbClubHead.loadRemoteImage({url:t.avatar,view:App.uiManager.getView("EnterClubView"),defaultBundle:b.BUNDLE_HALL,isNeedCache:!0})}}).prototype,"lbClubName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(v.prototype,"lbClubHead",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(v.prototype,"lbClubDesc",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(v.prototype,"lbClubState",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"ndMy",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/EnterClubView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts","./List.ts","./Macros.ts","./EnterClubItem.ts","./JoinClubView.ts","./CreateClubView.ts","./UserData.ts","./ClubInfoData.ts"],(function(t){"use strict";var e,i,n,o,a,s,l,r,u,c,p,d,h,b,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,a=t._decorator},function(t){s=t.default},function(t){l=t.inject},function(t){r=t.Config,u=t.ViewZOrder},function(t){c=t.default},function(t){p=t.Macro},function(t){d=t.EnterClubItem},function(t){h=t.default},function(t){b=t.default},function(t){f=t.UserDataEn},function(t){g=t.ClubInfoDataEn}],execute:function(){var D,w,C,L,A,E,m,y,U,V,I;n._RF.push({},"f68e7+48oFIQZKYS7nyjbqA","EnterClubView",void 0);const{ccclass:S,property:_}=a;t("default",(D=S("EnterClubView"),w=l("topLayout/news",o),C=l("content/btn_create",o),L=l("content/btn_join",o),A=l("content/ScrollView",c),D((y=e((m=class extends s{constructor(...t){super(...t),this.userApi=App.apis.user,i(this,"back",y,this),i(this,"create",U,this),i(this,"join",V,this),i(this,"ScrollView",I,this),this.clubDatas=[],this.isLoading=!1,this.crtPage=0,this.pageCount=0,this.totalCount=0}static getPrefabUrl(){return"club/prefabs/EnterClubView"}onLoad(){super.onLoad(),this.onN(this.back,o.EventType.TOUCH_END,this.onClose),this.onN(this.create,o.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(r.audioPath.button),App.uiManager.open({type:b,bundle:p.BUNDLE_HALL,zIndex:u.Default,args:{},name:"创建俱乐部"})})),this.onN(this.join,o.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(r.audioPath.button),App.uiManager.open({type:h,bundle:p.BUNDLE_HALL,zIndex:u.Default,args:{},name:"加入俱乐部"})})),this.ScrollView.numItems=this.clubDatas.length,this.onRecord(1),App.utils.addListRule(this.node,this.ScrollView,"EnterClubView","onShowItemList","","renderEvent"),App.utils.addListRule(this.node,this.ScrollView,"EnterClubView","onSelectItemList","","selectedEvent")}onClose(){App.globalAudio.playGlobalEffect(r.audioPath.close),this.close()}onDestroy(...t){super.onDestroy()}onRecord(t=1){this.isLoading||(App.loading.show(""),this.isLoading=!0,this.userApi.getSelfClub().then((t=>{this.isLoading=!1,App.loading.hide();let e=t.data;this.clubDatas=e,this.ScrollView.numItems=this.clubDatas.length})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.clubDatas[e]);let i=t.getComponent(d);null==i&&(i=t.addComponent(d));let n=this.clubDatas[e];i.setData(n)}onSelectItemList(t,e,i,n){if(!t)return;App.globalAudio.playGlobalEffect(r.audioPath.button);let o=this.clubDatas[e];Log.d("====>>>>点击了俱乐部id: ",o.id),this.onClose(),App.apis.user.gameLogin(f.getUserData().token,o.id).then((t=>{f.getUserData().hallAddress=t.data.address,f.getUserData().hallProtocol=t.data.protocol,f.getUserData().hallToken=t.data.token,f.getUserData().id=t.data.winUserId,g.setClubData(o),console.log("点击后的token:"+f.getUserData().token),App.entryManager.enterBundle(p.BUNDLE_ClubRoom,o)})).catch((()=>{}))}}).prototype,"back",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(m.prototype,"create",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(m.prototype,"join",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(m.prototype,"ScrollView",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=m))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/EnterRoomView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./HallModel.ts","./Config.ts","./Utils.ts"],(function(t){"use strict";var e,i,n,o,r,s,l,a,u,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,r=t.EditBox,s=t._decorator},function(t){l=t.default},function(t){a=t.inject},function(t){u=t.HallModel},function(t){c=t.Config},function(t){p=t.default}],execute:function(){var b,h,d,f,m,g,N,w,E,y,C,R,P,D,T;n._RF.push({},"dc1f6GD6ehFJaLOdK7RV2cX","EnterRoomView",void 0);const{ccclass:_,property:v}=s;t("default",(b=_("FriendView"),h=a("SpriteSplash",o),d=a("bg/btnClose",o),f=a("inputRoom/edit_room",r),m=a("inputPwd/edit_pwd",r),g=a("cancel",o),N=a("enter",o),b((y=e((E=class extends l{constructor(...t){super(...t),i(this,"btnExit",y,this),i(this,"btnClose",C,this),i(this,"editRoomNum",R,this),i(this,"editPwd",P,this),i(this,"btnCancel",D,this),i(this,"btnEnter",T,this)}static getPrefabUrl(){return"enterRoom/prefabs/EnterRoomView"}onLoad(){super.onLoad(),this.onN(this.btnExit,o.EventType.TOUCH_END,this.onClose),this.onN(this.btnClose,o.EventType.TOUCH_END,this.onClose),this.onN(this.btnCancel,o.EventType.TOUCH_END,this.onClose),this.onN(this.btnEnter,o.EventType.TOUCH_END,this.enterRoom)}onShow(){if(super.onShow(),this.args&&this.args.tableNo){let t=this.args.tableNo;this.editRoomNum.string=p.padLeft(t,6)}}onClose(){App.globalAudio.playGlobalEffect(c.audioPath.button),this.close()}checkInput(){let t=!0,e=null;if(this.editRoomNum.string&&6==this.editRoomNum.string.length?Number.isNaN(Number(this.editRoomNum.string))&&(t=!1,e="请输入6位数房间号码！"):(t=!1,e="请输入6位数房间号码！"),t){var i=this.editPwd.string.trim();i&&6!=i.length&&(t=!1,e="请输入6位数密码！")}return t||App.tips.show(e),t}enterRoom(){if(App.globalAudio.playGlobalEffect(c.audioPath.button),this.checkInput()){const t=Number(this.editRoomNum.string),e=this.editPwd.string.trim();u.enterTable({isTalbeNo:!0,tableId:t,password:e,locate:JSON.stringify(App.stageData.GPSLocation)})}}}).prototype,"btnExit",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(E.prototype,"btnClose",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(E.prototype,"editRoomNum",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(E.prototype,"editPwd",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(E.prototype,"btnCancel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(E.prototype,"btnEnter",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=E))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/FriendView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CreateFriendRoomView.ts","./HallModel.ts","./Config.ts"],(function(t){"use strict";var e,i,n,o,r,l,a,s,u,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,r=t.EditBox,l=t._decorator},function(t){a=t.default},function(t){s=t.inject},function(t){u=t.default},function(t){p=t.HallModel},function(t){c=t.Config}],execute:function(){var b,h,f,d,g,y,m,w,E,R,C,_,N;n._RF.push({},"8e99dJ+k39OYpdoKgZusRTZ","FriendView",void 0);const{ccclass:A,property:T}=l;t("default",(b=A("FriendView"),h=s("topLayout/news",o),f=s("content/btn_enterRoom",o),d=s("content/btn_zuju",o),g=s("content/edit_room",r),y=s("content/edit_key",r),b((E=e((w=class extends a{constructor(...t){super(...t),i(this,"btnExit",E,this),i(this,"btnEnterRoom",R,this),i(this,"btnCreate",C,this),i(this,"iptRoom",_,this),i(this,"iptKey",N,this)}static getPrefabUrl(){return"friend/prefabs/FriendView"}onLoad(){super.onLoad(),this.onN(this.btnExit,o.EventType.TOUCH_END,this.close),this.onN(this.btnEnterRoom,o.EventType.TOUCH_END,this.enterRoom),this.onN(this.btnCreate,o.EventType.TOUCH_END,this.toCreateView)}onClose(){App.globalAudio.playGlobalEffect(c.audioPath.button),this.close()}checkInput(){let t=!0,e=null;return this.iptRoom.string&&6==this.iptRoom.string.length?this.iptKey.string&&6!=this.iptKey.string.length&&(t=!1,e="请输入六位数房间密码"):(t=!1,e="请输入六位数房号"),t||App.tips.show(e),t}enterRoom(){App.globalAudio.playGlobalEffect(c.audioPath.button),this.checkInput()&&p.enterTable({isTalbeNo:!0,tableId:Number(this.iptRoom.string),password:this.iptKey.string,locate:JSON.stringify(App.stageData.GPSLocation)})}toCreateView(){App.globalAudio.playGlobalEffect(c.audioPath.button),App.uiManager.open({type:u,bundle:this.bundle})}}).prototype,"btnExit",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(w.prototype,"btnEnterRoom",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(w.prototype,"btnCreate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(w.prototype,"iptRoom",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(w.prototype,"iptKey",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/giveView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./UserData.ts","./Utils.ts","./Macros.ts","./CommonEvent.ts","./Config.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,l,u,c,p,d,h,g,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,r=t.Label,a=t.EditBox,s=t.Prefab,l=t.instantiate},function(t){u=t.default},function(t){c=t.inject},function(t){p=t.UserDataEn},function(t){d=t.default},function(t){h=t.Macro},function(t){g=t.UserInfoEvent},function(t){f=t.Config}],execute:function(){var b,v,A,y,D,m,C,S,w,P,U,E,T,_,L,I,N;n._RF.push({},"ec14cXk0nJCJ7kn5ys7tV7v","giveView",void 0);t("default",(b=c("safeArea/topLayout/news",o),v=c("safeArea/inputLayout/goldBg/score",r),A=c("safeArea/inputLayout/info_bg/editUserID",a),y=c("safeArea/inputLayout/info_bg-001/editScore",a),D=c("safeArea/inputLayout/info_bg-002/editPW",a),m=c("safeArea/inputLayout/button",o),C=c("safeArea/inputLayout/txtTips",o),S=c("safeArea/ScrollView/view/content",o),P=e((w=class extends u{constructor(...t){super(...t),this.userApi=App.apis.user,i(this,"back",P,this),i(this,"userScore",U,this),i(this,"dividendUserID",E,this),i(this,"dividendScore",T,this),i(this,"editPW",_,this),i(this,"butDividend",L,this),i(this,"txtTips",I,this),i(this,"ScrollContent",N,this)}static getPrefabUrl(){return"give/prefabs/giveView"}onLoad(){super.onLoad(),this.onN(this.back,o.EventType.TOUCH_END,this.onClose),this.onN(this.butDividend,o.EventType.TOUCH_END,this.onDividend);var t=p.getUserData();t.transPassword?this.txtTips.active=!1:this.txtTips.active=!0,this.userScore.string=d.getScore(t.balance)+"",App.event.on(g.USER_DATA_UPDATA,(()=>{this.userScore.string=d.getScore(t.balance)+""}),this.node),this.onDividendRecord()}onClose(){App.globalAudio.playGlobalEffect(f.audioPath.close),this.close()}onDividend(){if(App.globalAudio.playGlobalEffect(f.audioPath.button),!this.dividendScore.string)return void App.tips.show("请输入赠送金额");var t=p.getUserData(),e=this.dividendUserID.string.trim();if(t.id==Number(e))return void App.tips.show("不能赠送给自己");const i=this.dividendScore.string;App.apis.user.getUserName(Number(e)).then((t=>{const n=t.data.username;App.alert.show({title:"赠送确认",richText:`是否赠送${i}至玩家<color=#2a9547>${n}</color>(${e})?`,confirmCb:()=>{App.globalAudio.playGlobalEffect(f.audioPath.button),this.doDonate(e,i)},cancelCb:()=>{App.globalAudio.playGlobalEffect(f.audioPath.button)}})})).catch((t=>{App.tips.show(t.message)}))}doDonate(t,e){var i=d.convertToServerScore(Number(e))+"";this.userApi.donate(t,i,this.editPW.string).then((t=>{this.clearInputData(),App.tips.show("赠送成功"),p.getUserData().balance-=100*Number(e),App.event.emit(g.USER_DATA_UPDATA),this.onDividendRecord()})).catch((t=>{this.clearInputData(),App.tips.show(t.message)}))}clearInputData(){this.dividendScore.string="",this.dividendUserID.string="",this.editPW.string=""}onDestroy(...t){super.onDestroy()}onDividendRecord(){App.loading.show(""),this.userApi.donateRecord().then((t=>{App.loading.hide(),this.ScrollContent.removeAllChildren(),t.data.forEach((async(t,e)=>{App.asset.load(h.BUNDLE_HALL,"give/prefabs/infoITem",s,(()=>{}),(e=>{const i=l(e.data);this.ScrollContent.addChild(i);let n=i.getChildByPath("type").getComponent(r),o=i.getChildByPath("userID").getComponent(r),a=i.getChildByPath("SZ").getComponent(r),s=i.getChildByPath("SZAfter").getComponent(r),u=i.getChildByPath("date").getComponent(r),c=i.getChildByPath("time").getComponent(r);var p=t.created_at.split(" ");a.string=d.getScore(t.money),s.string=d.getScore(t.after_money),u.string=p[0],c.string=p[1],n.string=t.remark,o.string=`(${t.extra_id})`}))}))})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}}).prototype,"back",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(w.prototype,"userScore",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(w.prototype,"dividendUserID",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(w.prototype,"dividendScore",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(w.prototype,"editPW",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"butDividend",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(w.prototype,"txtTips",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(w.prototype,"ScrollContent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w));n._RF.pop()}}}));

System.register("chunks:///_virtual/goldRecordView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./UserData.ts","./Utils.ts","./Config.ts","./List.ts"],(function(t){"use strict";var e,o,i,r,s,n,a,l,c,u,h,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,r=t.Node,s=t.Label,n=t._decorator,a=t.Color},function(t){l=t.default},function(t){c=t.inject},function(t){u=t.UserDataEn},function(t){h=t.default},function(t){d=t.Config},function(t){g=t.default}],execute:function(){var p,f,C,m,w,y,b,P,A;i._RF.push({},"426f21/e8tPeZHBrtievPxe","goldRecordView",void 0);const{ccclass:S,property:L}=n;t("default",(p=S("goldRecordView"),f=c("safeArea/topLayout/news",r),C=c("safeArea/inputLayout/goldBg/score",s),m=c("safeArea/ScrollView",g),p((b=e((y=class extends l{constructor(...t){super(...t),this.userApi=App.apis.user,o(this,"back",b,this),o(this,"userScore",P,this),o(this,"scrollView",A,this),this._greenColor=new a(0,255,0),this._redColor=new a(255,0,0),this.list=[],this.crtPage=0,this.pageCount=0,this.totalCount=0}static getPrefabUrl(){return"goldRecord/prefabs/goldrecordView"}onLoad(){super.onLoad(),this.onN(this.back,r.EventType.TOUCH_END,this.onClose);var t=u.getUserData();this.userScore.string=h.getScore(t.balance)+"",App.utils.addListRule(this.node,this.scrollView,"goldRecordView","onShowItemList","","renderEvent"),this.scrollView.numItems=0,this.onRecord(1)}onClose(){App.globalAudio.playGlobalEffect(d.audioPath.close),this.close()}onDestroy(...t){super.onDestroy()}onRecord(t){App.loading.show(""),this.userApi.goldRecord(t).then((t=>{App.loading.hide();let e=t.data.page;e==this.crtPage+1&&(this.crtPage=e,this.pageCount=t.data.pageCount,this.totalCount=t.data.totalCount,this.list=this.list.concat(t.data.list),this.scrollView.numItems=this.list.length)})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}onShowItemList(t,e){Log.d("onShowItemList ======>",e);let o=t.getChildByPath("type").getComponent(s),i=t.getChildByPath("SZ").getComponent(s),r=t.getChildByPath("SZAfter").getComponent(s),n=t.getChildByPath("date").getComponent(s),a=t.getChildByPath("time").getComponent(s);var l=this.list[e];i.string=h.getScore(l.money),i.color=l.money>0?this._redColor:this._greenColor,r.string=h.getScore(l.afterMoney);var c=l.updateAt.split(" ");n.string=c[0],a.string=c[1],o.string=l.remark,l.extraId&&Number(l.extraId)>0&&(o.string=l.remark+"\n("+l.extraId+")"),e!=this.totalCount-1&&e==this.crtPage*this.pageCount-1&&this.onRecord(this.crtPage+1)}}).prototype,"back",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(y.prototype,"userScore",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(y.prototype,"scrollView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=y))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/hall",["./CreateClubView.ts","./EditClubView.ts","./EnterClubItem.ts","./EnterClubView.ts","./JoinClubItem.ts","./JoinClubView.ts","./CreateFriendRoomView.ts","./CreateRoomSlider.ts","./DividendView.ts","./MyUserItem.ts","./alliancePerformanceView.ts","./myPerformanceView.ts","./myUserView.ts","./waithdrawRecordView.ts","./EnterRoomView.ts","./FriendView.ts","./giveView.ts","./goldRecordView.ts","./matchRecord.ts","./matchResult.ts","./matchRule.ts","./matchView.ts","./MsgView.ts","./RecordItem.ts","./myRecord.ts","./HallEntry.ts","./HallData.ts","./HallLogic.ts","./HallModel.ts","./HallService.ts","./HallAnnouncementPage.ts","./HallMainPage.ts","./HallMatchPage.ts","./HallRankItem.ts","./HallRankPage.ts","./HallRoomItem.ts","./HallRoomPage.ts","./HallUserCenterPage.ts","./HallView.ts","./HallWalletPage.ts","./WalletGivePage.ts","./WalletPasswordPage.ts","./WalletRecordsPage.ts","./WalletWithdrwaPage.ts","./SetView.ts","./ShareView.ts","./userBase.ts","./userInfo2.ts","./userSign.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/HallAnnouncementPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Config.ts"],(function(t){"use strict";var e,n,i,o,a,s,r,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Node,a=t._decorator},function(t){s=t.default},function(t){r=t.inject},function(t){l=t.Config}],execute:function(){var c,u,h,b,p,f,g,d,y,P,D,T,m,E,_,v,N,w,z,C;i._RF.push({},"90156anv5VGjKTulZ8ZW+FV","HallAnnouncementPage",void 0);const{ccclass:H,property:B}=a;t("default",(c=r("layout/platform_desc",o),u=r("layout/platform_rule_desc",o),h=r("layout/platform_b_desc",o),b=r("layout/gold_desc",o),p=r("layout/punis_desc",o),f=r("layout",o),g=r("desc_page",o),d=r("desc_page/arrow",o),y=r("desc_page/content",o),H((T=e((D=class extends s{constructor(...t){super(...t),n(this,"btnPlatform",T,this),n(this,"btnRule",m,this),n(this,"btnB",E,this),n(this,"btnGold",_,this),n(this,"btnPunis",v,this),n(this,"nLayout",N,this),n(this,"nDesc",w,this),n(this,"btnArrow",z,this),n(this,"descPages",C,this)}onLoad(){this.onN(this.btnPlatform,o.EventType.TOUCH_END,this.toPaltformDesc),this.onN(this.btnRule,o.EventType.TOUCH_END,this.toRuleDesc),this.onN(this.btnB,o.EventType.TOUCH_END,this.toBDesc),this.onN(this.btnGold,o.EventType.TOUCH_END,this.toGoldDesc),this.onN(this.btnPunis,o.EventType.TOUCH_END,this.toPunisDesc),this.onN(this.btnArrow,o.EventType.TOUCH_END,this.toBack),this.onN(this.nDesc,o.EventType.TOUCH_END,this.toBack)}toPaltformDesc(){this.changeToPage(!0),this.descPages.children.forEach(((t,e)=>t.active=0==e))}toRuleDesc(){this.changeToPage(!0),this.descPages.children.forEach(((t,e)=>t.active=1==e))}toBDesc(){this.changeToPage(!0),this.descPages.children.forEach(((t,e)=>t.active=2==e))}toGoldDesc(){this.changeToPage(!0),this.descPages.children.forEach(((t,e)=>t.active=3==e))}toPunisDesc(){this.changeToPage(!0),this.descPages.children.forEach(((t,e)=>t.active=4==e))}toBack(){this.changeToPage(!1)}changeToPage(t){App.globalAudio.playGlobalEffect(l.audioPath.button),this.nLayout.active=!t,this.nDesc.active=t}}).prototype,"btnPlatform",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(D.prototype,"btnRule",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(D.prototype,"btnB",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(D.prototype,"btnGold",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(D.prototype,"btnPunis",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(D.prototype,"nLayout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(D.prototype,"nDesc",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(D.prototype,"btnArrow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(D.prototype,"descPages",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=D))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/HallData.ts",["cc","./BaseData.ts"],(function(t){"use strict";var i,o;return{setters:[function(t){i=t.cclegacy},function(t){o=t.default}],execute:function(){i._RF.push({},"f6f14YD3dJN4ZCDvRUykLrI","HallData",void 0);class s extends o{constructor(){super(),this.curRoomData=void 0}setHallData(t){this.setData(s.USER_DATA,t)}getHallData(){return this.getData(s.USER_DATA)}setCurEnterRoomData(t){Log.d("setCurEnterRoomData ",t),this.curRoomData=t}getCurEnterRoomData(){return Log.d("getCurEnterRoomData ",this.curRoomData),this.curRoomData}clear(){this.clearData()}}s.USER_DATA="Hall_DATA",s.instance=new s;t("GameRoomData",class{constructor(){this.muteUser=void 0,this.addTimeCost=void 0,this.tableInfo=void 0,this.sitInfo=void 0,this.gameInfo=void 0,this.reserveSeat=void 0}});t("GameTableData",class{constructor(){this.tableNo=void 0,this.tableId=void 0,this.pi=void 0,this.mango=void 0,this.raiseTimes=void 0,this.leastUsers=void 0,this.sitLeastTime=void 0,this.gameTime=void 0,this.remainTime=void 0,this.gpsip=void 0,this.diwang=void 0,this.tabaleState=void 0,this.maxIn=void 0,this.minIn=void 0,this.poolOpen=void 0}});t("SitPlayerInfo",class{constructor(){this.avatar=void 0,this.seatId=void 0,this.userId=void 0,this.mangoBet=void 0,this.bet=void 0,this.bobo=void 0,this.oprated=void 0,this.cardCount=void 0,this.visible=void 0,this.splited=void 0,this.cards=void 0,this.xiu=void 0,this.totalTime=void 0,this.operatTick=void 0,this.addTimeCost=void 0,this.state=void 0}});t("KeepSeatPlayerInfo",class{constructor(){this.reason=void 0,this.avatar=void 0,this.seatId=void 0,this.userId=void 0,this.bobo=void 0,this.remainTime=void 0}});t("GameInfo",class{constructor(){this.mangoPool=void 0,this.mangoCount=void 0,this.banker=void 0,this.gameState=void 0,this.operater=void 0,this.totalTime=void 0,this.operatTick=void 0}});t("HallDataEn",s.instance);i._RF.pop()}}}));

System.register("chunks:///_virtual/HallEntry.ts",["cc","./Entry.ts","./Decorators.ts","./Macros.ts","./HallView.ts"],(function(){"use strict";var e,t,s,n,r;return{setters:[function(t){e=t.cclegacy},function(e){t=e.Entry},function(e){s=e.registerEntry},function(e){n=e.Macro},function(e){r=e.default}],execute:function(){var a;e._RF.push({},"8fecd1NPfRKG6ef35YqwB0W","HallEntry",void 0);s("HallEntry",n.BUNDLE_HALL,r)(a=class extends t{addNetHandler(){}removeNetHandler(){}loadResources(e){e()}initData(){}pauseMessageQueue(){}resumeMessageQueue(){}});e._RF.pop()}}}));

System.register("chunks:///_virtual/HallLogic.ts",["cc","./Logic.ts"],(function(c){"use strict";var t,e;return{setters:[function(c){t=c.cclegacy},function(c){e=c.Logic}],execute:function(){t._RF.push({},"c50b2eLdIlLFLl5M2babdmQ","HallLogic",void 0);c("default",class extends e{}),t._RF.pop()}}}));

System.register("chunks:///_virtual/HallMainPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Macros.ts","./Config.ts","./EnterClubView.ts","./CreateClubView.ts","./JoinClubView.ts"],(function(t){"use strict";var e,n,o,i,a,l,u,r,p,c,s,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Node,a=t._decorator},function(t){l=t.default},function(t){u=t.inject},function(t){r=t.Macro},function(t){p=t.Config},function(t){c=t.default},function(t){s=t.default},function(t){b=t.default}],execute:function(){var f,d,C,h,y,g,E,A,L;o._RF.push({},"21577nwMX9OU5bM8VUEMiC0","HallMainPage",void 0);const{ccclass:M,property:D}=a;t("default",(f=M(),d=u("top/create",i),C=u("top/join",i),h=u("mid/club",i),f((E=e((g=class extends l{constructor(...t){super(...t),n(this,"btnCreate",E,this),n(this,"btnJoin",A,this),n(this,"btnClub",L,this)}onLoad(){this.onN(this.btnCreate,i.EventType.TOUCH_END,this.toCreate),this.onN(this.btnJoin,i.EventType.TOUCH_END,this.toJoin),this.onN(this.btnClub,i.EventType.TOUCH_END,this.toClub)}onEnable(){}toCreate(){App.globalAudio.playGlobalEffect(p.audioPath.button),App.uiManager.open({type:s,bundle:r.BUNDLE_HALL})}toJoin(){App.globalAudio.playGlobalEffect(p.audioPath.button),App.uiManager.open({type:b,bundle:r.BUNDLE_HALL})}toClub(){App.globalAudio.playGlobalEffect(p.audioPath.button),App.uiManager.open({type:c,bundle:r.BUNDLE_HALL})}}).prototype,"btnCreate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(g.prototype,"btnJoin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(g.prototype,"btnClub",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/HallMatchPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./List.ts","./matchRule.ts","./Macros.ts","./Config.ts","./matchRecord.ts","./EventComponent.ts","./matchView.ts","./Utils.ts","./matchResult.ts"],(function(t){"use strict";var e,a,o,i,s,n,p,l,c,r,h,u,d,m,g,b,A,w,y,f,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Node,s=t.Label,n=t._decorator,p=t.Button,l=t.find,c=t.Sprite,r=t.Color},function(t){h=t.inject},function(t){u=t.default},function(t){d=t.default},function(t){m=t.Macro},function(t){g=t.Config,b=t.ViewZOrder},function(t){A=t.default},function(t){w=t.default},function(t){y=t.default},function(t){f=t.default},function(t){D=t.default}],execute:function(){var _,L,C,I,E,S,N,R,H,T,U,v;o._RF.push({},"22660+qE5VKKJYph1NVsiC0","HallMatchPage",void 0);const{ccclass:B,property:F}=n;t("default",(_=h("btnsNode/btnRule",i),L=h("btnsNode/btnRecord",i),C=h("btnsNode/layoutScore/labScore",s),I=h("scrollViewItem",u),E=h("scrollViewItem/emptyNode",i),B((R=e((N=class extends w{constructor(...t){super(...t),a(this,"btnRule",R,this),a(this,"btnRecord",H,this),a(this,"labScore",T,this),a(this,"scrollViewItem",U,this),a(this,"emptyNode",v,this),this.matchData=[],this.pThis=null,this.stateArray=["报名中...","进行中...","已结束"],this.stateArrayColor=["#34EB56","#FFF09F","#FF685D","#423934"]}onLoad(){this.onN(this.btnRule,p.EventType.CLICK,(()=>{App.globalAudio.playGlobalEffect(g.audioPath.button),App.uiManager.open({type:d,bundle:m.BUNDLE_HALL,zIndex:b.UI,name:"比赛规则界面"})})),this.onN(this.btnRecord,p.EventType.CLICK,(()=>{App.globalAudio.playGlobalEffect(g.audioPath.button),App.uiManager.open({type:A,bundle:m.BUNDLE_HALL,zIndex:b.UI,name:"比赛记录界面"})})),this.labScore.string="0",App.utils.addListRule(this.node,this.scrollViewItem,"HallMatchPage","onShowItemList","","renderEvent"),App.utils.addListRule(this.node,this.scrollViewItem,"HallMatchPage","onSelectItemList","","selectedEvent")}onEnable(){App.uiLoading.show(),App.pomelo.request("hall.hallHandler.raceList",(t=>{console.log("====>>>>比赛列表resp: ",t),App.uiLoading.hide(),0==t.code&&(this.matchData=t.data,this.scrollViewItem.numItems=t.data.length,this.emptyNode.active=!t.data.length)}))}init(t){this.pThis=t}onShowItemList(t,e){console.log("====>>>>onShowItemList: ",this.matchData[e]);let a=this.matchData[e],o=l("spIcon",t),i=l("spTitle",t),n=l("spType",t),p=l("spType/labType",t),h=l("labTime",t),u=l("spCircle",t),d=l("labState",t),g=l("spSignBg/labNum",t);o.getComponent(c).loadImage({url:"images/match/icon_type"+(a.race_type+1),view:this.pThis}),i.getComponent(s).string=a.name,p.getComponent(s).string=a.play_type?"地九王":"普通";let b="common/textures/state_"+(a.play_type?"dijiuwang":"common");n.getComponent(c).loadImage({url:b,view:this.pThis,bundle:m.BUNDLE_RESOURCES}),p.getComponent(s).color=a.play_type?(new r).fromHEX("#FFF1C6"):(new r).fromHEX("#2B1F16"),p.parent.getComponent(c).grayscale=!a.play_type,h.getComponent(s).string=f.dateFormat(new Date(a.start_tm)),u.getComponent(c).loadImage({url:"common/textures/circle_state"+a.race_status,view:this.pThis,bundle:m.BUNDLE_RESOURCES}),2==a.race_status&&a.already_signup?d.getComponent(s).string="已报名":d.getComponent(s).string=this.stateArray[a.race_status],d.getComponent(s).color=(new r).fromHEX(this.stateArrayColor[a.race_status]),g.getComponent(s).string=a.signup+"/"+a.signup_max}onSelectItemList(t,e,a,o){if(!t)return;App.globalAudio.playGlobalEffect(g.audioPath.button),Log.d("====>>>>点击了: ",e),new Date(this.matchData[e].start_tm).getTime()-(new Date).getTime()>0?this.matchData[e].already_signup||0!=this.matchData[e].race_status?this.matchData[e].already_signup&&0==this.matchData[e].race_status&&App.alert.show({text:"是否取消报名？",confirmCb:a=>{App.globalAudio.playGlobalEffect(g.audioPath.button),a&&(App.uiLoading.show(),App.pomelo.request("hall.hallHandler.raceCancel",{raceId:this.matchData[e].id},(a=>{if(console.log("====>>>>取消报名比赛resp: ",a),App.uiLoading.hide(),0==a.code){this.matchData[e].already_signup=!0;let a=l("spSignBg/labNum",t);this.matchData[e].signup-=1,a.getComponent(s).string=this.matchData[e].signup+"/"+this.matchData[e].signup_max,this.matchData[e].already_signup=!1,l("labState",t).getComponent(s).string=this.stateArray[this.matchData[e].race_status]}else 80==a.code?App.tips.show("该比赛不存在!"):81==a.code?App.tips.show("比赛错误!"):105==a.code&&App.tips.show("未参加该比赛!")})))},cancelCb:()=>{}}):(App.uiLoading.show(),App.pomelo.request("hall.hallHandler.raceSignUp",{raceId:this.matchData[e].id},(a=>{if(console.log("====>>>>报名比赛resp: ",a),App.uiLoading.hide(),0==a.code){App.tips.show("报名成功!"),this.matchData[e].already_signup=!0;let a=l("spSignBg/labNum",t);this.matchData[e].signup+=1,a.getComponent(s).string=this.matchData[e].signup+"/"+this.matchData[e].signup_max,l("labState",t).getComponent(s).string="已报名"}else 80==a.code?App.tips.show("该比赛不存在!"):81==a.code?App.tips.show("比赛错误!"):82==a.code?App.tips.show("已报名!"):83==a.code?App.tips.show("报名超过人数限制!"):84==a.code?App.tips.show("金币不足!"):85==a.code?App.tips.show("该比赛已结束!"):86==a.code?App.tips.show("比赛已开始!"):87==a.code?App.tips.show("报名时间结束!"):104==a.code&&App.tips.show("积分不足!")}))):(0==this.matchData[e].race_status&&(this.matchData[e].race_status=1),this.matchData[e].already_signup&&1==this.matchData[e].race_status?(App.uiLoading.show(),App.pomelo.request("hall.hallHandler.joinMatchRoom",{raceId:this.matchData[e].id},(t=>{App.uiLoading.hide(),0==t.code?(App.stageData.IsMatch=!0,App.uiManager.open({type:y,bundle:m.BUNDLE_HALL,zIndex:b.UI,args:{data:this.matchData[e]},name:"比赛匹配界面"})):13==t.code?App.tips.show("比赛桌子不存在!"):104==t.code?App.tips.show("积分不足!"):105==t.code?App.tips.show("未报名比赛!"):601==t.code?App.tips.show("该比赛不在比赛中!"):602==t.code?App.tips.show("比赛匹配错误!"):603==t.code?App.tips.show("超时加入比赛,无法进入!"):604==t.code&&App.tips.show("已被淘汰!")}))):this.matchData[e].already_signup||1!=this.matchData[e].race_status?App.uiManager.open({type:D,bundle:m.BUNDLE_HALL,zIndex:b.UI,args:{data:this.matchData[e]},name:"比赛结果界面"}):App.alert.show("未报名!")),console.log("====>>>>this.matchData[selectedId]: ",this.matchData[e])}}).prototype,"btnRule",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(N.prototype,"btnRecord",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(N.prototype,"labScore",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(N.prototype,"scrollViewItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(N.prototype,"emptyNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=N))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/HallModel.ts",["cc","./Macros.ts","./CommonData.ts","./UserData.ts","./NetEventModel.ts","./Utils.ts","./HallData.ts"],(function(e){"use strict";var t,a,n,s,o,r,l,c;return{setters:[function(e){t=e.cclegacy},function(e){a=e.Macro},function(e){n=e.CommonData,s=e.EmRoomEvent},function(e){o=e.UserDataEn},function(e){r=e.NetEventModel},function(e){l=e.default},function(e){c=e.HallDataEn}],execute:function(){t._RF.push({},"3e917qDzZ1LwqK7YNs34khi","HallModel",void 0);class p extends r{conect(){this.initEvents(),App.pomelo.init({host:o.getUserData().hallAddress,log:!0,reconnect:!1},(()=>{n.isConnected=!0,console.log("entry链接=token====>"+o.getUserData().hallToken),this.request("connector.entryHandler.entry",{token:o.getUserData().hallToken},(e=>{if(0==e.code)if(i.refreshTableList(1),e.data.tableId||n.currentStayTableId>0){App.stageData.IsMatch=!1;const t=e.data.tableId||n.currentStayTableId;n.currentTableId=t,n.currentStayTableId=-1,App.event.emit(s.Back,t)}else e.data.raceTableId&&(App.stageData.IsMatch=!0,n.currentTableId=e.data.raceTableId,App.stageData.setConnBack(!0),App.event.emit(s.Back,e.data.raceTableId));else App.alert.show({text:"获取房间信息失败，请重新登录！",confirmCb:()=>{App.stage.backLogin()}})}))}))}initEvents(){super.initEvents(),this.registerEvent("coinSendOnline",(e=>{Log.d("coinSendOnline = ",e);let t=JSON.parse(e);App.alert.show({richText:`您收到 <color=#D8D847>${t.from_nickname}</color> 赠送的 <color=#53D847>${l.getScoreImplicit(t.amount)}</color> 金币`,confirmCb:()=>{}})})),this.registerEvent("addTable",(e=>{n.roomsData=n.roomsData.concat(e),App.event.emit(s.Add,e)})),this.registerEvent("tableProp",(e=>{App.event.emit(s.Update,e)})),this.registerEvent("removeTable",(e=>{App.event.emit(s.Remove,e)})),this.registerEvent("matchCode",(e=>{App.event.emit(s.MatchCode,e)}))}refreshTableList(e,t=0){App.pomelo.request("cx.cxHandler.tableList",{tableType:2,clubId:t},(e=>{0==e.code&&(console.log("房间列表："+JSON.stringify(e.data)),n.roomsData=e.data||[],App.event.emit(s.List,e.data))}))}createDesk(e){return new Promise(((t,a)=>{App.pomelo.request("cx.cxHandler.createTable",e,(e=>{t(e)}))}))}enterTable(e,t){Log.d("enterTable tableId "+JSON.stringify(e)),e.password=e.password||"",App.loading.show("正在加入房间...");let a=App.stageData.IsMatch?"hall.hallHandler.enterRequest":"cx.cxHandler.enterRequest";App.pomelo.request(a,e,(e=>{Log.d("====>>>>enterRequest: ",e),App.loading.hide(),20==e.code?App.alert.show("防作弊提示，房间已有附近100米内玩家，请换其他房间！"):608==e.code?App.alert.show("比赛已结束！"):t?t(e):this.onEnterTableRsp(e)}))}onEnterTableRsp(e){0==e.code?(App.stageData.IsMatch&&e.data.sitInfo.forEach((e=>{e.userId==o.getUserData().id&&App.stageData.setTempSeat(e.seatId)})),c.setCurEnterRoomData(e.data),App.stageData.IsMatch&&App.stageData.setTempDiwang(e.data.tableInfo.diwang),App.entryManager.enterBundle(a.BUNDLE_CheXuan)):(Log.d("进入房间失败 rsp.code：",e.code),App.tips.show("进入房间失败"))}}p.instance=new p;let i=e("HallModel",p.instance);t._RF.pop()}}}));

System.register("chunks:///_virtual/HallRankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Macros.ts","./Utils.ts"],(function(t){"use strict";var e,i,a,n,r,l,s,o,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,n=t.Label,r=t.Sprite,l=t._decorator},function(t){s=t.default},function(t){o=t.inject},function(t){u=t.Macro},function(t){c=t.default}],execute:function(){var b,p,h,d,f,m,_,g,y,I,k,z,D,N;a._RF.push({},"1caaftlgpJH1Iy93cIg4tq8","HallRankItem",void 0);const{ccclass:v,property:w}=l;t("default",(b=o("rank_num",n),p=o("rank_icon",r),h=o("rank_name",n),d=o("rank_id",n),f=o("rank_gold",n),m=o("prize",n),v((y=e((g=class extends s{constructor(...t){super(...t),i(this,"labNum",y,this),i(this,"spIcon",I,this),i(this,"labName",k,this),i(this,"labID",z,this),i(this,"labGold",D,this),i(this,"labPrize",N,this),this._data=null,this._type=0}onEnable(){if(!this._data||!this.labNum)return;const t=this._data.rank_no;this.labNum.node.active=t>3,this.labNum.string=t,this.spIcon.node.active=t<=3,t<=3&&App.asset.loadSF(u.BUNDLE_HALL,"images/rank/rank_"+t,(t=>{this.spIcon.spriteFrame=t})),this.labName.string=this._data.username+"",this.labID.string="ID:"+this._data.user_id,this.labGold.string=1!=this._type?c.getScore(this._data.amount):this._data.amount+"",this.labPrize.string=c.getScore(this._data.reward)}setData(t,e){this._data=t,this._type=e,this.onEnable()}}).prototype,"labNum",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(g.prototype,"spIcon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(g.prototype,"labName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(g.prototype,"labID",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(g.prototype,"labGold",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(g.prototype,"labPrize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/HallRankPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./HallRankItem.ts","./Utils.ts","./Config.ts","./UIView.ts","./List.ts"],(function(t){"use strict";var e,i,a,n,l,s,r,o,c,h,u,d,p,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,n=t.Node,l=t.ScrollView,s=t.Label,r=t._decorator,o=t.Toggle,c=t.instantiate},function(t){h=t.inject},function(t){u=t.default},function(t){d=t.default},function(t){p=t.Config},function(t){b=t.default},function(t){g=t.default}],execute:function(){var f,m,R,w,T,k,y,S,v,A,B,G,L,P,E,N,D,I,_,z,C,x,H,U,j,F,O,q,V,X;a._RF.push({},"d4193XkhtFBja+bywRi4uPX","HallRankPage",void 0);const{ccclass:M,property:J}=r;t("default",(f=h("safeArea/topLayout/news",n),m=h("safeArea/select",n),R=h("safeArea/gold_page",n),w=h("safeArea/bet_page",n),T=h("safeArea/item_rank",n),k=h("safeArea/gold_page/scrollrect",g),y=h("safeArea/gold_page/scrollrect",l),S=h("safeArea/bet_page/scrollrect",g),v=h("safeArea/bet_page/scrollrect",l),A=h("safeArea/bet_page/select",n),B=h("safeArea/tips/labRank",n),G=h("safeArea/tips/txtRank",s),L=h("safeArea/tips/time_start",s),P=h("safeArea/tips/time_end",s),M((D=e((N=class extends b{constructor(...t){super(...t),i(this,"back",D,this),i(this,"nSelectShowType",I,this),i(this,"nGold",_,this),i(this,"nBet",z,this),i(this,"prebItamRank",C,this),i(this,"scrollRectGold",x,this),i(this,"srlRank",H,this),i(this,"scrollRectBet",U,this),i(this,"srlBet",j,this),i(this,"nSelectsPi",F,this),i(this,"labRank",O,this),i(this,"labDisNum",q,this),i(this,"labTimeStart",V,this),i(this,"labTimeEnd",X,this),this.curShowType=-1,this.goldList=[],this.betList=[],this.curPageGold=0,this.curPageBet=0,this.curShowPiIndex=0}static getPrefabUrl(){return"prefabs/ranking"}onLoad(){super.onLoad(),this.clearShowDesc(),App.utils.addListRule(this.node,this.scrollRectGold,"HallRankPage","onShowGoldItemList","","renderEvent"),App.utils.addListRule(this.node,this.scrollRectBet,"HallRankPage","onShowBetItemList","","renderEvent"),this.onTogType(0)}addEvents(){super.addEvents(),this.onN(this.back,n.EventType.TOUCH_END,this.close),this.nSelectShowType.children.forEach(((t,e)=>{this.onN(t,o.EventType.TOGGLE,(()=>this.onTogType(e)))})),this.nSelectsPi.children.forEach(((t,e)=>{this.onN(t,o.EventType.TOGGLE,(()=>this.onTogPiChange(e)))}))}onTogType(t){App.globalAudio.playGlobalEffect(p.audioPath.button),this.nSelectShowType.children[t].getComponent(o).isChecked&&this.curShowType!=t&&(this.clearShowDesc(),0==t?this.getNextGoldRank():this.getNextBetRank(),this.curShowType=t,this.nGold.active=0==t,this.nBet.active=1==t)}clearShowDesc(){this.labRank.active=!1,this.labDisNum.string="",this.labTimeStart.string="",this.labTimeEnd.string=""}onToBottom(t){t==this.srlRank.node&&this.getNextGoldRank(),t==this.srlBet.node&&this.getNextBetRank()}newItem(t){const e=c(this.prebItamRank);e.active=!0,t.addChild(e);return e.addComponent(u)}updateGoldList(t){this.goldList=t,this.scrollRectGold.numItems=t.length,this.scrollRectGold.scrollTo(0)}onShowGoldItemList(t,e){var i=this.goldList[e];if(i){t.active||(t.active=!0);var a=t.getComponent(u);null==a&&(a=t.addComponent(u)),a.setData(i,0)}else t.active=!1}getNextGoldRank(){this.scrollRectGold.numItems=0,App.apis.rank.reqAgentRank().then((t=>{this.curPageGold++,this.updateGoldList(t.data.list),this.labRank.active=t.data.distance>0,this.labDisNum.node.active=t.data.distance>0,this.labDisNum.string=d.getScore(t.data.distance),this.labTimeStart.string="开始时间："+t.data.beginTime,this.labTimeEnd.string="结束时间："+t.data.endTime})).catch((t=>{App.tips.show(t.message)}))}onTogPiChange(t){App.globalAudio.playGlobalEffect(p.audioPath.button),this.nSelectsPi.children[t].getComponent(o).isChecked&&this.curShowPiIndex!=t&&(this.clearShowDesc(),this.curShowPiIndex=t,this.curPageBet=0,this.getNextBetRank())}updateBetList(t,e=!1){this.betList=t,this.scrollRectBet.numItems=t.length,this.scrollRectBet.scrollTo(0)}onShowBetItemList(t,e){var i=this.betList[e];if(i){t.active||(t.active=!0);var a=t.getComponent(u);null==a&&(a=t.addComponent(u)),a.setData(i,0)}else t.active=!1}getNextBetRank(){App.apis.rank.reqRank({room_type_id:this.curShowPiIndex+1}).then((t=>{this.updateBetList(t.data.list,!0),this.labRank.active=t.data.distance>0,this.labDisNum.node.active=t.data.distance>0,this.labDisNum.string=t.data.distance,this.labTimeStart.string="开始时间："+t.data.beginTime,this.labTimeEnd.string="结束时间："+t.data.endTime})).catch((t=>{App.tips.show(t.message)}))}}).prototype,"back",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(N.prototype,"nSelectShowType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(N.prototype,"nGold",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(N.prototype,"nBet",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(N.prototype,"prebItamRank",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(N.prototype,"scrollRectGold",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(N.prototype,"srlRank",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(N.prototype,"scrollRectBet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(N.prototype,"srlBet",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(N.prototype,"nSelectsPi",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(N.prototype,"labRank",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(N.prototype,"labDisNum",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(N.prototype,"labTimeStart",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(N.prototype,"labTimeEnd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=N))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/HallRoomItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Utils.ts","./CommonData.ts","./UserData.ts"],(function(e){"use strict";var t,i,r,a,n,l,o,s,u,c,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e.Label,n=e.Sprite,l=e.Node,o=e._decorator},function(e){s=e.default},function(e){u=e.inject},function(e){c=e.default},function(e){m=e.HallModelTableState},function(e){b=e.UserDataEn}],execute:function(){var h,p,f,g,y,d,D,v,w,N,T,z,M,C,S,R,B,_,x,E,F,H,I,U,P,A,J,L,k,O;r._RF.push({},"5ed84Z0SLFBra/19qbo4wnD","HallRoomItem",void 0);const{ccclass:j,property:Z}=o;e("default",(h=u("roomNumber",a),p=u("roomDesc",n),f=u("roomDesc/desc",a),g=u("pool",l),y=u("room_btn_enter",l),d=u("status/free",l),D=u("status/playing",l),v=u("dtime",a),w=u("score/value",a),N=u("time/value",a),T=u("member/value",a),z=u("roomMy",l),M=u("roomJoin",l),C=u("players",l),j((B=t((R=class extends s{constructor(...e){super(...e),i(this,"labNumber",B,this),i(this,"sprRoomDesc",_,this),i(this,"labRoomDesc",x,this),i(this,"pool",E,this),i(this,"btnEnter",F,this),i(this,"nFree",H,this),i(this,"nPlaying",I,this),i(this,"labDTime",U,this),i(this,"labScore",P,this),i(this,"labTime",A,this),i(this,"labMemberN",J,this),i(this,"roomMy",L,this),i(this,"roomJoin",k,this),i(this,"players",O,this),this._data=null,this._bundle=null}set bundle(e){this._bundle=e}get bundle(){return this._bundle}setData(e){var t;this._data=e,this.labScore.string=c.getScore(e.pi,0)+"/"+c.getScore(e.mango,0),this.labMemberN.string=e.sitDownCount+"/"+e.seatMax,this.labTime.string=Math.floor(e.gameTime/60)+"分钟",this.labNumber.string=c.padLeft(e.tableNo,6),this.sprRoomDesc.grayscale=!e.diwang,this.labRoomDesc.string=e.diwang?"地九王":"普通",this.pool.active=!1,this.nFree.active=e.tableState==m.WAIT||e.tableState==m.READY||null==e.tableState,this.nPlaying.active=e.tableState==m.GAME;var i=b.getUserData().id;this.roomMy.active=e.createUserId==i,this.roomJoin.active=e.isMy&&e.createUserId!=i;for(const e of this.players.children)e.active=!1;null==(t=e.palyers)||t.forEach((t=>{this.players.getChildByName("player"+(e.palyers.indexOf(t)+1)).active=!0,this.players.getChildByName("player"+(e.palyers.indexOf(t)+1)).getChildByName("sprHeadBg").getChildByName("mask").getChildByName("sprHead").getComponent(n).loadRemoteImage({url:t.avatar+"?t="+(new Date).getTime(),view:this,defaultBundle:this.bundle,isNeedCache:!0}),this.players.getChildByName("player"+(e.palyers.indexOf(t)+1)).getChildByName("txtName").getComponent(a).string=t.userName})),this.unscheduleAllCallbacks(),this.labDTime.string="剩余:"+this.convertDate(e.remainTime),e.remainTime!=e.gameTime&&this.schedule((()=>{!this.node||e.remainTime<=0||(this.labDTime.string="剩余:"+this.convertDate(e.remainTime),e.remainTime>0&&e.remainTime--)}),1)}convertDate(e){let t=Math.floor(e/60),i=t<10?"0"+t:""+t,r=Math.floor(e%3600%60);return i+":"+(r<10?"0"+r:""+r)}addZero(e){return e<10?"0"+e:e+""}}).prototype,"labNumber",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(R.prototype,"sprRoomDesc",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(R.prototype,"labRoomDesc",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(R.prototype,"pool",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(R.prototype,"btnEnter",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(R.prototype,"nFree",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(R.prototype,"nPlaying",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(R.prototype,"labDTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(R.prototype,"labScore",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(R.prototype,"labTime",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(R.prototype,"labMemberN",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(R.prototype,"roomMy",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(R.prototype,"roomJoin",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(R.prototype,"players",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=R))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/HallRoomPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./HallRoomItem.ts","./Macros.ts","./Config.ts","./FriendView.ts","./EnterRoomView.ts","./HallModel.ts","./CommonData.ts","./CommonEvent.ts","./List.ts","./HallRankPage.ts","./ConfigInfo.ts"],(function(t){"use strict";var e,o,i,n,s,a,l,r,c,u,p,h,d,m,f,b,g,E,R,D,T,A,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,s=t.Toggle,a=t._decorator,l=t.macro},function(t){r=t.default},function(t){c=t.inject},function(t){u=t.default},function(t){p=t.Macro},function(t){h=t.Config,d=t.ViewZOrder},function(t){m=t.default},function(t){f=t.default},function(t){b=t.HallModel},function(t){g=t.EmRoomEvent,E=t.CommonData},function(t){R=t.CommonEvent},function(t){D=t.default},function(t){T=t.default},function(t){A=t.ConfigInfoEn,y=t.EmConfigData}],execute:function(){var L,C,S,v,w,I,N,F,_,P,H,M,O;i._RF.push({},"7b45di3Jn5Kwbp1YdpYA8k/","HallRoomPage",void 0);const{ccclass:G,property:V}=a;t("default",(L=G(),C=c("btn_friend",n),S=c("room/select/select",n),v=c("room/select/not_room/select_room",s),w=c("room/select/search",n),I=c("room/scrollViewRoom",D),L((_=e((F=class extends r{constructor(...t){super(...t),o(this,"btnFriend",_,this),o(this,"togSelect",P,this),o(this,"togFree",H,this),o(this,"editEnter",M,this),o(this,"scrollViewRoom",O,this),this.curSelectType=0,this.selectFree=!1,this.roomsData=[],this.renderRoomDatas=[],this.hasEnable=!1}onLoad(){this.onN(this.btnFriend,n.EventType.TOUCH_END,this.toFriend),this.togSelect.children.forEach(((t,e)=>this.onN(t,s.EventType.TOGGLE,(()=>this.onSelectTog(e))))),this.onN(this.togFree.node,s.EventType.TOGGLE,this.onSelectFree),this.onN(this.editEnter,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(h.audioPath.button),App.uiManager.open({type:f,bundle:p.BUNDLE_HALL,zIndex:d.UI})}));A.getConfig(y.CONFIG_NOTICE);App.event.on(g.Back,(t=>{this.enterTableAuto()}),this.node),App.event.on(R.NETWORK_RECONNECT_START,(t=>{this.unscheduleAllCallbacks()}),this.node),App.event.on(R.NETWORK_RECONNECT_SUCCESS,(t=>{this.refreshTableListRepeat()}),this.node),App.event.on(g.List,(t=>{this.roomsData=E.roomsData,this.updateRoomList()}),this.node),App.event.on(g.Add,(t=>{this.roomsData=E.roomsData,this.updateRoomList()}),this.node),App.event.on(g.Remove,(t=>{this.roomsData=this.roomsData||[],this.roomsData=this.roomsData.filter((e=>e.tableId!=t.tableId)),this.updateRoomList()}),this.node),App.event.on(g.Update,(t=>{this.updateRoomList()}),this.node),App.utils.addListRule(this.node,this.scrollViewRoom,"HallRoomPage","onShowItemList","","renderEvent"),App.utils.addListRule(this.node,this.scrollViewRoom,"HallRoomPage","onSelectItemList","","selectedEvent"),this.roomsData=E.roomsData,this.updateRoomList(),this.enterTableAuto(),this.refreshTableListRepeat()}onEnable(){this.hasEnable?(this.scrollViewRoom.scrollTo(0,0),b.refreshTableList(1)):this.hasEnable=!0}enterTableAuto(){E.currentTableId>0&&(b.enterTable({isTalbeNo:!1,tableId:E.currentTableId,password:"",locate:JSON.stringify(App.stageData.GPSLocation)}),E.currentTableId=-1)}refreshTableListRepeat(){this.schedule((()=>{b.refreshTableList(1)}),5,l.REPEAT_FOREVER,5)}toFriend(){App.globalAudio.playGlobalEffect(h.audioPath.button),App.uiManager.open({type:m,bundle:p.BUNDLE_HALL})}toRanK(){App.globalAudio.playGlobalEffect(h.audioPath.button),App.uiManager.open({type:T,bundle:p.BUNDLE_HALL})}onSelectTog(t){if(App.globalAudio.playGlobalEffect(h.audioPath.button),this.togSelect.children[t].getComponent(s).isChecked){if(this.curSelectType==t)return;this.curSelectType=t,this.updateRoomList(!0)}}onSelectFree(){App.globalAudio.playGlobalEffect(h.audioPath.button),this.selectFree!=this.togFree.isChecked&&(this.selectFree=this.togFree.isChecked,this.updateRoomList(!0))}updateRoomList(t=!1){if(!this.node.activeInHierarchy)return;this.renderRoomDatas=[];const e=[100,500,2e3];this.roomsData=this.roomsData||[],this.roomsData.forEach((t=>{this.selectFree&&t.seatMax<=t.sitDownCount||1==this.curSelectType&&t.pi>=e[1]||2==this.curSelectType&&(t.pi>=e[2]||t.pi<e[1])||3==this.curSelectType&&t.pi<e[2]||(4!=this.curSelectType||t.isMy)&&this.renderRoomDatas.push(t)})),this.renderRoomDatas.sort(((t,e)=>{if(t.isMy!=e.isMy)return t.isMy?-1:1;{let o=t.tableState<=1&&t.sitDownCount>=1,i=e.tableState<=1&&e.sitDownCount>=1;return o&&i?t.sitDownCount>e.sitDownCount?-1:t.sitDownCount<e.sitDownCount?1:t.pi<e.pi?-1:t.pi>e.pi?1:0:o?-1:i?1:t.pi<e.pi?-1:t.pi>e.pi?1:0}})),t&&this.scrollViewRoom.scrollTo(0,0),this.scrollViewRoom.numItems=this.renderRoomDatas.length}onShowItemList(t,e){var o=this.renderRoomDatas[e];if(o){t.active||(t.active=!0);var i=t.getComponent(u);null==i&&(i=t.addComponent(u)),i.setData(o)}else t.active=!1}onSelectItemList(t,e,o,i){if(t){App.globalAudio.playGlobalEffect(h.audioPath.button),Log.d("====>>>>点击了: ",e),App.stageData.IsMatch=!1;var n=this.renderRoomDatas[e];b.enterTable({isTalbeNo:!1,tableId:n.tableId,password:n.password,locate:JSON.stringify(App.stageData.GPSLocation)})}}}).prototype,"btnFriend",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(F.prototype,"togSelect",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(F.prototype,"togFree",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(F.prototype,"editEnter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(F.prototype,"scrollViewRoom",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=F))||N));i._RF.pop()}}}));

System.register("chunks:///_virtual/HallService.ts",["cc","./Service.ts","./UserData.ts"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Service},function(e){r=e.UserDataEn}],execute:function(){t._RF.push({},"93da5qbJLVLdb0+u/g93Ce6","HallService",void 0);class s extends n{connect(){r.getUserData()}sendHeartbeat(){throw new Error("Method not implemented.")}isHeartBeat(e){throw new Error("Method not implemented.")}onMessage(e){}onClose(e){}onOpen(e){super.onOpen(e)}}e("default",s),s.module="HallService",t._RF.pop()}}}));

System.register("chunks:///_virtual/HallUserCenterPage.ts",["cc","./UserData.ts","./Utils.ts","./Macros.ts","./SetView.ts","./userInfo2.ts","./CommonEvent.ts","./goldRecordView.ts","./giveView.ts","./myRecord.ts","./DividendView.ts","./Config.ts","./ShareView.ts","./UIView.ts"],(function(t){"use strict";var e,n,o,i,a,l,d,s,u,p,r,h,c,f,g,v,y,b;return{setters:[function(t){e=t.cclegacy,n=t.Node,o=t.Sprite,i=t.Label,a=t._decorator},function(t){l=t.UserDataEn},function(t){d=t.default},function(t){s=t.Macro},function(t){u=t.default},function(t){p=t.default},function(t){r=t.UserInfoEvent},function(t){h=t.default},function(t){c=t.default},function(t){f=t.default},function(t){g=t.default},function(t){v=t.Config},function(t){y=t.default},function(t){b=t.default}],execute:function(){var A;e._RF.push({},"34af0eCYMlM1LjOABuKzqsS","HallUserCenterPage",void 0);const{ccclass:C,property:E}=a;t("default",C(A=class extends b{constructor(...t){super(...t),this.userApi=App.apis.user}onLoad(){this.initUserinfo(),this.btnEvents(),this.setWinRate("0.00%","0.00%",0),this.refreshWinRate(),App.event.on(r.USER_DATA_UPDATA,this.onDataUpdate.bind(this))}btnEvents(){let t=this.node.getChildByPath("content/top/nameInfo/butEdit"),e=this.node.getChildByPath("content/ScrollView/view/content/butGive"),o=this.node.getChildByPath("content/ScrollView/view/content/butSet"),i=this.node.getChildByPath("content/ScrollView/view/content/butCard"),a=this.node.getChildByPath("content/ScrollView/view/content/butShare"),d=this.node.getChildByPath("content/ScrollView/view/content/butDividend"),s=this.node.getChildByPath("content/ScrollView/view/content/butRecord"),u=this.node.getChildByPath("content/top/idInfo/butCopy");0==l.getUserData().type&&(a.active=!1,d.active=!1),this.onN(e,n.EventType.TOUCH_END,this.onGive),this.onN(o,n.EventType.TOUCH_END,this.onSet),this.onN(t,n.EventType.TOUCH_END,this.onUserInfo),this.onN(i,n.EventType.TOUCH_END,this.onGoldRecord),this.onN(d,n.EventType.TOUCH_END,this.onDividend),this.onN(s,n.EventType.TOUCH_END,this.onRecord),this.onN(a,n.EventType.TOUCH_END,this.onShare),this.onN(u,n.EventType.TOUCH_END,(()=>{var t=l.getUserData();App.nativeBridge.setClipboard(t.id+"")}))}buffer2Base64(t){let e="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(t),i=o.byteLength,a=i%3,l=i-a;let d,s,u,p,r;for(let t=0;t<l;t+=3)r=o[t]<<16|o[t+1]<<8|o[t+2],d=(16515072&r)>>18,s=(258048&r)>>12,u=(4032&r)>>6,p=63&r,e+=n[d]+n[s]+n[u]+n[p];return 1===a?(r=o[l],d=(252&r)>>2,s=(3&r)<<4,e+=`${n[d]}${n[s]}==`):2===a&&(r=o[l]<<8|o[l+1],d=(64512&r)>>10,s=(1008&r)>>4,u=(15&r)<<2,e+=`${n[d]}${n[s]}${n[u]}=`),e}initUserinfo(){var t,e,n,a;let s=this.node.getChildByPath("content/ScrollView/view/content/butDividend"),u=null==(t=this.node.getChildByPath("content/top/headBg/mask/head"))?void 0:t.getComponent(o),p=null==(e=this.node.getChildByPath("content/top/nameInfo/name"))?void 0:e.getComponent(i),r=null==(n=this.node.getChildByPath("content/top/idInfo/id"))?void 0:n.getComponent(i),h=null==(a=this.node.getChildByPath("content/top/goldbg/Label"))?void 0:a.getComponent(i);var c=l.getUserData();p.string=App.utils.contentSubRe(c.username),r.string=c.id+"",h.string=d.getScore(c.balance)+"",0==c.type&&(s.active=!1),u.loadRemoteImage({url:c.avatar+"?t="+(new Date).getTime(),view:this,defaultBundle:this.bundle,isNeedCache:!0})}onDestroy(){super.onDestroy(),App.event.off(r.USER_DATA_UPDATA)}onDataUpdate(){this.initUserinfo()}onGive(){App.globalAudio.playGlobalEffect(v.audioPath.button),App.uiManager.open({type:c,bundle:s.BUNDLE_HALL})}onSet(){App.globalAudio.playGlobalEffect(v.audioPath.button),App.uiManager.open({type:u,bundle:s.BUNDLE_HALL})}onUserInfo(){App.globalAudio.playGlobalEffect(v.audioPath.button),App.uiManager.open({type:p,bundle:s.BUNDLE_HALL}),this.onDataUpdate()}onGoldRecord(){App.globalAudio.playGlobalEffect(v.audioPath.button),App.uiManager.open({type:h,bundle:s.BUNDLE_HALL})}onDividend(){App.globalAudio.playGlobalEffect(v.audioPath.button),App.uiManager.open({type:g,bundle:s.BUNDLE_HALL})}onRecord(){App.globalAudio.playGlobalEffect(v.audioPath.button),App.uiManager.open({type:f,bundle:s.BUNDLE_HALL})}onShare(){App.globalAudio.playGlobalEffect(v.audioPath.button),App.uiManager.open({type:y,bundle:s.BUNDLE_HALL})}refreshWinRate(){this.userApi.gameSummary().then((t=>{var e=(100*Number(t.data.turnOverRate)).toFixed(2)+"%",n="0.00%";t.data.totalHands>0&&(n=(t.data.winTimes/t.data.totalHands*100).toFixed(2)+"%"),this.setWinRate(n,e,t.data.totalHands)})).catch((t=>{}))}setWinRate(t,e,n){var o,a,l,d=this.node.getChildByPath("content/gameInfo");let s=null==(o=d.getChildByPath("winrate/winVal"))?void 0:o.getComponent(i),u=null==(a=d.getChildByPath("fanpairate/fanpaiVal"))?void 0:a.getComponent(i),p=null==(l=d.getChildByPath("sou/sumSou"))?void 0:l.getComponent(i);s.string=t,u.string=e,p.string=(n||0)+""}})||A);e._RF.pop()}}}));

System.register("chunks:///_virtual/HallView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./HallLogic.ts","./ConfigInfo.ts","./HallRoomPage.ts","./HallUserCenterPage.ts","./GameView.ts","./HallAnnouncementPage.ts","./MsgView.ts","./HallWalletPage.ts","./Broadcast.ts","./Macros.ts","./HallService.ts","./Config.ts","./HallMatchPage.ts","./UserData.ts","./Utils.ts","./CommonEvent.ts","./HallRankPage.ts","./HallMainPage.ts","./myRecord.ts"],(function(t){"use strict";var e,n,i,a,o,r,l,s,u,c,h,p,f,b,g,d,m,y,A,C,P,w,E,v,D,N,L,U,H,T,_,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,o=t.Label,r=t.Sprite,l=t._decorator,s=t.Color,u=t.Prefab,c=t.instantiate,h=t.find},function(t){p=t.inject},function(t){f=t.default},function(t){b=t.ConfigInfoEn,g=t.EmConfigData},function(t){d=t.default},function(t){m=t.default},function(t){y=t.default},function(t){A=t.default},function(t){C=t.default},function(t){P=t.default},function(t){w=t.default},function(t){E=t.Macro},function(t){v=t.default},function(t){D=t.Config},function(t){N=t.default},function(t){L=t.UserDataEn},function(t){U=t.default},function(t){H=t.CommonEvent},function(t){T=t.default},function(t){_=t.default},function(t){M=t.default}],execute:function(){var z,I,S,O,G,R,B,F,$,k,V,W,K,x,j,X,J,Z,q,Q,Y,tt,et,nt,it,at,ot,rt,lt,st,ut,ct,ht,pt,ft,bt,gt,dt,mt,yt,At,Ct,Pt,wt,Et;i._RF.push({},"ba2d6+Rc4ZJ96grI38eAUet","HallView",void 0);const{ccclass:vt,property:Dt}=l;t("default",(z=p({type:f,name:"logic"}),I=p("safeArea/topLayout/customerService",a),S=p("safeArea/topLayout/news",a),O=p("safeArea/topLayout/btn_rank",a),G=p("safeArea/topLayout/title",o),R=p("safeArea/contentLayout/main/broadcast",a),B=p("safeArea/bottomLayout/announcement",a),F=p("safeArea/bottomLayout/match",a),$=p("safeArea/bottomLayout/home",a),k=p("safeArea/bottomLayout/wallet",a),V=p("safeArea/bottomLayout/user",a),W=p("safeArea/contentLayout/announcement",a),K=p("safeArea/contentLayout/match",a),x=p("safeArea/contentLayout/roomMain",a),j=p("safeArea/contentLayout/wallet",a),X=p("safeArea/contentLayout/userCenter",a),J=p("safeArea/contentLayout/main",a),Z=p("safeArea/topLayout/info/nick",o),q=p("safeArea/topLayout/info/id",o),Q=p("safeArea/topLayout/diamond/lb_diamond",o),Y=p("safeArea/topLayout/info/head",r),vt(((Et=class extends y{constructor(...t){super(...t),n(this,"logic",nt,this),n(this,"customerService",it,this),n(this,"btnMsg",at,this),n(this,"btnRanK",ot,this),n(this,"title",rt,this),n(this,"broadcast",lt,this),n(this,"btnAnnouncement",st,this),n(this,"btnMatch",ut,this),n(this,"btnHome",ct,this),n(this,"btnWallet",ht,this),n(this,"btnUser",pt,this),n(this,"announcementPage",ft,this),n(this,"matchPage",bt,this),n(this,"homePage",gt,this),n(this,"walletPage",dt,this),n(this,"userPage",mt,this),n(this,"mainPage",yt,this),n(this,"lbNick",At,this),n(this,"lbId",Ct,this),n(this,"lbDiamond",Pt,this),n(this,"spHead",wt,this),this._colorUn=new s,this._colorSe=new s,this.refreshUserTimer=0}static getPrefabUrl(){return"prefabs/HallView"}onLoad(){s.fromHEX(this._colorUn,"#999999"),s.fromHEX(this._colorSe,"#63AFF0"),super.onLoad(),App.globalAudio.playGlobalMusic(D.audioPath.hallbg1),this.onN(this.btnMsg,a.EventType.TOUCH_END,this.toMsgList),this.onN(this.btnAnnouncement,a.EventType.TOUCH_END,this.toMsgList),this.onN(this.customerService,a.EventType.TOUCH_END,this.toService),this.onN(this.btnRanK,a.EventType.TOUCH_END,this.toRanK),this.onN(this.btnMatch,a.EventType.TOUCH_END,(()=>this.changeToPage(this.btnMatch,this.matchPage))),this.onN(this.btnHome,a.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(D.audioPath.button),App.uiManager.open({type:M,bundle:this.bundle})})),this.onN(this.btnWallet,a.EventType.TOUCH_END,(()=>this.changeToPage(this.btnWallet,this.walletPage))),this.onN(this.btnUser,a.EventType.TOUCH_END,(()=>this.changeToPage(this.btnUser,this.userPage)));b.getConfig(g.CONFIG_NOTICE);App.event.on(H.GAME_NOTICE,(()=>{this.broadcast.getComponent(w).fetchNotice()}),this.node),this.mainPage.addComponent(_),this.userPage.addComponent(m),this.homePage.addComponent(d),this.announcementPage.addComponent(A),this.matchPage.addComponent(N),this.matchPage.getComponent(N).init(this),this.walletPage.addComponent(P),this.broadcast.addComponent(w),this.showActivity(),this.showNewDonate()}start(){this.getConfigs().then((()=>{this.connectHallServer()})),window.Platform.GetCurLocation();let t=L.getUserData();this.lbId.string=`ID:${t.id}`,this.lbNick.string=`${t.username}`,this.lbDiamond.string=`${t.diamonds}`,this.spHead.loadRemoteImage({url:`${t.avatar}`,view:this,defaultBundle:E.BUNDLE_HALL,isNeedCache:!0})}onDestroy(){this.refreshUserTimer>0&&(clearInterval(this.refreshUserTimer),this.refreshUserTimer=0)}toRanK(){App.globalAudio.playGlobalEffect(D.audioPath.button),App.uiManager.open({type:T,bundle:E.BUNDLE_HALL})}async getConfigs(){}connectHallServer(){let t=App.serviceManager.get(v,!0);t&&t.connect(),App.apis.user.getUserInfo(),this.refreshUserTimer=setInterval((()=>{App.apis.user.getUserInfo()}),1e4)}get pages(){return[this.announcementPage,this.matchPage,this.homePage,this.walletPage,this.userPage]}get tabs(){return[this.btnAnnouncement,this.btnMatch,this.btnHome,this.btnWallet,this.btnUser]}get pageDesc(){return["公告","消息","游戏大厅","钱包","个人信息"]}changeToPage(t,e){App.globalAudio.playGlobalEffect(D.audioPath.button),this.tabs.forEach((e=>{e.getComponentInChildren(o).color=e==t?this._colorSe:this._colorUn,e.getChildByPath("icon/unIcon").active=e!=t,e.getChildByPath("spine")||(e.getChildByPath("icon").getComponent(r).enabled=e==t)}));const n=this.pages;n.forEach((t=>t.active=t==e)),this.title.string=this.pageDesc[n.indexOf(e)]||""}toService(){App.globalAudio.playGlobalEffect(D.audioPath.button);const t=b.getConfig(g.CONFIG);if(t&&t.chat_url){var e=L.getUserData(),n=t.chat_url+`?uid=${e.id}&uname=${encodeURI(e.username)}`;App.nativeBridge.openUrl(n)}else App.tips.show("获取聊天链接地址失败！")}toMsgList(){App.globalAudio.playGlobalEffect(D.audioPath.button),App.uiManager.open({type:C,bundle:this.bundle})}showActivity(){if(App.stageData.FirstShow)return;App.stageData.FirstShow=!0;const t=b.getConfig(g.CONFIG_NOTICE);if(null==t)return;let e=t.bulletin;for(let t=0;t<e.length;t++)App.asset.load(E.BUNDLE_HALL,"prefabs/activity",u,(()=>{}),(n=>{const i=c(n.data);this.node.addChild(i);let r=h("ScrollView/view/content/labNotice",i).getComponent(o),l=i.getChildByPath("SpriteSplash"),s=i.getChildByPath("btnClose");i.getChildByPath("title").getComponent(o).string=e[t].title,r.string=e[t].content,this.onN(l,a.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(D.audioPath.button),this.node.removeChild(i)})),this.onN(s,a.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(D.audioPath.button),this.node.removeChild(i)}))}))}showNewDonate(){App.apis.user.donateNewRecord().then((t=>{t.data&&0!=t.data.length&&this.showDonateTip(t.data)}))}showDonateTip(t){let e=t.shift();App.alert.show({richText:`您收到 <color=#D8D847>${e.username}</color> 赠送的 <color=#53D847>${U.getScoreImplicit(e.money)}</color> 金币`,confirmCb:()=>{t.length>0&&this.showDonateTip(t)}})}}).logicType=f,nt=e((et=Et).prototype,"logic",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(et.prototype,"customerService",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(et.prototype,"btnMsg",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(et.prototype,"btnRanK",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(et.prototype,"title",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(et.prototype,"broadcast",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(et.prototype,"btnAnnouncement",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(et.prototype,"btnMatch",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(et.prototype,"btnHome",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(et.prototype,"btnWallet",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(et.prototype,"btnUser",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(et.prototype,"announcementPage",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(et.prototype,"matchPage",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(et.prototype,"homePage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(et.prototype,"walletPage",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(et.prototype,"userPage",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(et.prototype,"mainPage",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(et.prototype,"lbNick",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(et.prototype,"lbId",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(et.prototype,"lbDiamond",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(et.prototype,"spHead",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=et))||tt));i._RF.pop()}}}));

System.register("chunks:///_virtual/HallWalletPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./WalletPasswordPage.ts","./UserData.ts","./WalletRechargePage.ts","./WalletWithdrwaPage.ts","./WalletGivePage.ts","./WalletRecordsPage.ts","./Config.ts"],(function(e){"use strict";var t,n,i,a,o,r,l,s,c,u,h,d,f,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Node,o=e._decorator,r=e.Toggle},function(e){l=e.default},function(e){s=e.inject},function(e){c=e.default},function(e){u=e.UserDataEn},function(e){h=e.default},function(e){d=e.default},function(e){f=e.default},function(e){g=e.default},function(e){p=e.Config}],execute:function(){var b,w,m,v,P,y,W,C,R,S,T,M,z,_,D,E,G,H;i._RF.push({},"7b550904sNHoZHcI3U3ZLwX","HallWalletPage",void 0);const{ccclass:L,property:U}=o;e("default",(b=s("psw",a),w=s("main",a),m=s("main/scroll_view/content",a),v=s("main/scroll_view/content/recharge",a),P=s("main/scroll_view/content/withdraw",a),y=s("main/select",a),W=s("main/scroll_view/records",a),C=s("main/scroll_view/give",a),L((T=t((S=class extends l{constructor(...e){super(...e),n(this,"nPSW",T,this),n(this,"nMain",M,this),n(this,"nMainRoot",z,this),n(this,"nRecharge",_,this),n(this,"nWithdraw",D,this),n(this,"nSelects",E,this),n(this,"nRecords",G,this),n(this,"nGive",H,this)}onLoad(){super.onLoad(),this.nSelects.children.forEach(((e,t)=>{this.onN(e,r.EventType.TOGGLE,(()=>this.onTogChange(t)))}));if(!u.getUserData().transPassword){this.nPSW.addComponent(c).setSuccessCB=()=>{this.showMainPage(!0)}}this.nRecharge.addComponent(h),this.nWithdraw.addComponent(d),this.nRecords.addComponent(g),this.nGive.addComponent(f)}onEnable(){const e=u.getUserData();this.showMainPage(!!e.transPassword),this.nSelects.children[0].getComponent(r).setIsCheckedWithoutNotify(!0),this.changeToTab(0)}showMainPage(e){this.nPSW.active=!e,this.nMain.active=e}onTogChange(e){App.globalAudio.playGlobalEffect(p.audioPath.button),this.nSelects.children[e].getComponent(r).isChecked&&this.changeToTab(e)}changeToTab(e){this.nRecords.active=2==e,this.nGive.active=3==e,this.nMainRoot.children.forEach(((t,n)=>t.active=n==e))}}).prototype,"nPSW",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(S.prototype,"nMain",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"nMainRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(S.prototype,"nRecharge",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"nWithdraw",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(S.prototype,"nSelects",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(S.prototype,"nRecords",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(S.prototype,"nGive",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=S))||R));i._RF.pop()}}}));

System.register("chunks:///_virtual/JoinClubItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Macros.ts"],(function(e){"use strict";var t,i,n,r,a,l,o,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Label,a=e.Sprite,l=e._decorator},function(e){o=e.default},function(e){u=e.inject},function(e){s=e.Macro}],execute:function(){var c,b,p,d,m,f,h,C,g;n._RF.push({},"46ad1LS6o9Jsa4XnPrSBcJI","JoinClubItem",void 0);const{ccclass:v,property:I}=l;e("JoinClubData",class{constructor(){this.name=void 0,this.id=void 0,this.avatar=void 0}});e("JoinClubItem",(c=v("JoinClubItem"),b=u("lb_name",r),p=u("sp_head",a),d=u("lb_id",r),c((h=t((f=class extends o{constructor(...e){super(...e),i(this,"lbClubName",h,this),i(this,"spClubHead",C,this),i(this,"lbId",g,this)}setData(e){this.lbClubName.string=e.name,this.lbId.string=`ID:${e.id}`,this.spClubHead.loadRemoteImage({url:e.avatar,view:App.uiManager.getView("JoinClubView"),defaultBundle:s.BUNDLE_HALL,isNeedCache:!0})}}).prototype,"lbClubName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(f.prototype,"spClubHead",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(f.prototype,"lbId",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=f))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/JoinClubView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts","./List.ts","./JoinClubItem.ts"],(function(t){"use strict";var i,e,o,n,s,l,a,u,r,p,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Node,s=t.EditBox,l=t._decorator},function(t){a=t.default},function(t){u=t.inject},function(t){r=t.Config},function(t){p=t.default},function(t){c=t.JoinClubItem}],execute:function(){var h,b,d,f,g,w,C,A,D,m,I,y,L;o._RF.push({},"bddec22xJxD+IbUA63bsp6v","JoinClubView",void 0);const{ccclass:S,property:E}=l;t("default",(h=S("JoinClubView"),b=u("topLayout/news",n),d=u("content/btn_join",n),f=u("content/btn_find",n),g=u("content/ScrollView",p),w=u("/content/bg/EditBox",s),h((D=i((A=class extends a{constructor(...t){super(...t),this.userApi=App.apis.user,e(this,"back",D,this),e(this,"join",m,this),e(this,"find",I,this),e(this,"ScrollView",y,this),e(this,"ebClubID",L,this),this.clubDatas=[],this.isLoading=!1,this.selClubId=""}static getPrefabUrl(){return"club/prefabs/JoinClubView"}onLoad(){super.onLoad(),this.onN(this.back,n.EventType.TOUCH_END,this.onClose),this.onN(this.join,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(r.audioPath.button),this.selClubId.length<1?App.tips.show("请先查找俱乐部"):(App.loading.show(""),this.userApi.joinClub(this.selClubId).then((t=>{App.loading.hide(),App.tips.show("申请成功,等待俱乐部通过"),this.onClose()})).catch((t=>{App.tips.show(t.message),App.loading.hide()})))})),this.onN(this.find,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(r.audioPath.button),this.ebClubID.string.length<1?App.tips.show("请输入俱乐部ID"):this.onRecord()})),App.utils.addListRule(this.node,this.ScrollView,"JoinClubView","onShowItemList","","renderEvent"),App.utils.addListRule(this.node,this.ScrollView,"JoinClubView","onSelectItemList","","selectedEvent"),this.ScrollView.numItems=this.clubDatas.length}onClose(){App.globalAudio.playGlobalEffect(r.audioPath.close),this.close()}onDestroy(...t){super.onDestroy()}onRecord(){this.isLoading||(App.loading.show(""),this.isLoading=!0,this.userApi.searchClub(this.ebClubID.string).then((t=>{this.isLoading=!1,App.loading.hide();let i=t.data;i&&(this.clubDatas=[i],this.ScrollView.numItems=this.clubDatas.length,this.selClubId=i.id.toString())})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))}onShowItemList(t,i){Log.d("====>>>>onShowItemList: ",i,this.clubDatas[i]);let e=t.getComponent(c);null==e&&(e=t.addComponent(c));let o=this.clubDatas[i];e.setData(o)}onSelectItemList(t,i,e,o){if(!t)return;App.globalAudio.playGlobalEffect(r.audioPath.button),Log.d("====>>>>点击了: ",i);let n=this.clubDatas[i];n&&(this.selClubId=n.id.toString())}}).prototype,"back",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(A.prototype,"join",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(A.prototype,"find",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(A.prototype,"ScrollView",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(A.prototype,"ebClubID",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=A))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/matchRecord.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts","./List.ts","./Utils.ts"],(function(t){"use strict";var e,o,r,n,i,a,s,c,l,d,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Node,i=t._decorator,a=t.find,s=t.Label},function(t){c=t.default},function(t){l=t.inject},function(t){d=t.Config},function(t){p=t.default},function(t){u=t.default}],execute:function(){var h,g,m,f,b,D,C,y;r._RF.push({},"e1b998VT5hC4oH/VumRshIV","matchRecord",void 0);const{ccclass:R,property:w}=i;t("default",(h=l("pannelBg/btnClose",n),g=l("pannelBg/scrollViewRecord",p),m=l("pannelBg/emptyNode",n),R((D=e((b=class extends c{constructor(...t){super(...t),o(this,"btnClose",D,this),o(this,"scrollViewRecord",C,this),o(this,"emptyNode",y,this),this.recordData=[]}static getPrefabUrl(){return"match/prefabs/matchRecord"}onLoad(){super.onLoad(),this.onN(this.btnClose,n.EventType.TOUCH_END,this.onClose),App.utils.addListRule(this.node,this.scrollViewRecord,"matchRecord","onShowItemList","","renderEvent"),App.uiLoading.show(),App.pomelo.request("hall.hallHandler.raceRecord",{},(t=>{Log.d("====>>>>rankRecord: ",t),App.uiLoading.hide(),0==t.code?(this.recordData=t.data,this.scrollViewRecord.numItems=this.recordData.length,this.emptyNode.active=0==this.recordData.length):7==t.code&&App.tips.show("查询失败!")}))}onShowItemList(t,e){let o=a("labName",t),r=a("labTime",t),n=a("labCost",t),i=a("labRank",t),c=a("labReward",t);o.getComponent(s).string=this.recordData[e].name,r.getComponent(s).string=u.dateFormat(new Date(this.recordData[e].start_time)),0==this.recordData[e].race_type?n.getComponent(s).string="免费":1==this.recordData[e].race_type?n.getComponent(s).string=Math.floor(this.recordData[e].signup_fee/100).toString():2==this.recordData[e].race_type&&(n.getComponent(s).string=this.recordData[e].signup_fee.toString()),i.getComponent(s).string=this.recordData[e].rank.toString(),c.getComponent(s).string=this.recordData[e].reward.toString()}onClose(){App.globalAudio.playGlobalEffect(d.audioPath.close),this.close()}}).prototype,"btnClose",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(b.prototype,"scrollViewRecord",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(b.prototype,"emptyNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/matchResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts","./List.ts","./Utils.ts"],(function(t){"use strict";var e,a,n,i,l,r,s,o,u,c,h,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t.Node,l=t.Label,r=t._decorator,s=t.find,o=t.Sprite},function(t){u=t.default},function(t){c=t.inject},function(t){h=t.Config},function(t){p=t.default},function(t){d=t.default}],execute:function(){var b,g,m,f,k,w,D,y,R,C,L,v;n._RF.push({},"8ef927Y3gpKU7FV8uuH1Sh4","matchResult",void 0);const{ccclass:T,property:I}=r;t("default",(b=c("pannelBg/btnClose",i),g=c("pannelBg/titleBg/Layout/labTitle",l),m=c("pannelBg/titleBg/Layout/labTime",l),f=c("pannelBg/scrollViewResult",p),k=c("pannelBg/emptyNode",i),T((y=e((D=class extends u{constructor(...t){super(...t),a(this,"btnClose",y,this),a(this,"labTitle",R,this),a(this,"labTime",C,this),a(this,"scrollViewResult",L,this),a(this,"emptyNode",v,this),this.rankData=[]}static getPrefabUrl(){return"match/prefabs/matchResult"}onLoad(){super.onLoad(),this.onN(this.btnClose,i.EventType.TOUCH_END,this.onClose),App.utils.addListRule(this.node,this.scrollViewResult,"matchResult","onShowRankList","","renderEvent")}start(){App.uiLoading.show(),App.pomelo.request("hall.hallHandler.rankList",{raceId:this.args.data.id},(t=>{App.uiLoading.hide(),0==t.code?(this.rankData=t.data.rankList,this.scrollViewResult.numItems=this.rankData.length,this.emptyNode.active=0==this.rankData.length,this.labTitle.string=t.data.raceInfo.name,this.labTime.string=d.dateFormat(new Date(t.data.raceInfo.start_tm))+" - "+d.dateFormat(new Date(t.data.raceInfo.end_tm))):80==t.code?App.tips.show("比赛不存在!"):609==t.code&&App.tips.show("比赛奖励配置不存在!")}))}onShowRankList(t,e){let a=s("iconRank",t),n=s("labRank",t),i=s("labNick",t),r=s("Label",t);a.active=this.rankData[e].rank<=3,n.active=this.rankData[e].rank>3,this.rankData[e].rank>3?(n.getComponent(l).string=this.rankData[e].rank,t.getComponent(o).loadImage({url:"match/images/rankbg4",view:this,bundle:this.bundle})):(a.getComponent(o).loadImage({url:"match/images/rankicon"+this.rankData[e].rank,view:this,bundle:this.bundle}),t.getComponent(o).loadImage({url:"match/images/rankbg"+this.rankData[e].rank,view:this,bundle:this.bundle})),i.getComponent(l).string=this.rankData[e].username,r.getComponent(l).string=this.rankData[e].reward}onClose(){App.globalAudio.playGlobalEffect(h.audioPath.close),this.close()}}).prototype,"btnClose",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(D.prototype,"labTitle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(D.prototype,"labTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(D.prototype,"scrollViewResult",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(D.prototype,"emptyNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/matchRule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts"],(function(t){"use strict";var e,o,n,i,s,l,r;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t.Node},function(t){s=t.default},function(t){l=t.inject},function(t){r=t.Config}],execute:function(){var a,c,u;n._RF.push({},"d556baYpUVD64XPYE6L2tWt","matchRule",void 0);t("default",(a=l("pannelBg/btnClose",i),u=e((c=class extends s{constructor(...t){super(...t),o(this,"btnClose",u,this)}static getPrefabUrl(){return"match/prefabs/matchRule"}onLoad(){super.onLoad(),this.onN(this.btnClose,i.EventType.TOUCH_END,this.onClose)}onClose(){App.globalAudio.playGlobalEffect(r.audioPath.close),this.close()}}).prototype,"btnClose",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c));n._RF.pop()}}}));

System.register("chunks:///_virtual/matchView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CommonData.ts","./UserData.ts","./HallModel.ts","./Config.ts","./CommonEvent.ts"],(function(t){"use strict";var e,a,o,n,s,i,c,l,p,r,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Node},function(t){s=t.default},function(t){i=t.inject},function(t){c=t.EmRoomEvent},function(t){l=t.UserDataEn},function(t){p=t.HallModel},function(t){r=t.Config},function(t){d=t.CommonEvent}],execute:function(){var u,h,f;o._RF.push({},"62d6aCUEPVPSZl/naF8U1Fb","matchView",void 0);t("default",(u=i("btnCancel",n),f=e((h=class extends s{constructor(...t){super(...t),a(this,"btnCancel",f,this)}static getPrefabUrl(){return"match/prefabs/matchView"}onLoad(){this.onN(this.btnCancel,n.EventType.TOUCH_END,this.CancelMatch)}onEnable(){this.onCustom(d.MatchEnd,(t=>{t.raceId==this.args.data.id&&this.close()})),App.event.on(c.MatchCode,(t=>{Log.d("====>>>>RaceSit: ",t),t.userId==l.getUserData().id&&(App.stageData.setTempSeat(t.seatId),App.stageData.setTempRace(t.raceId),App.stageData.setTempDiwang(this.args.data.play_type),p.enterTable({isTalbeNo:!1,tableId:t.tableId,password:null,locate:JSON.stringify(App.stageData.GPSLocation)}),this.close())}),this.node)}CancelMatch(){App.globalAudio.playGlobalEffect(r.audioPath.button),App.loading.show("取消匹配中。。。"),Log.d("====>>>>raceId: ",this.args),App.pomelo.request("hall.hallHandler.cancelMatchRoom",{raceId:this.args.data.id},(t=>{App.loading.hide(),0==t.code?(App.tips.show("取消匹配成功！"),this.close()):105==t.code?App.alert.show("未报名！"):601==t.code?App.tips.show("比赛不存在！"):606==t.code?App.tips.show("取消匹配失败！"):607==t.code&&App.alert.show("条件不满足,无法取消匹配！")}))}}).prototype,"btnCancel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h));o._RF.pop()}}}));

System.register("chunks:///_virtual/MsgView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts"],(function(t){"use strict";var e,o,i,n,s,r,c,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,s=t._decorator},function(t){r=t.default},function(t){c=t.inject},function(t){a=t.Config}],execute:function(){var l,u,p,f,d;i._RF.push({},"608caOgF3dD66tF+Yt8tRs5","MsgView",void 0);const{ccclass:g,property:b}=s;t("default",(l=g("FriendView"),u=c("safeArea/topLayout/news",n),l((d=e((f=class extends r{constructor(...t){super(...t),o(this,"btnExit",d,this)}static getPrefabUrl(){return"msg/prefabs/MsgView"}onLoad(){super.onLoad(),this.onN(this.btnExit,n.EventType.TOUCH_END,this.onClose)}onClose(){App.globalAudio.playGlobalEffect(a.audioPath.close),this.close()}}).prototype,"btnExit",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/myPerformanceView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./UserData.ts","./List.ts"],(function(t){"use strict";var e,i,o,n,r,a,l,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Node,r=t.Label,a=t._decorator},function(t){l=t.default},function(t){s=t.inject},function(t){u=t.UserDataEn},function(t){c=t.default}],execute:function(){var h,p,b,d,g,m,f,L,y,w,C,P,D,v,S;o._RF.push({},"7086ejN9xhE1aJxSf9jythZ","myPerformanceView",void 0);const{ccclass:I,property:V}=a;t("default",(h=I("myPerformanceView"),p=s("topLayout/news",n),b=s("ScrollView",c),d=s("inputLayout/LabelUserCount",r),g=s("inputLayout/LabelProportion",r),m=s("inputLayout/LabelTotalContribute",r),f=s("inputLayout/LabelTotalIncomes",r),h((w=e((y=class extends l{constructor(...t){super(...t),this.agentApi=App.apis.agent,i(this,"back",w,this),i(this,"ScrollView",C,this),i(this,"LabelUserCount",P,this),i(this,"LabelProportion",D,this),i(this,"LabelTotalContribute",v,this),i(this,"LabelTotalIncomes",S,this),this.list=[],this.crtPage=0,this.totalCount=0}static getPrefabUrl(){return"dividend/prefabs/myPerformance"}onLoad(){super.onLoad(),this.onN(this.back,n.EventType.TOUCH_END,this.close),App.utils.addListRule(this.node,this.ScrollView,"myPerformanceView","onShowItemList","","renderEvent"),this.ScrollView.numItems=0,this.onDividendRecord(1)}onDestroy(...t){super.onDestroy()}onDividendRecord(t){App.loading.show(""),this.agentApi.getShareholderReward(t).then((t=>{if(App.loading.hide(),this.crtPage+1==t.data.page){this.crtPage=t.data.page,this.totalCount=t.data.totalCount;var e=u.getUserData();this.LabelProportion.string="我的比例:"+e.rebateRate+"%",this.LabelTotalContribute.string="总贡献:"+t.data.totalContribute,this.LabelTotalIncomes.string="总收益:"+t.data.totalIncomes,this.list=this.list.concat(t.data.list||0),this.ScrollView.numItems=this.list.length}})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}onShowItemList(t,e){Log.d("====>>>>onShowItemList: ",e,this.list[e]);let i=t.getChildByPath("date").getComponent(r),o=t.getChildByPath("contribute").getComponent(r),n=t.getChildByPath("incomes").getComponent(r);var a=this.list[e];i.string=a.reward_date,o.string=a.contribute,n.string=a.incomes,e==this.list.length-1&&this.list.length<this.totalCount&&this.onDividendRecord(this.crtPage+1)}}).prototype,"back",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(y.prototype,"ScrollView",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(y.prototype,"LabelUserCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(y.prototype,"LabelProportion",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"LabelTotalContribute",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(y.prototype,"LabelTotalIncomes",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=y))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/myRecord.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts","./List.ts","./RecordItem.ts","./Macros.ts","./RoomSettle.ts"],(function(t){"use strict";var i,e,o,s,a,n,r,l,u,h,c,d,p,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,s=t.Node,a=t.Label,n=t._decorator},function(t){r=t.default},function(t){l=t.inject},function(t){u=t.Config,h=t.ViewZOrder},function(t){c=t.default},function(t){d=t.RecordItem},function(t){p=t.Macro},function(t){m=t.RoomSettle}],execute:function(){var g,f,b,v,w,y,A,S,L,D,R,C,I,T,P,_,z,E,G;o._RF.push({},"4e663Dur6FCFas83ZmqA4GU","myRecord",void 0);const{ccclass:V,property:N}=n;t("default",(g=V("myRecord"),f=l("safeArea/topLayout/news",s),b=l("safeArea/title_bg/sumSou",a),v=l("safeArea/title_bg/sumGame",a),w=l("safeArea/title_bg/win",a),y=l("safeArea/title_bg/lose",a),A=l("safeArea/title_bg/tie",a),S=l("safeArea/ScrollView",c),L=l("safeArea/ScrollView/empty",s),g((C=i((R=class extends r{constructor(...t){super(...t),this.userApi=App.apis.user,e(this,"back",C,this),e(this,"sumSou",I,this),e(this,"sumGame",T,this),e(this,"win",P,this),e(this,"lose",_,this),e(this,"tie",z,this),e(this,"ScrollView",E,this),e(this,"empty",G,this),this.roomDatas=[],this.isLoading=!1,this.crtPage=0,this.pageCount=0,this.totalCount=0}static getPrefabUrl(){return"record/prefabs/myRecord"}onLoad(){super.onLoad(),this.onN(this.back,s.EventType.TOUCH_END,this.onClose),this.onRecord(1),App.utils.addListRule(this.node,this.ScrollView,"myRecord","onShowItemList","","renderEvent"),App.utils.addListRule(this.node,this.ScrollView,"myRecord","onSelectItemList","","selectedEvent"),this.ScrollView.numItems=this.roomDatas.length}onClose(){App.globalAudio.playGlobalEffect(u.audioPath.close),this.close()}onDestroy(...t){super.onDestroy()}onRecord(t=1){this.isLoading||(App.loading.show(""),this.isLoading=!0,this.userApi.gameSummary(t).then((t=>{this.isLoading=!1,App.loading.hide();var i=t.data;if(this.pageCount=i.pageCount,this.totalCount=i.totalCount,this.win.string=i.winTimes+"",this.lose.string=i.loseTimes+"",this.tie.string=i.tieTimes+"",this.sumSou.string=i.totalHands+"",this.sumGame.string=i.totalGames+"",i.page==this.crtPage+1){this.crtPage=i.page;var e=i.list||[];this.roomDatas=this.roomDatas.concat(e),this.ScrollView.numItems=this.roomDatas.length}this.empty.active=0==this.roomDatas.length})).catch((t=>{this.isLoading=!1,App.tips.show(t.message),App.loading.hide()})))}onShowItemList(t,i){Log.d("====>>>>onShowItemList: ",i,this.roomDatas[i]);var e=t.getComponent(d);null==e&&(e=t.addComponent(d));var o=this.roomDatas[i];e.setData(o),i!=this.totalCount-1&&i==this.crtPage*this.pageCount-1&&this.onRecord(this.crtPage+1)}onSelectItemList(t,i,e,o){if(t){App.globalAudio.playGlobalEffect(u.audioPath.button),Log.d("====>>>>点击了: ",i);var s=this.roomDatas[i];App.loading.show(""),this.userApi.tableSettle(s.roomId,s.IsEnd).then((t=>{App.loading.hide(),0!=t.code?App.tips.show("获取数据失败"):App.uiManager.open({type:m,bundle:p.BUNDLE_RESOURCES,zIndex:h.Default,args:{data:t,tableInfo:{diwang:s.isNineKing,tableId:s.roomId,tableNo:s.tableNo},from:"hall"},name:"游戏结算"})})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}}}).prototype,"back",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(R.prototype,"sumSou",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(R.prototype,"sumGame",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(R.prototype,"win",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(R.prototype,"lose",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(R.prototype,"tie",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(R.prototype,"ScrollView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(R.prototype,"empty",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=R))||D));t("GameSummary",class{constructor(){this.page=void 0,this.pageCount=void 0,this.totalCount=void 0,this.loseTimes=void 0,this.tieTimes=void 0,this.totalGames=void 0,this.totalHands=void 0,this.turnOverRate=void 0,this.turnOverTimes=void 0,this.updatedAt=void 0,this.userId=void 0,this.winTimes=void 0,this.list=void 0}});t("RoomData",class{constructor(){this.tableNo=void 0,this.roomId=void 0,this.handTimes=void 0,this.transferIn=void 0,this.profit=void 0,this.isNineKing=void 0,this.startTime=void 0,this.endTime=void 0,this.isAwardPool=void 0,this.runFine=void 0,this.winLottery=void 0,this.lotteryTax=void 0}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/MyUserItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Utils.ts","./UserData.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,l,u,c,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Label,s=t.Node,a=t._decorator,o=t.Color},function(t){l=t.default},function(t){u=t.inject},function(t){c=t.default},function(t){h=t.UserDataEn}],execute:function(){var p,b,d,f,m,y,g,E,D,v,w,U,z,C,x,N,_,k,F,I,S;n._RF.push({},"385159rB0FDDbep37mH8qqm","MyUserItem",void 0);const{ccclass:A,property:M}=a;t("MyUserItem",(p=A("MyUserItem"),b=u("name",r),d=u("sou",r),f=u("date",r),m=u("time",r),y=u("total",r),g=u("today",r),E=u("update",s),D=u("btnEnter",s),v=u("status",r),p((z=e((U=class extends l{constructor(...t){super(...t),i(this,"txtName",z,this),i(this,"sou",C,this),i(this,"date",x,this),i(this,"time",N,this),i(this,"total",_,this),i(this,"today",k,this),i(this,"operate",F,this),i(this,"btnEnter",I,this),i(this,"status",S,this),this.userData=null,this.operateCb=null,this.clickEnter=null,this.index=null}onLoad(){super.onLoad()}addEvents(){super.addEvents(),this.onN(this.operate,s.EventType.TOUCH_END,this.onSelectUser),this.onN(this.btnEnter,s.EventType.TOUCH_END,this.onClickEnter)}setData(t,e,i,n,r){this.index=e,this.userData=i,this.operateCb=n,this.clickEnter=r;var s=i.register_time.split(" "),a=i.username||"",l=i.id||"";this.txtName.string=App.utils.contentSubRe(a)+"\nID:"+l,this.sou.string=(i.total_hands||0)+"",this.date.string=s[0],this.time.string=s[1],this.total.string=c.getScoreImplicit(i.totalAmount||0),this.today.string=c.getScoreImplicit(i.todayAmount||0);var u=h.getUserData();if(this.operate.active=!(2!==t&&1!==t||2!==u.type&&3!==u.type),this.btnEnter.active=!1,this.status.node.active=!1,1===t){this.status.node.active=!0,"offline"===i.status?(this.status.string="离线",this.status.color=new o("A2B9D8")):i.TableNo?(this.status.string="游戏中",this.status.color=new o("FF8A00"),this.btnEnter.active=!0):(this.status.string="在线",this.status.color=new o("30FF00"))}}onSelectUser(){this.operateCb&&this.operateCb(this.userData,this.index)}onClickEnter(){this.clickEnter&&this.clickEnter(this.userData,this.index)}}).prototype,"txtName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(U.prototype,"sou",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(U.prototype,"date",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(U.prototype,"time",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(U.prototype,"total",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(U.prototype,"today",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(U.prototype,"operate",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(U.prototype,"btnEnter",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(U.prototype,"status",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=U))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/myUserView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Macros.ts","./UserData.ts","./List.ts","./Config.ts","./MyUserItem.ts","./EnterRoomView.ts","./HallModel.ts","./Utils.ts","./giveView.ts"],(function(t){"use strict";var e,a,i,n,s,o,l,r,h,p,g,d,c,u,m,b,y,C,f,P,A,w,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,s=t.Label,o=t._decorator,l=t.Toggle,r=t.Prefab,h=t.instantiate,p=t.Sprite,g=t.EditBox},function(t){d=t.default},function(t){c=t.inject},function(t){u=t.Macro},function(t){m=t.UserDataEn},function(t){b=t.default},function(t){y=t.Config,C=t.ViewZOrder},function(t){f=t.MyUserItem},function(t){P=t.default},function(t){A=t.HallModel},function(t){w=t.default},function(t){T=t.default}],execute:function(){var v,N,D,E,S,U,B,L,I,x,_,M,H,O,z,R,k,V,G,F,$,j,q;i._RF.push({},"fc913yNWQFIDJPbgRuSieD/","myUserView",void 0);const{ccclass:J,property:Q}=o;t("default",(v=J(),N=c("safeArea/topLayout/news",n),D=c("safeArea/content/ScrollView",b),E=c("safeArea/content/title_bg/titleOpt",n),S=c("safeArea/select",n),U=c("safeArea/content",n),B=c("safeArea/stats",n),L=c("safeArea/pages",n),I=c("safeArea/pages/btnPrev",n),x=c("safeArea/pages/txtPage",s),_=c("safeArea/pages/btnNext",n),v((O=e((H=class extends d{constructor(...t){super(...t),this.agentApi=App.apis.agent,a(this,"back",O,this),a(this,"ScrollContent",z,this),a(this,"titleOpt",R,this),a(this,"select",k,this),a(this,"content",V,this),a(this,"stats",G,this),a(this,"pageNode",F,this),a(this,"btnPrev",$,this),a(this,"txtPage",j,this),a(this,"btnNext",q,this),this.curSelectType=0,this.agentDatalist=null,this.statsData=null,this.updateTimerId=null,this.crtPage=0,this.totalPage=0}static getPrefabUrl(){return"dividend/prefabs/myUserView"}get tabIndex(){return this.curSelectType+1}onLoad(){super.onLoad(),this.onN(this.back,n.EventType.TOUCH_END,this.close),this.onN(this.btnPrev,n.EventType.TOUCH_END,this.onPrevPage),this.onN(this.btnNext,n.EventType.TOUCH_END,this.onNextPage),this.select.children.forEach(((t,e)=>this.onN(t,l.EventType.TOGGLE,(()=>this.onSelectTog(e))))),App.utils.addListRule(this.node,this.ScrollContent,"myUserView","onShowItemList","","renderEvent"),this.onTabChanged(this.tabIndex,1),this.ScrollContent.numItems=0}onPrevPage(){this.crtPage<=1||(this.setPageBtnState(),this.loadMoreData(this.tabIndex,this.crtPage-1))}onNextPage(){this.crtPage>=this.totalPage||(this.setPageBtnState(),this.loadMoreData(this.tabIndex,this.crtPage+1))}setPageBtnState(){this.pageNode.active=!0,this.btnPrev.active=this.crtPage>1,this.btnNext.active=this.crtPage<this.totalPage}onDestroy(...t){this.clearUpdateTimer(),super.onDestroy()}onSelectTog(t){if(App.globalAudio.playGlobalEffect(y.audioPath.button),this.select.children[t].getComponent(l).isChecked){if(this.curSelectType==t)return;this.crtPage=1,this.curSelectType=t,this.titleOpt.active=0===this.curSelectType,this.clearUpdateTimer(),this.onTabChanged(this.tabIndex,this.crtPage)}}onTabChanged(t,e){this.content.active=t<=3,this.stats.active=4==t,this.pageNode.active=!1,4==t?this.statsData?this.showAgentStats():this.requestAgentStats():(this.totalPage=0,this.loadMoreData(t,e))}clearUpdateTimer(){this.updateTimerId&&clearTimeout(this.updateTimerId)}loadMoreData(t,e,a=!1){this.clearUpdateTimer(),a||(this.ScrollContent.numItems=0,this.ScrollContent.scrollTo(0,0),App.loading.show("")),this.agentApi.getAgentReward(t,e).then((i=>{App.loading.hide(),this.agentDatalist=i.data,this.crtPage=i.data.page,this.totalPage=Math.ceil(i.data.totalCount/i.data.pageCount),this.crtPage>this.totalPage&&(this.crtPage=this.totalPage),this.setPageBtnState(),this.txtPage.string=`${this.crtPage}/${this.totalPage}`,this.ScrollContent.numItems=this.agentDatalist.list.length,a&&this.ScrollContent.update(),1==t&&(this.updateTimerId=setTimeout((()=>{this.loadMoreData(t,e,!0)}),5e3))})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}requestAgentStats(){App.loading.show(""),this.agentApi.getAgentReward(4,1).then((t=>{App.loading.hide(),this.statsData=t.data,this.showAgentStats()})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}showAgentStats(){let t=this.stats.getChildByName("list");for(let e=0;e<t.children.length;e++){let a=t.children[e],i=a.getChildByName("today").getComponent(s),n=a.getChildByName("total").getComponent(s),o=0,l=0;0==e?(o=this.statsData.todayAmount1,l=this.statsData.totalAmount1):1==e?(o=this.statsData.todayAmount2,l=this.statsData.totalAmount2):(o=this.statsData.todayAmount3,l=this.statsData.totalAmount3),Log.d("====>>>>dayVal: ",o,"totalVal: ",l),i.string=w.getScoreImplicit(o),n.string=w.getScoreImplicit(l)}}onShowItemList(t,e){var a=t.getComponent(f);a||(a=t.addComponent(f));var i=this.agentDatalist.list[e];a.setData(this.tabIndex,e,i,this.onSelectUser.bind(this),this.onClickEnter.bind(this))}onSelectUser(t,e){var a=m.getUserData();2!=a.type&&3!=a.type||this.onShowUserEmpower(t)}onClickEnter(t,e){t.TableNo&&("yes"===t.needPass?App.uiManager.open({type:P,bundle:u.BUNDLE_HALL,zIndex:C.UI,args:{tableNo:t.TableNo}}):A.enterTable({isTalbeNo:!0,tableId:Number(t.TableNo),password:"",locate:JSON.stringify(App.stageData.GPSLocation)}))}onGive(){App.globalAudio.playGlobalEffect(y.audioPath.button),App.uiManager.open({type:T,bundle:u.BUNDLE_HALL})}onShowUserEmpower(t){App.asset.load(u.BUNDLE_HALL,"dividend/prefabs/userEmpower",r,(()=>{}),(e=>{const a=h(e.data);this.node.addChild(a),a.getChildByPath("headBg/Mask/head").getComponent(p).loadRemoteImage({url:t.avatar+"?t="+(new Date).getTime(),view:this,defaultBundle:this.bundle,isNeedCache:!0});let i=a.getChildByPath("name").getComponent(s),o=a.getChildByPath("gold_bg/id").getComponent(s),l=a.getChildByPath("balance/id").getComponent(s),r=a.getChildByPath("info_bg-001/editScore").getComponent(g),d=a.getChildByPath("agentEmpower");0!=t.type&&(d.active=!1);let c=a.getChildByPath("SpriteSplash"),u=a.getChildByPath("TakeEmpower"),m=a.getChildByPath("butGive");this.onN(m,n.EventType.TOUCH_END,this.onGive),this.onN(c,n.EventType.TOUCH_END,(()=>{this.node.removeChild(a)})),this.onN(d,n.EventType.TOUCH_END,(()=>{App.loading.show(""),this.agentApi.setAgent(t.id+"").then((t=>{App.tips.show("授权成功"),this.node.removeChild(a)})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))})),this.onN(u,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(y.audioPath.button),r.string?(App.loading.show(""),this.agentApi.takeUserMoney(t.id+"",r.string).then((t=>{App.tips.show("退分成功")})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))):App.tips.show("请输入退分金额")})),i.string=t.username,o.string=t.id+"",l.string=t.balance/100+""}))}onShowUserEmpowerProportion(t,e){Log.d("[onShowUserEmpowerProportion]",t),App.asset.load(u.BUNDLE_HALL,"dividend/prefabs/UserProportion",r,(()=>{}),(e=>{const a=h(e.data);this.node.addChild(a);let i=a.getChildByPath("headBg/Mask/head").getComponent(p);t.avatar&&i.loadRemoteImage({url:t.avatar+"?t="+(new Date).getTime(),view:this,defaultBundle:this.bundle,isNeedCache:!0});let o=a.getChildByPath("name").getComponent(s),l=a.getChildByPath("gold_bg/id").getComponent(s),r=a.getChildByPath("LabelMax").getComponent(s),d=a.getChildByPath("rateTxt").getComponent(s),c=a.getChildByPath("allianceEmpowerLayout/allianceEmpower/Label").getComponent(s),u=a.getChildByPath("allianceEmpowerLayout/proportion").getComponent(s),b=a.getChildByPath("allianceEmpowerLayout/EditBox").getComponent(g);var y=m.getUserData(),C=this.agentDatalist.minRebateRate,f=t.rebate_rate||0;o.string=t.username,l.string=t.id+"",r.string="最高 "+y.rebateRate+"%",d.string=`盟主比例分配,最低 ${C}%`,u.string="对方当前:"+f,b.string=f+"",2==t.type?c.string="确定分配":c.string="授权盟主";let P=a.getChildByPath("allianceEmpowerLayout/allianceEmpower"),A=a.getChildByPath("SpriteSplash");this.onN(A,n.EventType.TOUCH_END,(()=>{this.node.removeChild(a)})),this.onN(P,n.EventType.TOUCH_END,(()=>{App.loading.show("");let e=b.string;this.agentApi.setLeader(t.id+"",e).then((i=>{App.loading.hide(),App.tips.show("设置成功"),t.rebate_rate=Number(e),this.node.removeChild(a)})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}))}))}}).prototype,"back",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(H.prototype,"ScrollContent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(H.prototype,"titleOpt",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(H.prototype,"select",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(H.prototype,"content",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(H.prototype,"stats",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(H.prototype,"pageNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(H.prototype,"btnPrev",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(H.prototype,"txtPage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(H.prototype,"btnNext",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=H))||M));i._RF.pop()}}}));

System.register("chunks:///_virtual/RecordItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Utils.ts","./Config.ts","./UserData.ts"],(function(t){"use strict";var i,e,r,n,o,l,u,a,s,c,h,p,b,f,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Label,o=t.Sprite,l=t.Node,u=t.RichText,a=t.Button,s=t._decorator,c=t.Color},function(t){h=t.default},function(t){p=t.inject},function(t){b=t.default},function(t){f=t.Config},function(t){d=t.UserDataEn}],execute:function(){var g,m,x,y,z,P,D,R,w,I,F,N,E,S,v,j,B,C,L,U,V,Z,A,G,T,_,H,K,k;r._RF.push({},"8554ehQ1DxFCabLC0YZEN/F","RecordItem",void 0);const{ccclass:q,property:M}=s;t("RecordItem",(g=q("RecordItem"),m=p("roomNumber",n),x=p("roomDesc",o),y=p("roomDesc/desc",n),z=p("pool",l),P=p("dtime",n),D=p("labPunish",n),R=p("txtPunishVal",n),w=p("txtDairu",n),I=p("txtShou",n),F=p("txtZhanji",n),N=p("prize",l),E=p("prize/txtPrize",u),S=p("btnRecord",a),g((B=i((j=class extends h{constructor(...t){super(...t),e(this,"roomNumber",B,this),e(this,"descBg",C,this),e(this,"desc",L,this),e(this,"pool",U,this),e(this,"dtime",V,this),e(this,"labPunish",Z,this),e(this,"txtPunishVal",A,this),e(this,"txtDairu",G,this),e(this,"txtShou",T,this),e(this,"txtZhanji",_,this),e(this,"prize",H,this),e(this,"txtPrize",K,this),e(this,"btnRecord",k,this)}setData(t){this.roomNumber.string=b.padLeft(t.tableNo),this.desc.string=t.isNineKing?"地九王":"普通",this.descBg.grayscale=!t.isNineKing,this.pool.active=!1,this.dtime.string=t.startTime+" --- "+t.endTime,this.labPunish.node.active=0!=t.runFine,this.txtPunishVal.node.active=0!=t.runFine,this.labPunish.string=t.runFine>0?"逃跑赔偿":"逃跑惩罚：",this.txtPunishVal.string=b.getScoreImplicit(t.runFine),this.txtPunishVal.color=t.runFine>0?c.RED:c.GREEN,this.txtDairu.string="带入金额："+b.getScoreImplicit(t.transferIn),this.txtShou.string="手数："+t.handTimes,this.txtZhanji.string=b.getScoreImplicit(t.profit),this.txtZhanji.color=t.profit>=0?c.RED:c.GREEN,this.txtPrize.string=`中奖金额：<color=#FFC602>${b.getScoreImplicit(t.winLottery)}</color>`,this.prize.active=t.winLottery>0}onGetRecord(t,i){App.globalAudio.playGlobalEffect(f.audioPath.button);App.pomelo.request("cx.cxHandler.getallRecordByUserId",{userId:d.getUserData().id},(t=>{console.log("====>>>>getallRecordByUserId: ",t),0==t.code||App.tips.show("获取牌局记录失败!")}))}}).prototype,"roomNumber",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(j.prototype,"descBg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(j.prototype,"desc",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(j.prototype,"pool",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(j.prototype,"dtime",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(j.prototype,"labPunish",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(j.prototype,"txtPunishVal",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(j.prototype,"txtDairu",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(j.prototype,"txtShou",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(j.prototype,"txtZhanji",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(j.prototype,"prize",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(j.prototype,"txtPrize",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(j.prototype,"btnRecord",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=j))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/SetView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./UserData.ts","./Macros.ts","./Config.ts","./SoundSet.ts"],(function(t){"use strict";var e,i,a,n,o,u,l,r,s,p,b,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,n=t.Node,o=t.Label,u=t.EditBox},function(t){l=t.default},function(t){r=t.inject},function(t){s=t.UserDataEn},function(t){p=t.Macro},function(t){b=t.Config},function(t){c=t.default}],execute:function(){var f,h,d,y,g,m,A,w,E,D,L,P,k,B,C,N,v,U,T,z,W,_,G,H,O,S,x,V,M,R,j,F,I,J,q,K,Q,X,Y,Z,$,tt,et,it,at,nt,ot,ut,lt;a._RF.push({},"b1fd8oyVVJP+oNsFjPmdTd8","SetView",void 0);t("default",(f=r("safeArea/topLayout/news",n),h=r("safeArea/contentLayout/change",n),d=r("safeArea/contentLayout/upadate",n),y=r("safeArea/contentLayout/upadatebank",n),g=r("safeArea/contentLayout/sound",n),m=r("safeArea/contentLayout/about",n),A=r("safeArea/contentLayout/version/V",o),w=r("abouLayout",n),E=r("modifyLayout",n),D=r("abouLayout/safeArea/topLayout/news",n),L=r("modifyLayout/bg/cancel",n),P=r("modifyLayout/bg/modifyCancel2",n),k=r("modifyLayout/bg/define",n),B=r("modifyLayout/bg/oldpwd/EditBox",u),C=r("modifyLayout/bg/newpwd/EditBox",u),N=r("modifyLayout/bg/confirm/EditBox",u),v=r("updateBankLayout",n),U=r("updateBankLayout/bg/cancel",n),T=r("updateBankLayout/bg/modifyCancel3",n),z=r("updateBankLayout/bg/define",n),W=r("updateBankLayout/bg/oldpwd/EditBox",u),_=r("updateBankLayout/bg/newpwd/EditBox",u),G=r("updateBankLayout/bg/confirm/EditBox",u),H=r("inputLayout/button",n),S=e((O=class extends l{constructor(...t){super(...t),this.userApi=App.apis.user,i(this,"back",S,this),i(this,"changeUser",x,this),i(this,"modifyPWD",V,this),i(this,"upadatebank",M,this),i(this,"sound",R,this),i(this,"about",j,this),i(this,"version",F,this),i(this,"abouLayout",I,this),i(this,"modifyLayout",J,this),i(this,"aboutBack",q,this),i(this,"modifyCancel",K,this),i(this,"modifyCancel2",Q,this),i(this,"butDefine",X,this),i(this,"oldPWD",Y,this),i(this,"NewPWD",Z,this),i(this,"conPWD",$,this),i(this,"updateBankLayout",tt,this),i(this,"bankCancel",et,this),i(this,"modifyCancel3",it,this),i(this,"butBankDefine",at,this),i(this,"BankoldPWD",nt,this),i(this,"BankNewPWD",ot,this),i(this,"BankconPWD",ut,this),i(this,"butDividend",lt,this)}static getPrefabUrl(){return"set/prefabs/SetView"}onLoad(){super.onLoad(),this.onN(this.back,n.EventType.TOUCH_END,this.onClose),this.onN(this.changeUser,n.EventType.TOUCH_END,this.onChangeUser),this.onN(this.modifyPWD,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(b.audioPath.button),this.modifyLayout.active=!0})),this.onN(this.upadatebank,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(b.audioPath.button),this.updateBankLayout.active=!0})),this.onN(this.modifyCancel,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(b.audioPath.button),this.modifyLayout.active=!1})),this.onN(this.modifyCancel2,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(b.audioPath.button),this.modifyLayout.active=!1})),this.onN(this.bankCancel,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(b.audioPath.button),this.updateBankLayout.active=!1})),this.onN(this.modifyCancel3,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(b.audioPath.button),this.updateBankLayout.active=!1})),this.onN(this.butDefine,n.EventType.TOUCH_END,this.onUpdateLoginPwd),this.onN(this.butBankDefine,n.EventType.TOUCH_END,this.onUpdateBankPwd),this.onN(this.about,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(b.audioPath.button),this.abouLayout.active=!0})),this.onN(this.aboutBack,n.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(b.audioPath.button),this.abouLayout.active=!1})),this.onN(this.sound,n.EventType.TOUCH_END,this.onSoundSet),this.version.string=b.APP_VERSION+"."+App.updateManager.getVersion(p.BUNDLE_HALL)}onClose(){App.globalAudio.playGlobalEffect(b.audioPath.close),this.close()}onChangeUser(){App.globalAudio.playGlobalEffect(b.audioPath.button),App.alert.show({text:"您确定要退出登录？",confirmCb:t=>{App.globalAudio.playGlobalEffect(b.audioPath.button);var e=s.getUserData();this.userApi.outLogin(e.jwt).then((t=>{this.close(),App.stage.backLogin()})).catch((t=>{App.tips.show(t.message)}))},cancelCb:()=>{App.globalAudio.playGlobalEffect(b.audioPath.button),App.alert.close()}})}onUpdateLoginPwd(){App.globalAudio.playGlobalEffect(b.audioPath.button),this.userApi.updateLoginPwd(this.oldPWD.string,this.NewPWD.string,this.conPWD.string).then((t=>{App.alert.show({text:"密码修改成功，需要重新登录。",confirmCb:t=>{App.globalAudio.playGlobalEffect(b.audioPath.button),this.close(),App.stage.backLogin()}})})).catch((t=>{App.tips.show(t.message)}))}onUpdateBankPwd(){App.globalAudio.playGlobalEffect(b.audioPath.button),this.userApi.updateBankPwd(this.BankoldPWD.string,this.BankNewPWD.string,this.BankconPWD.string).then((t=>{App.tips.show("资金密码修改成功。"),this.close()})).catch((t=>{App.tips.show(t.message)}))}onSoundSet(){App.globalAudio.playGlobalEffect(b.audioPath.button),App.uiManager.open({type:c,bundle:p.BUNDLE_RESOURCES})}onDestroy(...t){super.onDestroy()}}).prototype,"back",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(O.prototype,"changeUser",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(O.prototype,"modifyPWD",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(O.prototype,"upadatebank",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(O.prototype,"sound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(O.prototype,"about",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(O.prototype,"version",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(O.prototype,"abouLayout",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(O.prototype,"modifyLayout",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(O.prototype,"aboutBack",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(O.prototype,"modifyCancel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(O.prototype,"modifyCancel2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(O.prototype,"butDefine",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(O.prototype,"oldPWD",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(O.prototype,"NewPWD",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(O.prototype,"conPWD",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(O.prototype,"updateBankLayout",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(O.prototype,"bankCancel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(O.prototype,"modifyCancel3",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(O.prototype,"butBankDefine",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(O.prototype,"BankoldPWD",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(O.prototype,"BankNewPWD",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(O.prototype,"BankconPWD",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(O.prototype,"butDividend",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShareView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts","./UIQRCode.ts","./UserData.ts"],(function(e){"use strict";var t,i,n,r,o,a,s,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Node,o=e.Label},function(e){a=e.default},function(e){s=e.inject},function(e){l=e.Config},function(e){u=e.default},function(e){c=e.UserDataEn}],execute:function(){var p,b,f,d,h,g,y,C,w;n._RF.push({},"0d756g3F/dHYImbZ9sDQNkk","ShareView",void 0);e("default",(p=s("topLayout/news",r),b=s("pannelBg/whiteBg/qrCode",u),f=s("pannelBg/labQrcode",o),d=s("pannelBg/btnCopy",r),g=t((h=class extends a{constructor(...e){super(...e),this.userApi=App.apis.user,i(this,"back",g,this),i(this,"qrCode",y,this),i(this,"labQrcode",C,this),i(this,"btnCopy",w,this)}static getPrefabUrl(){return"share/prefabs/ShareView"}onLoad(){super.onLoad(),this.onN(this.back,r.EventType.TOUCH_END,this.onClose),this.onN(this.btnCopy,r.EventType.TOUCH_END,(()=>{window.Platform.copyText(c.getUserData().basicUrl)})),this.qrCode.string=c.getUserData().basicUrl||"www.baidu.com",this.labQrcode.string=c.getUserData().inviteCode}onClose(){App.globalAudio.playGlobalEffect(l.audioPath.close),this.close()}}).prototype,"back",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"qrCode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(h.prototype,"labQrcode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(h.prototype,"btnCopy",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h));n._RF.pop()}}}));

System.register("chunks:///_virtual/userBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./UserData.ts","./FileUtils.ts","./CommonEvent.ts","./Config.ts","./CommonData.ts"],(function(t){"use strict";var e,i,n,a,o,r,l,s,u,b,p,c,f,h,g,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Node,o=t.Sprite,r=t.Label,l=t.sys,s=t.Texture2D,u=t.ImageAsset,b=t.SpriteFrame},function(t){p=t.default},function(t){c=t.inject},function(t){f=t.UserDataEn},function(t){h=t.default},function(t){g=t.UserInfoEvent},function(t){d=t.Config},function(t){y=t.OpenType}],execute:function(){var A,m,w,E,N,U,D,H,S,v,C,k,T,L,B,z,P,_,x,O,F,G,I;n._RF.push({},"a50f6vZYuZEC7GZA4u6q935","userBase",void 0);t("default",(A=c("topLayout/btnBack",a),m=c("headBg",a),w=c("headBg/Mask/head",o),E=c("Layout/btnNick",a),N=c("Layout/btnNick/labNick",r),U=c("Layout/btnSex",a),D=c("Layout/spSex",o),H=c("Layout/btnAge",a),S=c("Layout/btnAge/labAge",r),v=c("Layout/btnSign",a),C=c("Layout/btnSign/labSign",r),T=e((k=class extends p{constructor(...t){super(...t),i(this,"btnBack",T,this),i(this,"btnHead",L,this),i(this,"spHead",B,this),i(this,"btnNick",z,this),i(this,"labNick",P,this),i(this,"btnSex",_,this),i(this,"spSex",x,this),i(this,"btnAge",O,this),i(this,"labAge",F,this),i(this,"btnSign",G,this),i(this,"labSign",I,this),this.buffer=void 0}static getPrefabUrl(){return"userInfo/prefabs/userBase"}onLoad(){super.onLoad(),this.onN(this.btnBack,a.EventType.TOUCH_END,this.onClose),this.onN(this.btnHead,a.EventType.TOUCH_END,this.onUpload),this.onN(this.btnNick,a.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(d.audioPath.button)})),this.onN(this.btnAge,a.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(d.audioPath.button)})),this.onN(this.btnSign,a.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(d.audioPath.button)})),this.onCustom(g.HEAD_BACK_UPLOAD,this.onUploadHead);let t=f.getUserData();App.asset.remote.loadImage(t.avatar,!0).then((([t,e])=>{e&&(this.spHead.spriteFrame=e)})),this.labNick.string=t.username}onUpload(){App.globalAudio.playGlobalEffect(d.audioPath.button),l.isNative?window.Platform.OpenCameraOrAlbum(y.Album):(App.nativeBridge.getSelectedImageData((async t=>{this.buffer=new Uint8Array(await t.arrayBuffer()),h.fileToSpriteFrame(t).then((t=>{this.spHead.spriteFrame=t}))})),this.onModifyHead())}onUploadHead(t){if(l.isNative){let e=new Image,i=new s;e.src=`data:image/png;base64,${t}`;let n=atob(t),a=new Uint8Array(n.length);for(let t=0;t<n.length;t++)a[t]=n.charCodeAt(t);this.buffer=a,e.width=e.height=100,e.onload=()=>{i.image=new u(e);let t=new b;t.texture=i,this.spHead.spriteFrame=t},this.onModifyHead()}}onModifyHead(){App.globalAudio.playGlobalEffect(d.audioPath.button);let t=this;App.apis.user.Modify({avatar:this.buffer,username:f.getUserData().username}).then((e=>{App.tips.show("个人数据更新成功。"),t.close(),App.event.emit(g.USER_DATA_UPDATA)})).catch((t=>{App.tips.show(t.message)}))}onClose(){App.globalAudio.playGlobalEffect(d.audioPath.button),this.close()}}).prototype,"btnBack",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(k.prototype,"btnHead",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(k.prototype,"spHead",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(k.prototype,"btnNick",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(k.prototype,"labNick",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(k.prototype,"btnSex",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(k.prototype,"spSex",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(k.prototype,"btnAge",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(k.prototype,"labAge",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(k.prototype,"btnSign",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(k.prototype,"labSign",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k));n._RF.pop()}}}));

System.register("chunks:///_virtual/userInfo2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./UserData.ts","./FileUtils.ts","./ConfigInfo.ts","./Utils.ts","./CommonEvent.ts","./Config.ts","./CommonData.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,l,u,p,f,h,c,b,d,g,m,y,C,w,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Node,o=e.Sprite,r=e.EditBox,s=e.Label,l=e.sys,u=e.Texture2D,p=e.ImageAsset,f=e.SpriteFrame},function(e){h=e.default},function(e){c=e.inject},function(e){b=e.UserDataEn},function(e){d=e.default},function(e){g=e.ConfigInfoEn,m=e.EmConfigData},function(e){y=e.default},function(e){C=e.UserInfoEvent},function(e){w=e.Config},function(e){A=e.OpenType}],execute:function(){var D,N,U,E,v,I,T,k,H,_,B,x,F,O,z,P,S;n._RF.push({},"04a1ejgOB5F071qmiKtaF0B","userInfo",void 0);e("default",(D=c("SpriteSplash",a),N=c("btnClose",a),U=c("headBg/Mask/head",o),E=c("headBg",a),v=c("input/EditBox",r),I=c("txt",s),T=c("labelCount",s),k=c("cancel",a),_=t((H=class extends h{constructor(...e){super(...e),this.buffer=void 0,this.userApi=App.apis.user,i(this,"back",_,this),i(this,"btnClose",B,this),i(this,"head",x,this),i(this,"modify",F,this),i(this,"nickName",O,this),i(this,"aboutTxt",z,this),i(this,"about",P,this),i(this,"cancel",S,this),this.perHead=!1,this.perNick=null}static getPrefabUrl(){return"userInfo/prefabs/userInfo"}onLoad(){super.onLoad(),this.onN(this.back,a.EventType.TOUCH_END,this.onClose),this.onN(this.btnClose,a.EventType.TOUCH_END,this.onClose),this.onN(this.modify,a.EventType.TOUCH_END,this.onUpload),this.onN(this.cancel,a.EventType.TOUCH_END,this.onModifyInfo),this.onCustom(C.HEAD_BACK_UPLOAD,this.onUploadHead);var e=b.getUserData();if(this.nickName.string=e.username,this.perNick=e.username,this.head.loadRemoteImage({url:e.avatar+"?t="+(new Date).getTime(),view:this,defaultBundle:this.bundle,isNeedCache:!0}),0!=e.modifyTimes){this.aboutTxt.string="修改花费：";var t=g.getConfig(m.CONFIG);this.about.string=y.getScore(t.reset_user_info_price)}}onClose(){App.globalAudio.playGlobalEffect(w.audioPath.button),this.close()}onUpload(){App.globalAudio.playGlobalEffect(w.audioPath.button),l.isNative?window.Platform.OpenCameraOrAlbum(A.Album):App.nativeBridge.getSelectedImageData((async e=>{this.buffer=new Uint8Array(await e.arrayBuffer()),d.fileToSpriteFrame(e).then((e=>{this.head.spriteFrame=e,this.perHead=!0}))}))}onUploadHead(e){this.perHead=!0;let t=new Image,i=new u;t.src=`data:image/png;base64,${e}`;let n=atob(e),a=new Uint8Array(n.length);for(let e=0;e<n.length;e++)a[e]=n.charCodeAt(e);this.buffer=a,t.width=t.height=100,t.onload=()=>{i.image=new p(t);let e=new f;e.texture=i,this.head.spriteFrame=e}}onModifyInfo(){App.globalAudio.playGlobalEffect(w.audioPath.button);let e=this;this.perHead||this.nickName.string!=this.perNick?this.userApi.Modify({avatar:this.buffer,username:this.nickName.string}).then((t=>{App.tips.show("个人数据更新成功。"),e.close(),App.apis.user.getUserInfo()})).catch((e=>{App.tips.show(e.message)})):e.close()}onDestroy(...e){super.onDestroy()}}).prototype,"back",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(H.prototype,"btnClose",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(H.prototype,"head",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(H.prototype,"modify",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(H.prototype,"nickName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(H.prototype,"aboutTxt",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(H.prototype,"about",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(H.prototype,"cancel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H));n._RF.pop()}}}));

System.register("chunks:///_virtual/userSign.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Config.ts"],(function(t){"use strict";var e,n,i,o,r,u,l,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Node,r=t.EditBox},function(t){u=t.default},function(t){l=t.inject},function(t){s=t.Config}],execute:function(){var a,c,f,p,b,d,g;i._RF.push({},"44d7c6l9gtDp7Nl2hqIQknR","userSign",void 0);t("default",(a=l("topLayout/btnBack",o),c=l("EditBox",r),f=l("btnConf",o),b=e((p=class extends u{constructor(...t){super(...t),n(this,"btnBack",b,this),n(this,"editBoxSign",d,this),n(this,"btnConf",g,this)}static getPrefabUrl(){return"userInfo/prefabs/userSign"}onLoad(){super.onLoad(),this.onN(this.btnBack,o.EventType.TOUCH_END,this.onClose)}onClose(){App.globalAudio.playGlobalEffect(s.audioPath.button),this.close()}}).prototype,"btnBack",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(p.prototype,"editBoxSign",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(p.prototype,"btnConf",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p));i._RF.pop()}}}));

System.register("chunks:///_virtual/waithdrawRecordView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./UserData.ts","./Utils.ts","./Macros.ts"],(function(t){"use strict";var e,n,r,i,o,a,s,c,l,p,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){r=t.cclegacy,i=t.Node,o=t.Label,a=t.Prefab,s=t.instantiate},function(t){c=t.default},function(t){l=t.inject},function(t){p=t.UserDataEn},function(t){u=t.default},function(t){d=t.Macro}],execute:function(){var h,g,f,w,y,b,C;r._RF.push({},"a6742zWqUpDYo78gkGHRkX7","waithdrawRecordView",void 0);t("default",(h=l("safeArea/topLayout/news",i),g=l("safeArea/inputLayout/goldBg/score",o),f=l("safeArea/ScrollView/view/content",i),y=e((w=class extends c{constructor(...t){super(...t),this.agentApi=App.apis.agent,n(this,"back",y,this),n(this,"userScore",b,this),n(this,"ScrollContent",C,this)}static getPrefabUrl(){return"dividend/prefabs/waithdrawrecordView"}onLoad(){super.onLoad(),this.onN(this.back,i.EventType.TOUCH_END,this.close);var t=p.getUserData();this.userScore.string=u.getScore(t.balance),this.onRecord()}onDestroy(...t){super.onDestroy()}onRecord(){App.loading.show(""),this.agentApi.withdrawRecord().then((t=>{App.loading.hide(),t.data.forEach((async(t,e)=>{App.asset.load(d.BUNDLE_HALL,"dividend/prefabs/waithInfoItem",a,(()=>{}),(e=>{const n=s(e.data);this.ScrollContent.addChild(n);let r=n.getChildByPath("type").getComponent(o),i=n.getChildByPath("SZ").getComponent(o),a=n.getChildByPath("SZAfter").getComponent(o),c=n.getChildByPath("date").getComponent(o),l=n.getChildByPath("time").getComponent(o);var p=t.updateAt.split(" ");i.string=u.getScore(t.money),a.string=u.getScore(t.afterMoney),c.string=p[0],l.string=p[1],r.string=t.remark}))}))})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}}).prototype,"back",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(w.prototype,"userScore",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(w.prototype,"ScrollContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w));r._RF.pop()}}}));

System.register("chunks:///_virtual/WalletGivePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./UserData.ts","./Utils.ts","./CommonEvent.ts","./Config.ts"],(function(t){"use strict";var e,i,n,o,a,r,s,l,p,u,c,d,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,a=t.Label,r=t.EditBox,s=t._decorator,l=t.instantiate},function(t){p=t.default},function(t){u=t.inject},function(t){c=t.UserDataEn},function(t){d=t.default},function(t){h=t.UserInfoEvent},function(t){g=t.Config}],execute:function(){var b,f,m,A,v,y,w,C,D,U,E,P,_,T,R,z,G,B,I,N;n._RF.push({},"78f1ePEmxRKtY4Uew3E2sWR","WalletGivePage",void 0);const{ccclass:S,property:x}=s;t("default",(b=u("scrollview/item",o),f=u("scrollview/content",o),m=u("scrollview/not",o),A=u("gold/num",a),v=u("gold/update",o),y=u("button",o),w=u("id/input_bg/edit",r),C=u("amount/input_bg/edit",r),D=u("pwd/input_bg/edit",r),S((P=e((E=class extends p{constructor(...t){super(...t),i(this,"prebItem",P,this),i(this,"nContent",_,this),i(this,"notTips",T,this),i(this,"labGold",R,this),i(this,"btnUpdate",z,this),i(this,"btnReq",G,this),i(this,"editUser",B,this),i(this,"editAmount",I,this),i(this,"pwd",N,this)}onLoad(){super.onLoad(),this.onN(this.btnReq,o.EventType.TOUCH_END,this.onDividend),this.onN(this.btnUpdate,o.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(g.audioPath.button),App.loading.show("刷新中..."),App.apis.user.getUserInfo().then((()=>{App.loading.hide()})).catch((t=>{App.loading.hide(),App.tips.show(t.message)}))})),this.notTips.active=!1;var t=c.getUserData();this.labGold.string=d.getScore(t.balance)+"",App.event.on(h.USER_DATA_UPDATA,(()=>{this.labGold.string=d.getScore(t.balance)+""}),this.node),this.onDividendRecord()}onDividend(){const t=this.editUser.string.trim(),e=this.editAmount.string;App.apis.user.getUserName(Number(t)).then((i=>{const n=i.data.username;App.alert.show({title:"赠送确认",richText:`是否赠送${e}至玩家<color=#2a9547>${n}</color>(${t})?`,confirmCb:()=>{App.globalAudio.playGlobalEffect(g.audioPath.button),this.doDonate()},cancelCb:()=>{App.globalAudio.playGlobalEffect(g.audioPath.button)}})})).catch((t=>{App.tips.show(t.message)}))}doDonate(){var t=c.getUserData(),e=this.editUser.string.trim();if(t.id!=Number(e)){App.globalAudio.playGlobalEffect(g.audioPath.button);var i=d.convertToServerScore(Number(this.editAmount.string));App.apis.user.donate(this.editUser.string.trim(),i+"",this.pwd.string).then((t=>{this.clearInputData(),App.tips.show("赠送成功"),c.getUserData().balance-=i,App.event.emit(h.USER_DATA_UPDATA),this.onDividendRecord()})).catch((t=>{this.clearInputData(),App.tips.show(t.message)}))}else App.tips.show("不能赠送给自己")}clearInputData(){this.editUser.string="",this.editAmount.string="",this.pwd.string=""}onDividendRecord(){App.loading.show(""),App.apis.user.donateRecord().then((t=>{App.loading.hide(),this.nContent.removeAllChildren(),0==t.data.length?this.notTips.active=!0:(this.notTips.active=!1,t.data.forEach((async(t,e)=>{const i=l(this.prebItem);this.nContent.addChild(i),i.active=!0,i.getChildByPath("bg0").active=e%2==0,i.getChildByPath("bg1").active=e%2!=0;let n=i.getChildByPath("type").getComponent(a),o=i.getChildByPath("userID").getComponent(a),r=i.getChildByPath("gold").getComponent(a),s=i.getChildByPath("time").getComponent(a),p=i.getChildByPath("status").getComponent(a);r.string=d.getScore(t.money),s.string=d.getScore(t.after_money),p.string=t.created_at.replace(" ","\n"),n.string=t.remark,o.string=`(${t.extra_id})`})))})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}}).prototype,"prebItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(E.prototype,"nContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(E.prototype,"notTips",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(E.prototype,"labGold",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(E.prototype,"btnUpdate",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"btnReq",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(E.prototype,"editUser",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(E.prototype,"editAmount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(E.prototype,"pwd",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=E))||U));n._RF.pop()}}}));

System.register("chunks:///_virtual/WalletPasswordPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./UserData.ts","./Config.ts"],(function(t){"use strict";var e,i,n,s,r,o,a,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.EditBox,r=t.Node,o=t._decorator},function(t){a=t.default},function(t){l=t.inject},function(t){u=t.UserDataEn},function(t){c=t.Config}],execute:function(){var h,p,d,g,f,w,b,P,C,m,y,D;n._RF.push({},"5910ezdirtAZJ9FoS0dyPvf","WalletPasswordPage",void 0);const{ccclass:A,property:E}=o;t("default",(h=l("psw_wallet/edit",s),p=l("confirn/edit",s),d=l("phone/edit",s),g=l("psw/edit",s),f=l("button",r),A((P=e((b=class extends a{constructor(...t){super(...t),i(this,"editPsw",P,this),i(this,"editConfirm",C,this),i(this,"editPhone",m,this),i(this,"editLoginPsw",y,this),i(this,"btnChange",D,this),this.setSuccessCB=null}onLoad(){super.onLoad(),this.editPhone.string=u.getPhoneEncFour(),this.onN(this.btnChange,r.EventType.TOUCH_END,this.reqChange)}onEnable(){App.alert.show("未设置交易密码！")}checkInput(){if(!u.getUserData())return!1;let t=!0,e=null;return this.editPsw.string&&6==this.editPsw.string.length?this.editConfirm.string!=this.editPsw.string?(t=!1,e="两次密码输入不一致"):this.editLoginPsw.string||(t=!1,e="登录密码输入错误"):(t=!1,e="请输入六位数交易密码"),t||App.tips.show(e),t}reqChange(){this.checkInput()&&App.apis.user.setTransPassword({pwd:this.editPsw.string,pwd_confirmation:this.editConfirm.string,login_pwd:this.editLoginPsw.string}).then((t=>{App.tips.show("设置交易密码成功"),u.getUserData().transPassword=this.editPsw.string,this.setSuccessCB&&this.setSuccessCB()})).catch((t=>{App.alert.show({text:t.message,confirmCb:()=>{App.globalAudio.playGlobalEffect(c.audioPath.button)},confirmString:"确定"})}))}}).prototype,"editPsw",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(b.prototype,"editConfirm",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(b.prototype,"editPhone",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(b.prototype,"editLoginPsw",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(b.prototype,"btnChange",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/WalletRecordsPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Utils.ts"],(function(t){"use strict";var e,s,n,o,i,a,r,l,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,i=t._decorator,a=t.instantiate,r=t.Label,l=t.Color},function(t){c=t.default},function(t){u=t.inject},function(t){h=t.default}],execute:function(){var p,g,d,C,m,y,b,f;n._RF.push({},"89cedmsVppIUIXiWX+b/Aht","WalletRecordsPage",void 0);const{ccclass:P,property:v}=i;t("default",(p=u("scrollview/item",o),g=u("scrollview/content",o),d=u("not",o),P((y=e((m=class extends c{constructor(...t){super(...t),s(this,"prebItem",y,this),s(this,"nContent",b,this),s(this,"notTips",f,this),this._statusR=["待确认","充值到账"],this._statusW=["待确认","驳回","待出款","出款成功","出款失败"]}onLoad(){super.onLoad()}onEnable(){this.notTips.active=!1,App.apis.wallet.reqRecords().then((t=>{this.updateRecords(t)})).catch((t=>App.tips.show(t.message)))}updateRecords(t){this.nContent.removeAllChildren(),0!=t.length?t.reverse().forEach(((t,e)=>{const s=a(this.prebItem);this.nContent.addChild(s),s.active=!0,s.getChildByPath("bg0").active=e%2==0,s.getChildByPath("bg1").active=e%2!=0,s.getChildByPath("type").getComponent(r).string=1==t.type?"充值":"提现",s.getChildByPath("gold").getComponent(r).string=h.getScore(t.amount),s.getChildByPath("time").getComponent(r).string=t.created_at.replace(" ","\n"),1==t.type?(s.getChildByPath("status").getComponent(r).string=this._statusR[t.status],0==t.status?s.getChildByPath("status").getComponent(r).color=l.YELLOW:1==t.status&&(s.getChildByPath("status").getComponent(r).color=l.GREEN)):(s.getChildByPath("status").getComponent(r).string=this._statusW[t.status],0==t.status?s.getChildByPath("status").getComponent(r).color=l.YELLOW:1==t.status?s.getChildByPath("status").getComponent(r).color=l.RED:2==t.status?s.getChildByPath("status").getComponent(r).color=l.WHITE:3==t.status&&(s.getChildByPath("status").getComponent(r).color=l.GREEN))})):this.notTips.active=!0}}).prototype,"prebItem",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(m.prototype,"nContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(m.prototype,"notTips",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=m))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/WalletWithdrwaPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./DropDown.ts","./ConfigInfo.ts","./Utils.ts","./UserData.ts","./CommonEvent.ts","./Config.ts"],(function(i){"use strict";var t,e,n,a,r,o,l,s,h,d,u,b,p,c,g,w,f;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){n=i.cclegacy,a=i.Node,r=i.EditBox,o=i.Label,l=i._decorator,s=i.Toggle},function(i){h=i.default},function(i){d=i.inject},function(i){u=i.default},function(i){b=i.ConfigInfoEn,p=i.EmConfigData},function(i){c=i.default},function(i){g=i.UserDataEn},function(i){w=i.UserInfoEvent},function(i){f=i.Config}],execute:function(){var m,_,y,N,k,B,v,C,Z,z,D,A,E,T,W,R,G,I,P,L,q,x,U,S,H,M,O,V,Y,j,F,J,X,K,Q,$,ii,ti,ei,ni,ai,ri,oi,li,si,hi,di,ui,bi,pi,ci,gi,wi,fi,mi,_i,yi,Ni,ki,Bi,vi,Ci,Zi,zi,Di,Ai,Ei,Ti,Wi,Ri,Gi,Ii,Pi,Li,qi,xi,Ui,Si,Hi,Mi,Oi,Vi,Yi,ji,Fi,Ji,Xi,Ki,Qi,$i,it,tt,et,nt,at,rt;n._RF.push({},"91d744sJhhAuLdAnLagulxV","WalletWithdrwaPage",void 0);const{ccclass:ot,property:lt}=l;i("default",(m=d("scroll_view/yinhangka/bind",a),_=d("scroll_view/yinhangka/withdraw",a),y=d("scroll_view/yinhangka/empty",a),N=d("scroll_view/zhifubao/bind",a),k=d("scroll_view/zhifubao/withdraw",a),B=d("scroll_view/zhifubao/empty",a),v=d("select",a),C=d("scroll_view/yinhangka",a),Z=d("scroll_view",a),z=d("scroll_view/zhifubao",a),D=d("scroll_view/yinhangka/bind/dropdown",a),A=d("scroll_view/yinhangka/bind/code/input_bg/edit",r),E=d("scroll_view/yinhangka/bind/province/input_bg/edit",r),T=d("scroll_view/yinhangka/bind/city/input_bg/edit",r),W=d("scroll_view/yinhangka/bind/bankName/input_bg/edit",r),R=d("scroll_view/yinhangka/bind/realName/input_bg/edit",r),G=d("scroll_view/yinhangka/bind/bankNum/input_bg/edit",r),I=d("scroll_view/yinhangka/bind/psw/input_bg/edit",r),P=d("scroll_view/yinhangka/bind/button",a),L=d("scroll_view/yinhangka/withdraw/desc/desc",o),q=d("scroll_view/yinhangka/withdraw/myGold/btn",a),x=d("scroll_view/yinhangka/withdraw/myGold/input_bg/num",o),U=d("scroll_view/yinhangka/withdraw/gold/input_bg/edit",r),S=d("scroll_view/yinhangka/withdraw/dropdown",a),H=d("scroll_view/yinhangka/withdraw/card/input_bg/edit",r),M=d("scroll_view/yinhangka/withdraw/name/input_bg/edit",r),O=d("scroll_view/yinhangka/withdraw/realname/input_bg/edit",r),V=d("scroll_view/yinhangka/withdraw/num/input_bg/edit",r),Y=d("scroll_view/yinhangka/withdraw/num/input_bg/toBind",a),j=d("scroll_view/yinhangka/withdraw/psw/input_bg/edit",r),F=d("scroll_view/yinhangka/withdraw/button",a),J=d("scroll_view/zhifubao/bind/realName/input_bg/edit",r),X=d("scroll_view/zhifubao/bind/bankNum/input_bg/edit",r),K=d("scroll_view/zhifubao/bind/psw/input_bg/edit",r),Q=d("scroll_view/zhifubao/bind/Name/input_bg/edit",r),$=d("scroll_view/zhifubao/bind/button",a),ii=d("scroll_view/zhifubao/withdraw/desc/desc",o),ti=d("scroll_view/zhifubao/withdraw/myGold/btn",a),ei=d("scroll_view/zhifubao/withdraw/myGold/input_bg/num",o),ni=d("scroll_view/zhifubao/withdraw/gold/input_bg/edit",r),ai=d("scroll_view/zhifubao/withdraw/dropdown",a),ri=d("scroll_view/zhifubao/withdraw/card/input_bg/edit",r),oi=d("scroll_view/zhifubao/withdraw/realname/input_bg/edit",r),li=d("scroll_view/zhifubao/withdraw/num/input_bg/edit",r),si=d("scroll_view/zhifubao/withdraw/num/input_bg/toBind",a),hi=d("scroll_view/zhifubao/withdraw/psw/input_bg/edit",r),di=d("scroll_view/zhifubao/withdraw/button",a),ot((pi=t((bi=class extends h{constructor(...i){super(...i),e(this,"bind",pi,this),e(this,"withdraw",ci,this),e(this,"empty",gi,this),e(this,"Zbind",wi,this),e(this,"Zwithdraw",fi,this),e(this,"Zempty",mi,this),e(this,"nSelects",_i,this),e(this,"nYinhangka",yi,this),e(this,"nMainRoot",Ni,this),e(this,"nZhifubao",ki,this),this._viewInited=!1,e(this,"dropdownBind",Bi,this),e(this,"editCode",vi,this),e(this,"editProvince",Ci,this),e(this,"editCity",Zi,this),e(this,"editBankNameBind",zi,this),e(this,"editRealNameBind",Di,this),e(this,"editNum",Ai,this),e(this,"editPswBind",Ei,this),e(this,"btnReqBind",Ti,this),e(this,"withdrawTips",Wi,this),e(this,"btnMax",Ri,this),e(this,"labGold",Gi,this),e(this,"editGold",Ii,this),e(this,"dropdownW",Pi,this),e(this,"editBox",Li,this),e(this,"editBankName",qi,this),e(this,"editRealName",xi,this),e(this,"editBankNum",Ui,this),e(this,"btnToBind",Si,this),e(this,"editPsw",Hi,this),e(this,"btnReq",Mi,this),this._curID=65535,e(this,"ZeditRealNameBind",Oi,this),e(this,"ZeditNum",Vi,this),e(this,"ZeditPswBind",Yi,this),e(this,"ZeditNameBind",ji,this),e(this,"ZbtnReqBind",Fi,this),e(this,"ZwithdrawTips",Ji,this),e(this,"ZbtnMax",Xi,this),e(this,"ZlabGold",Ki,this),e(this,"ZeditGold",Qi,this),e(this,"ZdropdownW",$i,this),e(this,"ZeditBox",it,this),e(this,"ZeditRealName",tt,this),e(this,"ZeditBankNum",et,this),e(this,"ZbtnToBind",nt,this),e(this,"ZeditPsw",at,this),e(this,"ZbtnReq",rt,this),this.Z_curID=65535}onLoad(){super.onLoad(),this.nSelects.children.forEach(((i,t)=>{this.onN(i,s.EventType.TOGGLE,(()=>this.onTogChange(t)))})),this.onN(this.editCode.node,r.EventType.EDITING_DID_BEGAN,(()=>this.onEditCodeBegin())),this.onN(this.editCode.node,r.EventType.TEXT_CHANGED,(()=>this.onEditCode())),this.onN(this.editCode.node,r.EventType.EDITING_DID_ENDED,(()=>this.onEditCodeEnd())),this.onN(this.btnReqBind,a.EventType.TOUCH_END,(()=>this.toReqBind())),this.onN(this.btnToBind,a.EventType.TOUCH_END,(()=>this.toBind())),this.dropdownBind.addComponent(u),this.onN(this.btnMax,a.EventType.TOUCH_END,(()=>this.setWithdrawMax())),this.onN(this.btnReq,a.EventType.TOUCH_END,(()=>this.toReqWithDraw())),this.dropdownW.addComponent(u),this.labGold.string=c.getScore(g.getUserData().balance),App.event.on(w.USER_DATA_UPDATA,(()=>this.labGold.string=c.getScore(g.getUserData().balance)),this.node),this.onN(this.ZbtnReqBind,a.EventType.TOUCH_END,(()=>this.toReqBind_zfb())),this.onN(this.ZbtnToBind,a.EventType.TOUCH_END,(()=>this.toBind_zfb())),this.onN(this.ZbtnMax,a.EventType.TOUCH_END,(()=>this.setWithdrawMax_zfb())),this.onN(this.ZbtnReq,a.EventType.TOUCH_END,(()=>this.toReqWithDraw_zfb())),this.ZdropdownW.addComponent(u),this.ZlabGold.string=c.getScore(g.getUserData().balance),App.event.on(w.USER_DATA_UPDATA,(()=>this.ZlabGold.string=c.getScore(g.getUserData().balance)),this.node),this.nZhifubao.active=!1,this.bind.active=!1,this.withdraw.active=!1,this.empty.active=!1}onTogChange(i){App.globalAudio.playGlobalEffect(f.audioPath.button),this.nSelects.children[i].getComponent(s).isChecked&&this.changeToTab(i)}changeToTab(i){this.nYinhangka.active=0==i,this.nZhifubao.active=1==i,this._viewInited=!1,this.getConf()}onEnable(){this.getConf()}getConf(){App.apis.wallet.reqWalletWithdrawConf().then((i=>{i.bankConfig.length&&this.updateView(i)})).catch((i=>{this.bind.active=!1,this.withdraw.active=!1,this.empty.active=!0,this.Zbind.active=!1,this.Zwithdraw.active=!1,this.Zempty.active=!0,console.log(i),App.tips.show(i.message)}))}toBind(){this.bind.active=!0,this.withdraw.active=!1}updateView(i,t=!1){this.editCode.string=i.bankConfig[0].bankName,this._viewInited&&!t||(this._viewInited=!0,this.bind.active=0===i.bankList.filter((i=>0==i.type)).length,this.withdraw.active=0!=i.bankList.filter((i=>0==i.type)).length,this.Zbind.active=0===i.bankList.filter((i=>1==i.type)).length,this.Zwithdraw.active=0!=i.bankList.filter((i=>1==i.type)).length);const e=i.withdrawConfig;this.empty.active=null==e,this.updateDropDownBind(i.bankConfig),this.updateDropdown(i.bankList.filter((i=>0==i.type))),this.updateDropdown_zfb(i.bankList.filter((i=>1==i.type)));const n=c.getScoreImplicit(e.day_first_fee),a=c.getScoreImplicit(e.base_fee);this.withdrawTips.string=c.format("每日首笔%s元,后续提现为每笔%s元+提现金额的%s%",n,a,e.fee),this.ZwithdrawTips.string=c.format("每日首笔%s元,后续提现为每笔%s元+提现金额的%s%",n,a,e.fee)}updateDropDownBind(i,t=""){const e=[];i.filter((i=>0!=i.bankCode)).forEach((i=>{t&&-1==i.bankName.indexOf(t)||e.push(i.bankName)})),this.dropdownBind.getComponent(u).initDropDown(e,(i=>{this.editCode.string=i}))}onEditCodeBegin(){const i=b.getConfig(p.WALLET_WITHDRAW);this.updateDropDownBind(i.bankConfig),this.dropdownBind.getComponent(u).showPanel(!0)}onEditCode(){const i=b.getConfig(p.WALLET_WITHDRAW);this.updateDropDownBind(i.bankConfig,this.editCode.string)}onEditCodeEnd(){this.dropdownBind.getComponent(u).showPanel(!1);const i=b.getConfig(p.WALLET_WITHDRAW);this.updateDropDownBind(i.bankConfig)}toReqBind(){if(App.globalAudio.playGlobalEffect(f.audioPath.button),App.loading.show("绑定中..."),this.checkInputBind()){const i=b.getConfig(p.WALLET_WITHDRAW);let t=-1;i.bankConfig.forEach((i=>{this.editCode.string==i.bankName&&(t=i.id)})),App.apis.wallet.reqWalletWithdrawBind({bank_no:this.editNum.string,bank_id:t+"",bank_name:this.editCode.string,city:this.editCity.string,province:this.editProvince.string,pwd:this.editPswBind.string,sub_bank_name:this.editBankNameBind.string,user_name:this.editRealNameBind.string,type:0}).then((()=>{App.apis.wallet.reqWalletWithdrawConf().then((i=>{App.loading.hide(),i.bankConfig.length&&this.updateView(i,!0)})).catch((i=>{App.loading.hide(),App.tips.show(i.message)}))})).catch((i=>{App.loading.hide(),App.tips.show(i.message)}))}}checkInputBind(){let i=!0,t=null;const e=b.getConfig(p.WALLET_WITHDRAW);let n=!1;return e.bankConfig.forEach((i=>{i.bankName==this.editCode.string&&(n=!0)})),n?this.editProvince.string?this.editCity.string?this.editBankNameBind.string?this.editRealNameBind.string?this.editNum.string?this.editPswBind.string||(i=!1,t="请输入交易密码！"):(i=!1,t="请输入卡号！"):(i=!1,t="请输入姓名！"):(i=!1,t="请输入支行名称！"):(i=!1,t="请输入城市！"):(i=!1,t="请输入省份！"):(i=!1,t="请正确选择银行代码！"),i||App.tips.show(t),i}updateDropdown(i){if(0==i.length)return;const t=[];i.forEach((i=>{t.push(i.bankName)})),this.dropdownW.getComponent(u).initDropDown(t,((t,e)=>{const n=i[e];this.editBankName.string=n.subBankName,this.editBox.string=n.bankName,this.editRealName.string=this.encName(n.userName),this.editBankNum.string=this.encBank(n.bankNo),this._curID=i[e].id})),this._curID=i[0].id,this.editBox.string=i[0].bankName,this.editBankName.string=i[0].subBankName,this.editRealName.string=this.encName(i[0].userName),this.editBankNum.string=this.encBank(i[0].bankNo)}toReqWithDraw(){App.globalAudio.playGlobalEffect(f.audioPath.button),this.checkInput()&&App.apis.wallet.reqWalletWithdraw({amount:Number(this.editGold.string)*c.scoreRatio,user_bank_id:this._curID+"",pwd:this.editPsw.string}).then((()=>{App.alert.show("提现申请成功！")})).catch((i=>App.alert.show(i.message)))}setWithdrawMax(){this.editGold.string=c.getScore(g.getUserData().balance)}checkInput(){let i=!0,t=null;const e=b.getConfig(p.WALLET_WITHDRAW);return!this.editGold.string||Number.isNaN(Number(this.editGold.string))||Number(this.editGold.string)*c.scoreRatio<e.withdrawConfig.min||Number(this.editGold.string)*c.scoreRatio>e.withdrawConfig.max?(i=!1,t=c.format("请正确输入提现金额（%s~%s）",c.getScore(e.withdrawConfig.min),c.getScore(e.withdrawConfig.max))):this.editPsw.string||(i=!1,t="请输入交易密码！"),i||App.tips.show(t),i}encName(i){if(i.length<=2)return i.replace(i.substring(1,i.length),"*");{const t=i.length-2;let e="";for(let i=0;i<t;i++)e+="*";return i.replace(i.substring(1,i.length-1),e)}}encBank(i){const t=i+"",e=t.length-4-4;let n="";for(let i=0;i<e;i++)n+="*";return t.replace(t.substring(4,t.length-4),n)}toReqBind_zfb(){App.globalAudio.playGlobalEffect(f.audioPath.button),App.loading.show("绑定中..."),this.checkInputBind_zfb()&&App.apis.wallet.reqWalletWithdrawBind({bank_no:this.ZeditNum.string,bank_id:"0",bank_name:this.ZeditNameBind.string,city:"支付宝",province:"支付宝",pwd:this.ZeditPswBind.string,sub_bank_name:this.ZeditNameBind.string,user_name:this.ZeditRealNameBind.string,type:1}).then((()=>{App.apis.wallet.reqWalletWithdrawConf().then((i=>{App.loading.hide(),i.bankConfig.length&&this.updateView(i,!0)})).catch((i=>{App.loading.hide(),App.tips.show(i.message)}))})).catch((i=>{App.loading.hide(),App.tips.show(i.message)}))}checkInputBind_zfb(){let i=!0,t=null;return b.getConfig(p.WALLET_WITHDRAW).bankConfig.forEach((i=>{i.bankName,this.editCode.string})),this.ZeditRealNameBind.string?this.ZeditNum.string?this.ZeditNameBind.string?this.ZeditPswBind.string||(i=!1,t="请输入交易密码！"):(i=!1,t="请输入账号别名！"):(i=!1,t="请输入支付宝帐号！"):(i=!1,t="请输入姓名！"),i||App.tips.show(t),i}toBind_zfb(){this.Zbind.active=!0,this.Zwithdraw.active=!1}updateDropdown_zfb(i){if(0==i.length)return;const t=[];i.forEach((i=>{t.push(i.bankName)})),this.ZdropdownW.getComponent(u).initDropDown(t,((t,e)=>{const n=i[e];this.ZeditBox.string=n.bankName,this.ZeditRealName.string=this.encName(n.userName),this.ZeditBankNum.string=this.encBank(n.bankNo),this.Z_curID=i[e].id})),this.Z_curID=i[0].id,this.ZeditBox.string=i[0].bankName,this.ZeditRealName.string=this.encName(i[0].userName),this.ZeditBankNum.string=this.encBank(i[0].bankNo)}toReqWithDraw_zfb(){App.globalAudio.playGlobalEffect(f.audioPath.button),this.checkInput_zfb()&&App.apis.wallet.reqWalletWithdraw({amount:Number(this.ZeditGold.string)*c.scoreRatio,user_bank_id:this.Z_curID+"",pwd:this.ZeditPsw.string}).then((()=>{App.alert.show("提现申请成功！")})).catch((i=>App.alert.show(i.message)))}setWithdrawMax_zfb(){this.ZeditGold.string=c.getScore(g.getUserData().balance)}checkInput_zfb(){let i=!0,t=null;const e=b.getConfig(p.WALLET_WITHDRAW);return!this.ZeditGold.string||Number.isNaN(Number(this.ZeditGold.string))||Number(this.ZeditGold.string)*c.scoreRatio<e.withdrawConfig.min||Number(this.ZeditGold.string)*c.scoreRatio>e.withdrawConfig.max?(i=!1,t=c.format("请正确输入提现金额（%s~%s）",c.getScore(e.withdrawConfig.min),c.getScore(e.withdrawConfig.max))):this.ZeditPsw.string||(i=!1,t="请输入交易密码！"),i||App.tips.show(t),i}encName_zfb(i){if(i.length<=2)return i.replace(i.substring(1,i.length),"*");{const t=i.length-2;let e="";for(let i=0;i<t;i++)e+="*";return i.replace(i.substring(1,i.length-1),e)}}encBank_zfb(i){const t=i+"",e=t.length-4-4;let n="";for(let i=0;i<e;i++)n+="*";return t.replace(t.substring(4,t.length-4),n)}}).prototype,"bind",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=t(bi.prototype,"withdraw",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gi=t(bi.prototype,"empty",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wi=t(bi.prototype,"Zbind",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fi=t(bi.prototype,"Zwithdraw",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=t(bi.prototype,"Zempty",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_i=t(bi.prototype,"nSelects",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yi=t(bi.prototype,"nYinhangka",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ni=t(bi.prototype,"nMainRoot",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ki=t(bi.prototype,"nZhifubao",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bi=t(bi.prototype,"dropdownBind",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vi=t(bi.prototype,"editCode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ci=t(bi.prototype,"editProvince",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zi=t(bi.prototype,"editCity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zi=t(bi.prototype,"editBankNameBind",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Di=t(bi.prototype,"editRealNameBind",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ai=t(bi.prototype,"editNum",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ei=t(bi.prototype,"editPswBind",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ti=t(bi.prototype,"btnReqBind",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wi=t(bi.prototype,"withdrawTips",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ri=t(bi.prototype,"btnMax",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gi=t(bi.prototype,"labGold",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ii=t(bi.prototype,"editGold",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pi=t(bi.prototype,"dropdownW",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Li=t(bi.prototype,"editBox",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qi=t(bi.prototype,"editBankName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xi=t(bi.prototype,"editRealName",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ui=t(bi.prototype,"editBankNum",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Si=t(bi.prototype,"btnToBind",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hi=t(bi.prototype,"editPsw",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mi=t(bi.prototype,"btnReq",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oi=t(bi.prototype,"ZeditRealNameBind",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vi=t(bi.prototype,"ZeditNum",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yi=t(bi.prototype,"ZeditPswBind",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ji=t(bi.prototype,"ZeditNameBind",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fi=t(bi.prototype,"ZbtnReqBind",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ji=t(bi.prototype,"ZwithdrawTips",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xi=t(bi.prototype,"ZbtnMax",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ki=t(bi.prototype,"ZlabGold",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qi=t(bi.prototype,"ZeditGold",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$i=t(bi.prototype,"ZdropdownW",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(bi.prototype,"ZeditBox",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(bi.prototype,"ZeditRealName",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(bi.prototype,"ZeditBankNum",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(bi.prototype,"ZbtnToBind",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(bi.prototype,"ZeditPsw",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(bi.prototype,"ZbtnReq",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=bi))||ui));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/hall', 'chunks:///_virtual/hall'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});