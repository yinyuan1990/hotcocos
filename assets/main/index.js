System.register("chunks:///_virtual/Adapter.ts",["cc"],(function(e){"use strict";var t,i,n,s,a,r;return{setters:[function(e){t=e.cclegacy,i=e.size,n=e.Component,s=e.UITransform,a=e.screen,r=e.view}],execute:function(){var h;t._RF.push({},"aaa34/PoEtBfKKezXCXgQqE","Adapter",void 0),function(e){e[e.Unknown=0]="Unknown",e[e.LandscapeLeft=1]="LandscapeLeft",e[e.LandscapeRight=2]="LandscapeRight",e[e.Portrait=3]="Portrait",e[e.UpsideDown=4]="UpsideDown"}(h||(h={}));let o=i(0,0),d=i(0,0);class g extends n{constructor(...e){super(...e),this._func=null}set width(e){let t=this.getComponent(s);t&&(t.width=e)}get width(){let e=this.getComponent(s);return e?e.width:0}set height(e){let t=this.getComponent(s);t&&(t.height=e)}get height(){let e=this.getComponent(s);return e?e.height:0}static get windowSize(){return a.windowSize}static get visibleSize(){return r.getVisibleSize()}onLoad(){super.onLoad&&super.onLoad(),this.onChangeSize()}onEnable(){super.onEnable&&super.onEnable(),this.addEvents()}onDisable(){this.removeEvents(),super.onDisable&&super.onDisable()}onDestroy(){this.removeEvents(),super.onDestroy&&super.onDestroy()}addEvents(){this._func||(this._func=this.onChangeSize.bind(this),window.addEventListener("resize",this._func),window.addEventListener("orientationchange",this._func))}removeEvents(){this._func&&(window.removeEventListener("resize",this._func),window.removeEventListener("orientationchange",this._func)),this._func=null}onChangeSize(){}get direction(){let e="未知",t=h.Unknown,i=window.orientation;return i=jsb.device.getDeviceOrientation(),null==i&&null==i||(90==i?(e="横屏向左",t=h.LandscapeLeft):-90==i?(e="横屏向右",t=h.LandscapeRight):0==i?(e="竖屏向上",t=h.Portrait):180==i&&(e="竖屏向下",t=h.UpsideDown)),Log.d(`设备方向 : ${e}`),t}static get safeAreaEdge(){return jsb.device.getSafeAreaEdge()}static set safeArea(e){this._safeArea=e}static screenPxToDesignPx(e){return e/this.safeArea.designPxToScreenPxRatio}static designPxToScreenPx(e){return e*this.safeArea.designPxToScreenPxRatio}static get safeArea(){if(null==this._safeArea||null==this._safeArea){let e=g.windowSize.width,t=g.windowSize.height,i=g.visibleSize.width,n=g.visibleSize.height,s=Math.min(e/i,t/n);d.width=0,d.height=0,o.width=e-d.width,o.height=t-d.height,d.width=this.safeAreaEdge.y+this.safeAreaEdge.w,d.height=this.safeAreaEdge.x+this.safeAreaEdge.z,o.width=e-d.width,o.height=t-d.height,d.width=d.width/2,d.height=d.height/2,this._safeArea={width:e,height:t,outside:d,safe:o,designPxToScreenPxRatio:s}}return this._safeArea}}e("Adapter",g),g.direction=h,g._safeArea=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterSafeArea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Adapter.ts"],(function(t){"use strict";var i,e,o,r,s,n;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,r=t._decorator,s=t.Widget},function(t){n=t.Adapter}],execute:function(){var p,l,h,g,a,u,c,f,y,A,b,d,_,m,O,T;o._RF.push({},"07550mrXINByYEGIQGf/ueP","AdapterSafeArea",void 0);const{ccclass:D,property:L,executeInEditMode:w,menu:P}=r;var R;!function(t){t[t.None=0]="None",t[t.TOP=1]="TOP",t[t.BOTTOM=2]="BOTTOM",t[t.LEFT=4]="LEFT",t[t.RIGHT=8]="RIGHT"}(R||(R={}));t("default",(p=P("Quick适配组件/AdapterSafeArea"),l=L({tooltip:""}),h=L({tooltip:""}),g=L({tooltip:""}),a=L({tooltip:""}),u=L({visible:function(){return this.isAlignTop},tooltip:""}),c=L({visible:function(){return this.isAlignBottom},tooltip:""}),f=L({visible:function(){return this.isAlignLeft},tooltip:""}),y=L({visible:function(){return this.isAlignRight},tooltip:""}),D(A=w(A=p((d=i((b=class extends n{constructor(...t){super(...t),e(this,"_flags",d,this),e(this,"_top",_,this),e(this,"_bottom",m,this),e(this,"_left",O,this),e(this,"_right",T,this),this._isDirty=!1}setFlag(t,i){i!=(this._flags&t)>0&&(i?this._flags|=t:this._flags&=~t,this._isDirty=!0)}get isAlignTop(){return(this._flags&R.TOP)>0}set isAlignTop(t){this.setFlag(R.TOP,t)}get isAlignBottom(){return(this._flags&R.BOTTOM)>0}set isAlignBottom(t){this.setFlag(R.BOTTOM,t)}get isAlignLeft(){return(this._flags&R.LEFT)>0}set isAlignLeft(t){this.setFlag(R.LEFT,t)}get isAlignRight(){return(this._flags&R.RIGHT)>0}set isAlignRight(t){this.setFlag(R.RIGHT,t)}get top(){return this._top}set top(t){this._top!=t&&(this._top=t,this._isDirty=!0)}get bottom(){return this._bottom}set bottom(t){this._bottom!=t&&(this._bottom=t,this._isDirty=!0)}get left(){return this._left}set left(t){this._left!=t&&(this._left=t,this._isDirty=!0)}get right(){return this._right}set right(t){this._right!=t&&(this._right=t,this._isDirty=!0)}get widget(){let t=this.getComponent(s);return t||this.addComponent(s)}resetInEditor(){this.doLayout(!0)}doLayout(t=!1){if(this._isDirty||t){let t=this.widget;if(!App.isFullScreenAdaption)return;if(!t||!t.enabled)return;t.isAlignTop&&this.isAlignTop&&(t.isAbsoluteTop=!0,this.direction==n.direction.Portrait?t.top=this.top+n.safeArea.outside.height:t.top=this.top),t.isAlignBottom&&this.isAlignBottom&&(t.isAbsoluteBottom=!0,this.direction==n.direction.UpsideDown?t.bottom=this.bottom+n.safeArea.outside.height:t.bottom=this.bottom),t.isAlignLeft&&this.isAlignLeft&&(t.isAbsoluteLeft=!0,this.direction==n.direction.LandscapeLeft?t.left=this.left+n.safeArea.outside.width:t.left=this.left),t.isAlignRight&&this.isAlignRight&&(t.isAbsoluteRight=!0,this.direction==n.direction.LandscapeRight?t.right=this.right+n.safeArea.outside.width:t.right=this.right),t.updateAlignment(),this._isDirty=!1}}onChangeSize(){this.doLayout(!0)}update(t){super.update&&super.update(t),this.doLayout()}}).prototype,"_flags",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.None}}),i(b.prototype,"isAlignTop",[l],Object.getOwnPropertyDescriptor(b.prototype,"isAlignTop"),b.prototype),i(b.prototype,"isAlignBottom",[h],Object.getOwnPropertyDescriptor(b.prototype,"isAlignBottom"),b.prototype),i(b.prototype,"isAlignLeft",[g],Object.getOwnPropertyDescriptor(b.prototype,"isAlignLeft"),b.prototype),i(b.prototype,"isAlignRight",[a],Object.getOwnPropertyDescriptor(b.prototype,"isAlignRight"),b.prototype),_=i(b.prototype,"_top",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(b.prototype,"top",[u],Object.getOwnPropertyDescriptor(b.prototype,"top"),b.prototype),m=i(b.prototype,"_bottom",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(b.prototype,"bottom",[c],Object.getOwnPropertyDescriptor(b.prototype,"bottom"),b.prototype),O=i(b.prototype,"_left",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(b.prototype,"left",[f],Object.getOwnPropertyDescriptor(b.prototype,"left"),b.prototype),T=i(b.prototype,"_right",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(b.prototype,"right",[y],Object.getOwnPropertyDescriptor(b.prototype,"right"),b.prototype),A=b))||A)||A)||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Adapter.ts"],(function(e){"use strict";var t,i,s,n,p,r,h,o,a;return{setters:[function(e){t=e.applyDecoratedDescriptor},function(e){i=e.cclegacy,s=e.Enum,n=e._decorator,p=e.Sprite,r=e.Widget,h=e.v3,o=e.UITransform},function(e){a=e.Adapter}],execute:function(){var l,c,T,d,g,y;e({SpriteAlignType:void 0,SpriteScaleType:void 0}),i._RF.push({},"38151mINEtP7bc2sNH9D25e","AdapterSprite",void 0);const{ccclass:u,property:S,executeInEditMode:I,menu:E}=n;let _,L;!function(e){e[e.FILL=0]="FILL",e[e.SUIT=1]="SUIT"}(_||(_=e("SpriteScaleType",{}))),function(e){e[e.LEFT=0]="LEFT",e[e.TOP=1]="TOP",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=3]="BOTTOM",e[e.CENTER=4]="CENTER"}(L||(L=e("SpriteAlignType",{})));e("default",(l=I(!0),c=E("Quick适配组件/AdapterSprite"),T=S({type:s(_),tooltip:"缩放类型:\n        -FILL: 缩放到填满父节点（如果父节点有裁剪，图像可能会被裁剪，节点可能会超出父节点）\n        -SUIT: 缩放到刚好在父节点内部最大化显示（图像会完整显示，但父节点上下或者左右可能会留空）"}),d=S({type:s(L),tooltip:"齐方式类型:\n        -LEFT: 缩放后靠左对齐\n        -TOP: 缩放后靠上对齐\n        -RIGHT: 缩放后靠右对齐\n        -BOTTOM: 缩放后靠下对齐\n        -CENTER: 缩放后居中对齐"}),u(g=l(g=c((t((y=class extends a{constructor(...e){super(...e),this._scaleType=_.SUIT,this._alignType=L.CENTER,this._sprite=null}get scaleType(){return this._scaleType}set scaleType(e){this._scaleType=e}get alignType(){return this._alignType}set alignType(e){this._alignType=e}onLoad(){this._sprite=this.node.getComponent(p)}start(){this.updateSprite(this.scaleType,this.alignType)}onChangeSize(){this.updateSprite(this.scaleType,this.alignType)}updateSprite(e,t){var i;if(!this._sprite||!this._sprite.enabled||!this._sprite.spriteFrame)return;let s=null==(i=this.node.parent)?void 0:i.getComponent(r);s&&s.updateAlignment(),this.width=this._sprite.spriteFrame.rect.width,this.height=this._sprite.spriteFrame.rect.height;let n=this.parentTrans;if(this.width/this.height>n.width/n.height){if(e==_.SUIT){let e=n.width/this.width;this.node.scale=h(e,e)}else if(e==_.FILL){let e=n.height/this.height;this.node.scale=h(e,e)}}else if(e==_.SUIT){let e=n.height/this.height;this.node.scale=h(e,e)}else if(e==_.FILL){let e=n.width/this.width;this.node.scale=h(e,e)}switch(t){case L.CENTER:this.node.setPosition(h());break;case L.LEFT:this.node.setPosition(h(-.5*(n.width-this.width*this.node.scale.x),0));break;case L.RIGHT:this.node.setPosition(h(.5*(n.width-this.width*this.node.scale.x),0));break;case L.TOP:this.node.setPosition(h(0,.5*(n.height-this.height*this.node.scale.x)));break;case L.BOTTOM:this.node.setPosition(h(0,-.5*(n.height-this.height*this.node.scale.x)))}}get parentTrans(){var e;return null==(e=this.node.parent)?void 0:e.getComponent(o)}}).prototype,"scaleType",[T],Object.getOwnPropertyDescriptor(y.prototype,"scaleType"),y.prototype),t(y.prototype,"alignType",[d],Object.getOwnPropertyDescriptor(y.prototype,"alignType"),y.prototype),g=y))||g)||g)||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterView.ts",["cc","./Adapter.ts"],(function(e){"use strict";var i,t,s,a;return{setters:[function(e){i=e.cclegacy,t=e.v3,s=e._decorator},function(e){a=e.Adapter}],execute:function(){var o;i._RF.push({},"32b0fpgPcJGb4F0BalFuE1g","AdapterView",void 0);const{ccclass:r,property:n,executeInEditMode:d,menu:c}=s;e("default",r(o=d(!0)(o=c("Quick适配组件/AdapterView")(o=class extends a{onChangeSize(){if(a.safeArea=null,this.node)if(App.isFullScreenAdaption)this.width=a.safeArea.width/a.safeArea.designPxToScreenPxRatio,this.height=a.safeArea.height/a.safeArea.designPxToScreenPxRatio;else switch(this.width=a.safeArea.safe.width/a.safeArea.designPxToScreenPxRatio,this.height=a.safeArea.safe.height/a.safeArea.designPxToScreenPxRatio,this.direction){case a.direction.LandscapeLeft:this.node.setPosition(t(a.safeArea.outside.width/a.safeArea.designPxToScreenPxRatio,0));break;case a.direction.LandscapeRight:this.node.setPosition(t(-a.safeArea.outside.width/a.safeArea.designPxToScreenPxRatio,0));break;case a.direction.Portrait:this.node.setPosition(t(0,-a.safeArea.outside.height/a.safeArea.designPxToScreenPxRatio));break;case a.direction.UpsideDown:this.node.setPosition(t(0,a.safeArea.outside.height/a.safeArea.designPxToScreenPxRatio));break;default:Log.e("获取不到设备方向，直接居中处理"),this.node.setPosition(t(0,0))}}})||o)||o)||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/AgentApi.ts",["cc","./BaseApi.ts"],(function(e){"use strict";var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.default}],execute:function(){t._RF.push({},"6e885F7c1lFkbOq8ne/UBOe","AgentApi",void 0);e("default",class extends r{dividendInfo(){return this.post("/agent/info",{},{})}withdraw(){return this.post("/agent/withdraw",{},{})}withdrawRecord(){return this.post("/agent/withdrawRecord",{},{})}setAgent(e){return this.post("agent/setAgent",{user_id:e},{})}takeUserMoney(e,t){return this.post("agent/takeUserMoney",{user_id:e,money:t},{})}setLeader(e,t){return this.post("/agent/setLeader",{user_id:e,rebate_rate:t},{})}getLeaderReward(){return this.post("agent/leaderReward",{},{})}getAgentReward(e,t,r=null){return this.post("agent/agentReward",{agentLevel:e,page:t,userId:r},{})}getShareholderReward(e){return this.post("agent/shareholderReward",{page:e},{})}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/Alert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./EventComponent.ts","./Decorators.ts","./IAlert.ts"],(function(t){"use strict";var e,i,n,o,r,c,l,s,a,h,u,f,g,_,p,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.instantiate,o=t.cclegacy,r=t.Node,c=t.Label,l=t.RichText,s=t.ScrollView,a=t.tween,h=t.Vec3,u=t.find,f=t.Input,g=t.isValid},function(t){_=t.ViewZOrder},function(t){p=t.default},function(t){m=t.inject},function(t){b=t.IAlert}],execute:function(){var w,C,v,d,y,x,T,P,A,S,N,z,L,E,B,D,O;o._RF.push({},"7a5e7IHmfZO0b8NrWv64oY7","Alert",void 0);let V=(w=m("close",r,"content"),C=m("content",r),v=m("content",c,"content/scrollView/view/content"),d=m("richContent",l,"content/scrollView/view/content"),y=m("title",c,"content"),x=m("confirm",r,"content"),T=m("cancel",r,"content"),P=m("content/scrollView",s),S=e((A=class extends p{constructor(...t){super(...t),i(this,"_closeBtn",S,this),i(this,"_content",N,this),i(this,"_textContent",z,this),i(this,"_richTextContent",L,this),i(this,"_title",E,this),i(this,"_confirm",B,this),i(this,"_cancel",D,this),this._config=null,i(this,"_view",O,this)}get config(){return this._config}show(t){t.title||(t.title=App.getLanguage("alert_title")),t.confirmString||(t.confirmString=App.getLanguage("alert_confirm")),t.cancelString||(t.cancelString=App.getLanguage("alert_cancel")),this._config=t,this.writeContent(t),this.showButton(t),this._show()}_show(){this._content&&a(this._content).set({scale:new h(.9,.9,1)}).to(.12,{scale:new h(1.1,1.1,1)}).delay(.05).to(.05,{scale:new h(1,1,1)}).start()}writeContent(t){if(t.richText?(this._textContent.node.active=!1,this._richTextContent.node.active=!0,this._richTextContent.string=t.richText):(this._textContent.node.active=!0,this._richTextContent.node.active=!1,t.text?this._textContent.string=t.text:(Log.e("请指定提示内容"),this._textContent.string="")),t.title&&(this._title.string=t.title),t.confirmString){let e=u("Label",this._confirm);if(e){let i=e.getComponent(c);i&&(i.string=t.confirmString)}}if(t.cancelString){let e=u("Label",this._cancel);if(e){let i=e.getComponent(c);i&&(i.string=t.cancelString)}}this._view.scrollToTop()}showButton(t){this._confirm&&this._cancel&&this._closeBtn&&(this.onN(this._closeBtn,f.EventType.TOUCH_END,this.close.bind(this)),t.confirmCb?(this._confirm.active=!0,this.onN(this._confirm,f.EventType.TOUCH_END,this.onClick.bind(this,t.confirmCb,!0)),this.onN(this._closeBtn,f.EventType.TOUCH_END,this.onClick.bind(this,t.confirmCb,!1))):this._confirm.active=!1,t.cancelCb?(this._cancel.active=!0,this.onN(this._cancel,f.EventType.TOUCH_END,this.onClick.bind(this,t.cancelCb,!1))):this._cancel.active=!1,this._confirm.active?this._cancel.active||this._confirm.setPosition(new h(0,this._confirm.position.y,this._confirm.position.z)):this._cancel.active?this._confirm.setPosition(new h(0,this._confirm.position.y,this._confirm.position.z)):Log.w("提示框无按钮显示"))}close(){this._close(null)}_close(t){g(this._content)&&a(this._content).to(.05,{scale:new h(.3,.3,.3)}).call((()=>{App.alert.finishAlert(),t&&t()})).start()}onClick(t,e){this._config.immediatelyCallback?(t&&t(e),this._close(null)):this._close((()=>{t&&t(e)}))}}).prototype,"_closeBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(A.prototype,"_content",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(A.prototype,"_textContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(A.prototype,"_richTextContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(A.prototype,"_title",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(A.prototype,"_confirm",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(A.prototype,"_cancel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(A.prototype,"_view",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A);class k extends b{isCurrentShow(t){if(this.curPanel){var e;let i=null==(e=this.curPanel.getComponent(V))?void 0:e.config;if(i&&i.tag==t)return!0}return!1}currentShow(t){if(this.curPanel){var e;let i=null==(e=this.curPanel.getComponent(V))?void 0:e.config;return t&&i&&i.tag,i}return null}isRepeat(t){if(this.curPanel){var e;let i=null==(e=this.curPanel.getComponent(V))?void 0:e.config;if(i&&i.tag==t)return Log.w(`重复的弹出框 config ; ${JSON.stringify(this.getConfig(i))}`),!0}else for(let e=0;e<this.queue.length;e++){let i=this.queue[e];if(i.tag==t)return Log.w(`重复的弹出框 config ; ${JSON.stringify(this.getConfig(i))}`),!0}return!1}close(t){if(t){let i=this.queue.length;for(;i--;)this.queue[i].tag==t&&this.queue.splice(i,1);if(this.curPanel){var e;let i=null==(e=this.curPanel.getComponent(V))?void 0:e.config;i&&i.tag==t&&this.finishAlert()}}else this.finishAlert()}_show(t){if(!this.curPanel){this.curPanel=n(App.uiManager.getScenePrefab("Alert"));let e=this.curPanel.addComponent(V);App.uiManager.addView(this.curPanel,_.Alert),e.show(t)}}}t("default",k),k.module="【Alert】",o._RF.pop()}}}));

System.register("chunks:///_virtual/ApiExport.ts",["cc","./AgentApi.ts","./ConfigApi.ts","./RoomApi.ts","./UserApi.ts","./WalletApi.ts","./RankApi.ts","./ClubApi.ts"],(function(t){"use strict";var n,e,u,i,o,c,f,s;return{setters:[function(t){n=t.cclegacy},function(t){e=t.default},function(t){u=t.default},function(t){i=t.default},function(t){o=t.default},function(t){c=t.default},function(t){f=t.default},function(t){s=t.default}],execute:function(){n._RF.push({},"a76dfow7ClFT6Zkn/6Ug+XV","ApiExport",void 0);t("config",new u),t("user",new o),t("rank",new f),t("room",new i),t("agent",new e),t("wallet",new c),t("club",new s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Application.ts",["cc","./Framework.ts","./StageData.ts","./Enums.ts","./Singleton.ts","./Alert.ts","./Loading.ts","./Tips.ts","./UILoading.ts","./UIReconnect.ts","./UpdateLoading.ts","./Config.ts","./CommonLanguage.ts","./LayerManager.ts","./EventManager.ts","./ApiExport.ts","./StageManager.ts","./NativeBridge.ts"],(function(t){"use strict";var e,n,a,i,o,g,s,r,u,p,c,l,f,d,A,L,h,S,U;return{setters:[function(t){e=t.cclegacy,n=t.sys},function(t){a=t.Framewok},function(t){i=t.StageData},function(t){o=t.LogLevel},function(t){g=t.Singleton},function(t){s=t.default},function(t){r=t.default},function(t){u=t.default},function(t){p=t.default},function(t){c=t.UIReconnect},function(t){l=t.default},function(t){f=t.Config},function(t){d=t.CommonLanguage},function(t){A=t.default},function(t){L=t.default},function(t){h=t},function(t){S=t.default},function(t){U=t.NativeBridge}],execute:function(){e._RF.push({},"342b5hltVBEl6IfNcT0LCMW","Application",void 0);class D extends a{get stageData(){return this.dataCenter.get(i,!0,f.BUNDLES)}get uiReconnect(){return g.get(c)}get tips(){return g.get(u)}get uiLoading(){return g.get(p)}get alert(){return g.get(s)}get loading(){return g.get(r)}get updateLoading(){return g.get(l)}get layerMgr(){return g.get(A,!0,f.LAYERS)}get event(){return g.get(L)}get stage(){return g.get(S)}get nativeBridge(){return g.get(U)}get apis(){return h}get pomelo(){return window.pomelo}init(){super.init(),this.stageData.isShowDebugButton=f.isShowDebugButton,this.updateManager.isAutoVersion=f.USE_AUTO_VERSION,this.updateManager.isSkipCheckUpdate=f.isSkipCheckUpdate,App.stageData.BASE_HTTP_URL="http://8.137.149.75:80/api",n.os==n.OS.ANDROID&&n.isNative?App.stageData.HOT_UPDATE_URL="https://hotcocos.vercel.app":n.os==n.OS.IOS&&n.isNative&&(App.stageData.HOT_UPDATE_URL="https://up.mongolianarts.org/ios"),App.updateManager.hotUpdateUrl=App.stageData.HOT_UPDATE_URL,this.language.addDelegate(new d)}}t("Application",D);let _=new D;_.logger.level=o.ALL,window.App=_,_.init(),"object"==typeof WaitToApp&&"object"==typeof WaitToApp.entrys&&Object.keys(WaitToApp.entrys).forEach((t=>{let[e,n]=t.split("|"),{target:a,type:i}=WaitToApp.entrys[t];a.__classname__=e,a.bundle=n,App.entryManager.register(a,i)})),e._RF.pop()}}}));

System.register("chunks:///_virtual/AssetManager.ts",["cc","./Macros.ts","./Resource.ts"],(function(e){"use strict";var t,a,s,o,l,n,r,i,c;return{setters:[function(e){t=e.cclegacy,a=e.SpriteFrame,s=e.Texture2D,o=e.sp,l=e.JsonAsset,n=e.TextAsset,r=e.assetManager},function(e){i=e.Macro},function(e){c=e.Resource}],execute:function(){t._RF.push({},"47f275C8MlMOqHzEZCvzwc7","AssetManager",void 0);class d{constructor(){this._logTag="[RemoteLoader] "}loadImage(e,t){let o=this;return new Promise((l=>{if(null==e||null==e||e.length<=0)return void l([null,null]);c.getKey(e,a);if(t){let[t,s]=App.releaseManger.getRemote(e,a);if(t)return App.cache.remoteCaches.set(s),App.cache.remoteCaches.set(t),void l([t,t.data]);if(t=App.cache.remoteCaches.getSpriteFrame(e),t)return void l([t,t.data])}else{let[t,s]=App.releaseManger.getRemote(e,a);t&&(App.cache.remoteCaches.set(t),App.cache.remoteCaches.set(s)),App.cache.remoteCaches.remove(e,a,!0)}o._loadRemoteRes(e,s,t).then((([t,o])=>{let n=c.getKey(e,s);t=App.cache.remoteCaches.get(n),o&&t?(t.data=o,t.data.name=e,l(App.cache.remoteCaches.makeSpriteFrame(e,t.data))):(l([null,null]),App.cache.remoteCaches.remove(e,a,!0))}))}))}loadSkeleton(e,t,a){let r=this;return new Promise((d=>{if(e&&t){let h=`${e=`${e}/${t}`}.atlas`,p=`${e}.png`,u=`${e}.json`,[m,A,g,C]=App.releaseManger.getRemote(e,o.SkeletonData);if(m)return App.cache.remoteCaches.set(m),App.cache.remoteCaches.set(A),App.cache.remoteCaches.set(g),App.cache.remoteCaches.set(C),void d([m,m.data]);let f=c.getKey(e,o.SkeletonData);m=App.cache.remoteCaches.get(f),m?m.isLoaded?d([m,m.data]):m.finishCb.push(d):(m=new c.Cache(e,o.SkeletonData,i.BUNDLE_REMOTE),m.resourceType=c.Type.Remote,App.cache.remoteCaches.set(m),r._loadRemoteRes(p,s,a).then((([e,s])=>{s?r._loadRemoteRes(u,l,a).then((([e,l])=>{l?r._loadRemoteRes(h,n,a).then((([e,a])=>{a?(App.cache.remoteCaches.makeSkeletonData(m,s,l,a,t),d([m,m.data]),m.doFinish([m,m.data])):(d([null,null]),m.doFinish([null,null]),App.cache.remoteCaches.remove(m.url,o.SkeletonData,!0))})):(d([null,null]),m.doFinish([null,null]),App.cache.remoteCaches.remove(m.url,o.SkeletonData,!0))})):(d([null,null]),m.doFinish([null,null]),App.cache.remoteCaches.remove(m.url,o.SkeletonData,!0))})))}else d([null,null])}))}extname(e){let t=e.match(/(\.[^\.\/\?\\]*)(\?.*)?$/);return t?t[1]:".png"}_loadRemoteRes(e,t,a,o={}){return new Promise((l=>{let n=c.getKey(e,t),[d]=App.releaseManger.getRemote(n,t);if(d)return d.data.addRef(),App.cache.remoteCaches.set(d),d.doFinish([d,d.data]),d.doGet(),void l([d,d.data]);d=App.cache.remoteCaches.get(n),d?d.isLoaded?l([d,d.data]):d.finishCb.push(l):(d=new c.Cache(e,t,i.BUNDLE_REMOTE),d.resourceType=c.Type.Remote,App.cache.remoteCaches.set(d),o.cacheAsset=!0,o.reloadAsset=!a,t==s&&(o.ext=this.extname(e)),r.loadRemote(e,o,((e,t)=>{d&&(d.isLoaded=!0,t&&(d.data=t),d.doFinish([d,d.data]),d.doGet(),l([d,d.data]))})))}))}update(){}}class h{constructor(){this.isResident=!0,this.module=null,this._remote=new d}get remote(){return this._remote}getBundle(e){return App.bundleManager.getBundle(e)}load(e,t,a,s,o){let l=c.getKey(t,a),n=App.releaseManger.get(e,l);if(n)return console.time(`加载资源 : ${e}/${l}`),App.cache.set(n),void this._onLoadComplete(n,o,null,n.data);if(n=App.cache.get(e,t,a),n)n.isLoaded?o(n):n.finishCb.push(o),n.status=c.CacheStatus.NONE;else{n=new c.Cache(t,a,e),App.cache.set(n),console.time(`加载资源 : ${e}/${l}`);let r=this.getBundle(e);if(!r){let t=new Error(`${this.module} ${e} 没有加载，请先加载`);return void this._onLoadComplete(n,o,t,null)}if(!a){let a=new Error(`${this.module} ${e} ${t} 加载没有指定资源类型`);return void this._onLoadComplete(n,o,a,null)}let i=r.get(t,a);i?this._onLoadComplete(n,o,null,i):s?r.load(t,a,s,this._onLoadComplete.bind(this,n,o)):r.load(t,a,this._onLoadComplete.bind(this,n,o))}}loadSF(e,t,s){this.load(e,t+"/spriteFrame",a,(()=>{}),(e=>{s(e.data)}))}_onLoadComplete(e,t,a,s){e.isLoaded=!0;let o=e,l=e.key;a?(Log.e(`${this.module}加载资源失败:${e.bundle}/${l} 原因:${a.message?a.message:"未知"}`),e.data=null,o.data=null,App.cache.remove(e),t(e)):(e.data=s,o.data=s,t(e)),e.doFinish(e),e.doGet(),e.status==c.CacheStatus.WAITTING_FOR_RELEASE&&e.data&&(e.status=c.CacheStatus.NONE,this.releaseAsset(e)),console.timeEnd(`加载资源 : ${e.bundle}/${l}`),e=null}loadDir(e,t,a,s,o){let l=c.getKey(t,a),n=App.releaseManger.get(e,l);if(n)return console.time(`加载资源 : ${e}/${l}`),App.cache.set(n),void this._onLoadComplete(n,o,null,n.data);if(n=App.cache.get(e,l,a),n)n.isLoaded?o(n):n.finishCb.push(o),n.status=c.CacheStatus.NONE;else{n=new c.Cache(l,a,e),App.cache.set(n),console.time(`加载资源 : ${e}/${n.key}`);let r=this.getBundle(e);if(!r){let t=new Error(`${this.module} ${e} 没有加载，请先加载`);return void this._onLoadComplete(n,o,t,null)}if(a)s?r.loadDir(t,a,s,this._onLoadComplete.bind(this,n,o)):r.loadDir(t,a,this._onLoadComplete.bind(this,n,o));else{let a=new Error(`${this.module} ${e} ${t} 加载没有指定资源类型`);this._onLoadComplete(n,o,a,null)}}}releaseAsset(e){if(e=App.cache.get(e.bundle,e.url,e.type,!1))if(e.isLoaded){if(e.retain)return;App.releaseManger.release(e)}else e.status=c.CacheStatus.WAITTING_FOR_RELEASE}retainAsset(e){if(e){let t=App.cache.get(e.bundle,e.url,e.type);if(t)if(t.retain||(t.retain=t.retain),Array.isArray(t.data)){t.refCount++;for(let e=0;e<t.data.length;e++)t.data[e]&&t.data[e].addRef()}else t.data&&t.data.addRef()}}addPersistAsset(e){e.retain=!0,this.retainAsset(e)}}e("_AssetManager",h),h.module="【AssetManager】",t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioComponent.ts",["cc","./EventComponent.ts","./Macros.ts","./Singleton.ts"],(function(s){"use strict";var e,t,i,o,u,a,c;return{setters:[function(s){e=s.cclegacy,t=s.AudioSource,i=s.AudioClip,o=s._decorator},function(s){u=s.default},function(s){a=s.Macro},function(s){c=s.Singleton}],execute:function(){var r;e._RF.push({},"f40c7r82/BAhYU5orjFTt7k","AudioComponent",void 0);const{ccclass:h,property:n,menu:f}=o;class l{constructor(){this.url="",this.bundle=a.BUNDLE_RESOURCES,this.source=null,this.owner=null,this.isPause=!1}play(){this.isPause=!1,this.source&&this.source.play()}pause(){this.isPause=!1,this.source&&this.source.playing&&(Log.d(this.url,"isPlaying to pause"),this.isPause=!0,this.source.pause())}stop(){this.isPause=!1,this.source&&this.source.stop()}resume(){this.source&&this.isPause&&(Log.d(this.url,"resume play"),this.source.play()),this.isPause=!1}set volume(s){this.source&&(this.source.volume=s)}get volume(){return this.source?this.source.volume:0}}s("AudioInfo",l);class m{constructor(){this.module=null,this.musicVolume=1,this.effectVolume=1,this.isEffectOn=!0,this.isMusicOn=!1,this.musicInfos=new Map,this.effectInfos=new Map,this.curMusic=null,this._storeMusicKey="default_save_music",this._storeEffectKey="default_save_effect",this._storeMusicVolumeKey="default_save_music_volume_key",this._storeEffectVolumeKey="default_save_effect_volume_key"}init(){this.isMusicOn=App.storage.getItem(this._storeMusicKey,this.isMusicOn),this.isEffectOn=App.storage.getItem(this._storeEffectKey,this.isEffectOn),this.musicVolume=App.storage.getItem(this._storeMusicVolumeKey,this.musicVolume),this.effectVolume=App.storage.getItem(this._storeEffectVolumeKey,this.effectVolume)}save(){try{App.storage.setItem(this._storeMusicKey,this.isMusicOn),App.storage.setItem(this._storeMusicVolumeKey,this.musicVolume),App.storage.setItem(this._storeEffectKey,this.isEffectOn),App.storage.setItem(this._storeEffectVolumeKey,this.effectVolume)}catch(s){}}remove(s){this.musicInfos.forEach(((e,t,i)=>{e.owner&&e.owner==s&&i.delete(t)})),this.effectInfos.forEach(((e,t,i)=>{e.owner&&e.owner==s&&i.delete(t)}))}setMusicVolume(s){this.musicInfos.forEach(((e,t,i)=>{e.volume=s})),this.musicVolume=s,this.save()}setEffectVolume(s){this.effectInfos.forEach(((e,t,i)=>{e.volume=s})),this.effectVolume=s,this.save()}setMusicStatus(s){this.isMusicOn!=s&&(this.isMusicOn=s,this.save(),s?this.curMusic&&this.curMusic.play():this.stopMusic())}setEffectStatus(s){this.isEffectOn!=s&&(this.isEffectOn=s,this.save(),s||this.stopAllEffects())}stopAllEffects(){this.effectInfos.forEach(((s,e,t)=>{s.stop()}))}stopMusic(){this.musicInfos.forEach(((s,e,t)=>{s.stop()}))}makeKey(s,e){return`${App.bundleManager.getBundleName(e)}_${s}`}stopEffect(s,e){let t=this.makeKey(s,e),i=this.effectInfos.get(t);i&&i.stop()}resumeAll(){this.musicInfos.forEach(((s,e,t)=>{this.isMusicOn&&s.resume()})),this.effectInfos.forEach(((s,e,t)=>{this.isEffectOn&&s.resume()}))}pauseAll(){this.musicInfos.forEach(((s,e,t)=>{s.pause()})),this.effectInfos.forEach(((s,e,t)=>{s.pause()}))}}m.module="【音效数据】";s("default",h(r=class extends u{constructor(...s){super(...s),this.owner=null}onDestroy(){this.audioData.remove(this.owner),super.onDestroy()}get audioData(){return c.get(m)}get musicVolume(){return this.audioData.musicVolume}set musicVolume(s){this.audioData.setMusicVolume(s)}get effectVolume(){return this.audioData.effectVolume}set effectVolume(s){this.audioData.setEffectVolume(s)}get isEffectOn(){return this.audioData.isEffectOn}set isEffectOn(s){this.audioData.setEffectStatus(s)}get isMusicOn(){return this.audioData.isMusicOn}set isMusicOn(s){this.audioData.setMusicStatus(s)}save(){this.audioData.save()}stopEffect(s,e){this.audioData.stopEffect(s,e)}stopAllEffects(){this.audioData.stopAllEffects()}stopMusic(){this.audioData.stopMusic()}playMusic(s,e,o=!0){return new Promise((u=>{let a=this.audioData.makeKey(s,e),c=this.audioData.musicInfos.get(a);c||(c=new l,c.url=s,c.bundle=e,c.source=this.node.addComponent(t),c.owner=this.owner,c.source.name=a,c.source.playOnAwake=!0,this.audioData.musicInfos.set(a,c)),this.audioData.curMusic=c,App.cache.getCacheByAsync(s,i,e).then((([s,e])=>{e?(this.owner?App.uiManager.addLocal(s,this.owner.className):App.uiManager.garbage.addLocal(s),this.stopMusic(),c&&c.source&&(c.source.clip=e,c.source.loop=o,c.volume=this.musicVolume,this.play(c,!0,u))):u(!1)}))}))}playEffect(s,e,o=!1){return new Promise((u=>{let a=this.audioData.makeKey(s,e),c=this.audioData.effectInfos.get(a);c||(c=new l,c.url=s,c.bundle=e,c.source=this.node.addComponent(t),c.owner=this.owner,c.source.name=a,c.source.playOnAwake=!0,this.audioData.effectInfos.set(a,c)),App.cache.getCacheByAsync(s,i,e).then((([s,e])=>{e?(this.owner?App.uiManager.addLocal(s,this.owner.className):App.uiManager.garbage.addLocal(s),c&&c.source&&(c.source.clip=e,c.source.loop=o,c.source.volume=this.effectVolume,this.play(c,!1,u))):u(!1)}))}))}play(s,e,t){s&&s.source?e?this.isMusicOn?(s.source.play(),t(!0)):t(!1):this.isEffectOn?(s.source.play(),t(!0)):t(!1):t(!1)}onEnterBackground(){this.audioData.pauseAll()}onEnterForgeground(s){this.audioData.resumeAll()}})||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseApi.ts",["cc","./Http.ts","./HttpClient.ts","./Config.ts","./UserData.ts","./BaseHttpInterceptor.ts","./HttpInterceptor.ts"],(function(t){"use strict";var e,r,s,a,n,o,i;return{setters:[function(t){e=t.cclegacy},function(t){r=t.Http},function(t){s=t.HttpPackage},function(t){a=t.Config},function(t){n=t.UserDataEn},function(t){o=t.default},function(t){i=t.HttpInterceptorRequest}],execute:function(){e._RF.push({},"2c0b5VLhAJEdpFdmXgECsbk","BaseApi",void 0);t("default",class{constructor(){this._httpInterceptor=void 0,this._isDestroy=!1,this.HTTP_TIME_OUT=a.HTTP_TIME_OUT,this.HTTP_ASYNC=a.HTTP_ASYNC,this.HTTP_RECONNECT_COUNT=a.HTTP_RECONNECT_COUNT}get interceptor(){return this._httpInterceptor||(this._httpInterceptor=this.getHttpInterceptor()),this._httpInterceptor}getHttpInterceptor(){return new o}get isDestroy(){return this._isDestroy}parseUrl(t){if(0==(t=t.trim()).indexOf("http://")||0==t.indexOf("https://"))return t;0==t.indexOf("./")?t=t.substring(2,t.length):0==t.indexOf("/")&&(t=t.substring(1,t.length));let e=App.stageData.BASE_HTTP_URL;return e.lastIndexOf("/")==e.length-1&&(e=e.substring(0,e.length-1)),e+"/"+t}post(t,e={},s=null){return new Promise((async(o,i)=>{null==s&&(s={}),s["content-type"]||(s["content-type"]="application/json"),this.request(t,r.Type.POST,null,e,s).then((r=>{if(0!=r.code){if(403==r.code||402==r.code)return App.alert.show({tag:"tokenTimeout",isRepeat:!1,text:"登录已失效，请重新登录！",confirmCb:()=>{App.globalAudio.playGlobalEffect(a.audioPath.button),App.stage.backLogin()}}),void i(new Error(r.msg));401==r.code?App.apis.user.refreshToken({token_jwt:n.getUserData().jwt}).then((r=>{n.getUserData().token=r.data.token,s.TOKEN=n.getUserData().token,this.post(t,e,s).then((t=>o(t))).catch((t=>i(t)))})).catch((t=>{App.alert.show({tag:"tokenTimeout",isRepeat:!1,text:"登录已失效，请重新登录！",confirmCb:()=>{App.globalAudio.playGlobalEffect(a.audioPath.button),App.stage.backLogin()}}),i(new Error(r.msg))})):i(new Error(r.msg))}else o(r)})).catch((t=>{console.error(new Error(t.reason||t.message)),i(new Error(t.reason||t.message))}))}))}get(t,e={},s=null){return new Promise((async(o,i)=>{null==s&&(s={}),this.request(t,r.Type.GET,e,null,s).then((r=>{if(0!=r.code){if(403==r.code||402==r.code)return App.alert.show({tag:"tokenTimeout",isRepeat:!1,text:"登录已失效，请重新登录！",confirmCb:()=>{App.globalAudio.playGlobalEffect(a.audioPath.button),App.stage.backLogin()}}),void i(new Error(r.msg));401==r.code?App.apis.user.refreshToken({token_jwt:n.getUserData().jwt}).then((r=>{n.getUserData().token=r.data.token,s.TOKEN=n.getUserData().token,this.get(t,e,s).then((t=>o(t))).catch((t=>i(t)))})).catch((t=>{App.alert.show({tag:"tokenTimeout",isRepeat:!1,text:"登录已失效，请重新登录！",confirmCb:()=>{App.globalAudio.playGlobalEffect(a.audioPath.button),App.stage.backLogin()}}),i(new Error(r.msg))})):i(new Error(r.msg))}else o(r)})).catch((t=>{console.error(new Error(t.reason||t.message)),i(new Error(t.reason||t.message))}))}))}request(t,e,a,n,o,p=0){return new Promise(((c,u)=>{if(this.isDestroy)return;let h=new i(t,e,a,n,o);if(h.url=this.parseUrl(t),this.interceptor.request(h),h.type==r.Type.GET)if(null!=h.params&&"string"!=typeof h.params){let t="?";for(let e in h.params)t+="&"+e+"="+h.params[e];h.url+=t}else"string"==typeof h.params&&(h.url+="?"+h.params);let l=new s;l.data.url=h.url,l.data.type=h.type,l.data.timeout=this.HTTP_TIME_OUT,l.data.async=this.HTTP_ASYNC;let g=[];for(let t in h.header)g.push({name:t,value:h.header[t]});l.data.requestHeader=g,h.data instanceof Uint8Array||"string"==typeof h.data?l.data.data=h.data:null!=h.data&&("true"==o.is_arraybuffer?l.data.data=h.data.buffer:l.data.data=JSON.stringify(h.data)),l.send((r=>{this.isDestroy||this.interceptor.response(((r,s)=>{Log.d("网络请求：",h),r?(Log.e("网络异常：",r),++p>=this.HTTP_RECONNECT_COUNT?u(r):this.request(t,e,a,n,o,p).then((t=>{this.isDestroy||c(t)})).catch((t=>{u(t)}))):(Log.d("网络返回：",s),this.isDestroy||c(s))}),void 0,JSON.parse(r))}),(r=>{this.isDestroy||this.interceptor.response(((r,s)=>{Log.d("网络请求：",h),r?(Log.e("网络异常：",r),++p>=this.HTTP_RECONNECT_COUNT?u(r):this.request(t,e,a,n,o,p).then((t=>{c(t)})).catch((t=>{u(t)}))):(Log.d("网络返回：",s),this.isDestroy||c(s))}),r,void 0)}))}))}destroy(){this._isDestroy=!0}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseApiProj.ts",["cc","./Http.ts","./BaseApi.ts"],(function(t){"use strict";var e,n,s;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Http},function(t){s=t.default}],execute:function(){e._RF.push({},"4874dMPmMJBLqsAZWKIW/zN","BaseApiProj",void 0);t("default",class extends s{post(t,e={},s=null){return new Promise((async(r,c)=>{null==s&&(s={}),s["content-type"]||(s["content-type"]="application/json");const u=await this.request(t,n.Type.POST,null,e,s);0!=u.code?c(new Error(u.msg)):r(u)}))}get(t,e={},s=null){return new Promise((async(r,c)=>{null==s&&(s={});const u=await this.request(t,n.Type.GET,e,null,s);0!=u.code?c(new Error(u.msg)):r(u)}))}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseData.ts",["cc","./EventEmitter.ts","./Utils.ts","./SaveDataUtils.ts"],(function(t){"use strict";var e,a,s,n,i;return{setters:[function(t){e=t.cclegacy},function(t){a=t.default},function(t){s=t.default},function(t){n=t.SaveDataType,i=t.default}],execute:function(){let c;t("ChangeDataType",void 0),e._RF.push({},"e5cc0mqOWpB04/aqkFK12I3","BaseData",void 0),function(t){t[t.SAVE=0]="SAVE",t[t.UPDATE=1]="UPDATE",t[t.REMOVE=2]="REMOVE"}(c||(c=t("ChangeDataType",{})));t("default",class{constructor(){this._event=new a}getSaveDataName(t){return this.constructor.name+"_"+t}setData(t,e,a=n.MEMORY){let s=this.getSaveDataName(t);i.set(s,e,a)}updateData(t,e,a=n.MEMORY){let c=this.getSaveDataName(t),r=i.get(c);if(null==r||null==r)i.set(c,e,a);else if(s.isObject(r)&&s.isObject(e)){for(let t in e)r[t]=e[t];i.set(c,r,a)}else i.set(c,e,a)}removeData(t,e=n.MEMORY){let a=this.getSaveDataName(t);i.remove(a,e)}clearData(t=n.MEMORY){this.getDataNames(t).forEach((e=>{this.removeData(e,t)}))}getData(t,e=n.MEMORY){return i.get(this.getSaveDataName(t),e)}getDataNames(t=n.MEMORY){return i.getKeys(t).filter((t=>0==t.indexOf(this.constructor.name+"_")))}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseHttpInterceptor.ts",["cc","./UserData.ts","./HttpInterceptor.ts"],(function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.cclegacy},function(e){r=e.UserDataEn},function(e){n=e.default}],execute:function(){t._RF.push({},"5e9e0ElUNJAJbfKMXKgeUyN","BaseHttpInterceptor",void 0);e("default",class extends n{request(e){if(e.header&&!e.header.TOKEN){let t=r.getUserData();t&&t.token&&(e.header.TOKEN=t.token)}return e}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseModel.ts",["cc","./Macros.ts","./CommonData.ts","./CommonEvent.ts","./ClubInfoData.ts","./ConfigInfo.ts","./UserData.ts","./Utils.ts","./NetEventModel.ts"],(function(e){"use strict";var t,n,o,a,s,i,c,r,l,p,g,d;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Macro},function(e){o=e.WinType,a=e.CommonData,s=e.EmRoomEvent},function(e){i=e.CommonEvent},function(e){c=e.ClubInfoDataEn},function(e){r=e.ConfigInfoEn,l=e.EmConfigData},function(e){p=e.UserDataEn},function(e){g=e.default},function(e){d=e.NetEventModel}],execute:function(){t._RF.push({},"e19dc1UCc5H4JOBSnHS21QF","BaseModel",void 0);class h extends d{constructor(...e){super(...e),this.isKicked=!1,this.isReconnecting=!1}initEvents(){super.initEvents(),this.registerEvent("winPoolUser",(e=>{let t=null;e.type==o.TianHuang?t="丁皇":e.type==o.DuoDuo?t="朵朵":e.type==o.DuoHuang?t="朵皇":e.type==o.TianHuang&&(t="天皇");let n=("000000"+e.roomId).slice(-6),a={content:"恭喜<color=#00ff1f><b>"+e.userName+"</b></color>在"+n+"中拿到<color=#ffc200><b>"+t+"</b></color>牌型,赢得<color=#ffc200><b>"+g.getScoreImplicit(e.gold)+"</b></color>奖金!",id:e.userId,title:"恭喜"},s=r.getConfig(l.GAME_NOTICE);s||(s={bulletin:[],carousel:[],config:null,gift:[]});let c=s.carousel;c.push(a),s.carousel=c,r.setConfig(l.GAME_NOTICE,s),App.event.emit(i.GAME_NOTICE)})),this.registerEvent("on-reconnect",(()=>{this.isKicked||(Log.e("[BaseModel]disconnect"),this.startReconnect())})),this.registerEvent("on-reconnected",(()=>{Log.e("[BaseModel]on-reconnected"),this.startReconnect()})),this.registerEvent("on-netdown",(()=>{Log.e("[BaseModel] on-netdown"),App.loading.hide(),this.showBackLoginAlert("重连失败，请重连或者重新登录！")})),this.registerEvent("onKick",(e=>{console.log("onKick",e),e.reason.indexOf("blocked")>-1?App.stage.backLogin():(this.isKicked=!0,Log.e("[BaseModel]玩家被踢掉了"),App.alert.close("tokenTimeout"),App.alert.show({tag:"relogin",isRepeat:!1,text:"您的账号再其它地方登录了, 如果不是您自己，请及时登录并修改密码！",confirmCb:()=>{App.stage.backLogin(),this.isKicked=!1}}))})),this.registerEvent("heartbeat timeout",(()=>{Log.e("[BaseModel]心跳超时了"),this.startReconnect()})),this.registerEvent("io-error",(()=>{App.loading.hide()})),this.registerEvent("raceOver",(e=>this.onMatchOver(e))),this.registerEvent("raceEnd",(e=>this.onMatchEnd(e)))}onMatchOver(e){App.event.emitCustom(i.MatchEnd,e)}onMatchEnd(e){e.raceId==App.stageData.getTempRace()&&(App.stageData.setTempSeat(null),App.stageData.setTempRace(null),App.alert.show({title:"温馨提示",text:"比赛已经结束！",confirmCb:e=>{App.event.emitCustom(i.MatchEnd,{raceId:App.stageData.getTempRace()}),App.entryManager.enterBundle(n.BUNDLE_HALL)}}))}startReconnect(){App.alert.close("relogin"),App.loading.show("重连中"),this.isReconnecting||(this.isReconnecting=!0,App.pomelo.isConnected()&&App.pomelo.disconnect(),this.cleanData(),App.event.emit(i.NETWORK_RECONNECT_START),App.apis.user.gameLogin(p.getUserData().token,c.getClubData().id).then((e=>{p.getUserData().hallAddress=e.data.address,p.getUserData().hallProtocol=e.data.protocol,p.getUserData().hallToken=e.data.token,App.pomelo.init({host:p.getUserData().hallAddress,log:!0,reconnect:!1},(()=>{this.request("connector.entryHandler.entry",{token:p.getUserData().hallToken},(e=>{App.loading.hide(),Log.d("====>>>>断线重连返回： ",e),0==e.code?(e.data.tableId?(App.stageData.IsMatch=!1,a.currentTableId=e.data.tableId,App.event.emit(s.Back,e.data.tableId)):e.data.raceTableId&&(App.stageData.IsMatch=!0,a.currentTableId=e.data.raceTableId,App.stageData.setConnBack(!0),App.event.emit(s.Back,e.data.raceTableId)),this.isReconnecting=!1,App.event.emit(i.NETWORK_RECONNECT_SUCCESS)):(this.isReconnecting=!1,App.event.emit(i.NETWORK_RECONNECT_FAILED),this.showBackLoginAlert("获取房间信息失败"))}))}))})).catch((()=>{this.isReconnecting=!1,App.loading.hide(),this.showBackLoginAlert("重连失败，请重连或者重新登录！")})))}showBackLoginAlert(e,t){App.alert.close("tokenTimeout"),App.alert.show({tag:"relogin",isRepeat:!1,text:e,confirmString:"重新连接",cancelString:"返回登录",cancelCb:()=>{App.stage.backLogin()},confirmCb:e=>{e&&this.startReconnect()}})}cleanData(){this.isKicked=!1,this.isReconnecting=!1,a.currentTableId=-1}}h.instance=new h;e("BaseModel",h.instance);t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseResponse.ts",["cc"],(function(e){"use strict";var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){let t;e("ConfigReq",void 0),s._RF.push({},"c6ff4TAcGtNoY2WBOKfgb8R","BaseResponse",void 0),t||(t=e("ConfigReq",{})),s._RF.pop()}}}));

System.register("chunks:///_virtual/BinaryStreamMessage.ts",["cc","./Macros.ts","./ByteArray.ts","./Net.ts","./Message.ts"],(function(e){"use strict";var t,r,i,a,s;return{setters:[function(e){t=e.cclegacy},function(e){r=e.Macro},function(e){i=e.ByteArray},function(e){a=e.Net},function(e){s=e.Message}],execute:function(){e("serialize",(function(e,t,r,i,a){return function(s,l){if(void 0===Reflect.getOwnPropertyDescriptor(s,"__serialize__")){let e={};if(Reflect.getPrototypeOf(s).__serialize__&&void 0===Reflect.getOwnPropertyDescriptor(s,"__serialize__")){let t=Reflect.getPrototypeOf(s).__serialize__,r=Object.keys(t);for(let i=r.length,a=0;a<i;a++)e[r[a]]=t[r[a]].slice(0)}Reflect.defineProperty(s,"__serialize__",{value:e})}if(s.__serialize__[e])throw`SerializeKey has already been declared:${e}`;s.__serialize__[e]=[l,t,r,i,a]}})),t._RF.push({},"6ffc0ADekNBn6xYaGYHBeeL","BinaryStreamMessage",void 0);class l{constructor(){this.data=null}read(e){}write(e){}get littleEndian(){return r.USING_LITTLE_ENDIAN}}class n extends l{constructor(...e){super(...e),this.data=0}}class d extends l{constructor(...e){super(...e),this.data=!1}read(e){this.data=e.readBoolean()}write(e){e.writeBoolean(this.data)}}e("BOOL",d);class h extends l{constructor(...e){super(...e),this.data="",this.byteSize=void 0}read(e){let t=this.byteSize;null==this.byteSize&&(t=e.readUnsignedInt()),this.data=e.readUTFBytes(t)}write(e){let t=new i;t.writeUTFBytes(this.data,this.byteSize),null==this.byteSize&&e.writeUnsignedInt(t.length),e.writeBytes(t)}}e("STRING",h);class y extends n{read(e){this.data=e.readFloat()}write(e){e.writeFloat(this.data)}}e("FLOAT",y);class o extends n{read(e){this.data=e.readDouble()}write(e){e.writeDouble(this.data)}}e("DOUBLE",o);class u extends n{read(e){this.data=e.readByte()}write(e){e.writeByte(this.data)}}e("BYTE",u);class c extends n{read(e){this.data=e.readShort()}write(e){e.writeShort(this.data)}}e("SHORT",c);class b extends n{read(e){this.data=e.readInt()}write(e){e.writeInt(this.data)}}e("INT",b);class z extends n{read(e){this.data=e.readUnsignedByte()}write(e){e.writeByte(this.data)}}e("UBYTE",z);class f extends n{read(e){this.data=e.readUnsignedShort()}write(e){e.writeUnsignedShort(this.data)}}e("USHORT",f);class _ extends n{read(e){this.data=e.readUnsignedInt()}write(e){e.writeUnsignedInt(this.data)}}e("UINT",_);class A extends s{constructor(...e){super(...e),this.byteArray=null,this.buffer=null}encode(){return this.byteArray=new i(this.buffer),this.byteArray.endian=r.USING_LITTLE_ENDIAN,this.serialize(),this.buffer=this.byteArray.bytes,!0}isNumberValue(e){return e==y||e==o||e==u||e==c||e==b||e==z||e==f||e==_}isBoolValue(e){return e==d}isStringValue(e){return e==h}serialize(){let e=Reflect.getPrototypeOf(this).__serialize__;if(!e)return null;let t=Object.keys(e);for(let r=t.length,i=0;i<r;i++){let r=t[i],[a,s,l,n,d]=e[r];this.serializeMember(this[a],a,s,l,n,d)}}serializeMember(e,t,r,i,a,s){this.isNumberValue(r)?this.serializeNumberStreamValue(e,r):this.isBoolValue(r)?this.serializeBoolValue(e,r):this.isStringValue(r)?this.serializeStringStreamValue(e,r,i):e instanceof Array?this.serializeArray(e,t,r,i,a,s):e instanceof A?(e.byteArray=this.byteArray,e.serialize()):Log.e(`序列化成员 : ${t} 出错!!`)}serializeNumberStreamValue(e,t){let r=new t;r.data=null==e||e==Number.NaN?0:e,r.write(this.byteArray)}serializeBoolValue(e,t){let r=new t;r.data=null!=e&&e,r.write(this.byteArray)}serializeStringStreamValue(e,t,r){let i=new t;i.byteSize=r,i.data=null==e?"":e,i.write(this.byteArray)}checkArrayDimension(e,t){let r=0,i=e;do{r++,i=i[0]}while(i&&Array.isArray(i)&&i.length>0);return r==t}serializeArray(e,t,r,i,a,s){if(null==s&&(s=1),this.checkArrayDimension(e,s)){this.byteArray.writeUnsignedInt(e.length);for(let l=0;l<e.length;l++)e[l]instanceof Array?this.serializeArray(e[l],`${t}[${l}]`,r,i,a,s-1):this.serializeMember(e[l],`${t}[${l}]`,i,a,void 0)}else Log.e(`${t} 定义数组跟序列化的数组维度不一致`)}decode(e){return this.buffer=e,this.byteArray=new i(e),this.byteArray.endian=r.USING_LITTLE_ENDIAN,this.deserialize(),!0}deserialize(){let e=Reflect.getPrototypeOf(this).__serialize__;if(!e)return!0;let t=Object.keys(e);for(let r=t.length,i=0;i<r;i++){let r=t[i],[a,s,l,n,d]=e[r];this.deserializeMember(a,s,l,n,d)}}deserializeMember(e,t,r,i,a){try{let s=this[e];this.isNumberValue(t)?this[e]=this.deserializeNumberStreamValue(e,t):this.isBoolValue(t)?this[e]=this.deserializeBoolValue(e,t):this.isStringValue(t)?this[e]=this.deserializeStringStreamValue(e,t,r):s instanceof Array?this.deserializeArray(e,t,r,i,a):s instanceof A?(s.byteArray=this.byteArray,s.deserialize()):Log.e(`deserializeMember ${e} error!!!`)}catch(t){Log.w(t.message),Log.e(`deserializeMember ${e} error!!!`)}}deserializeNumberStreamValue(e,t){let r=new t;return r.read(this.byteArray),r.data}deserializeBoolValue(e,t){let r=new t;return r.read(this.byteArray),r.data}deserializeStringStreamValue(e,t,r){let i=new t;return i.byteSize=r,i.read(this.byteArray),i.data}_deserializeArray(e,t,r,i,a,s=1){if(s<=0)return;let l=this.byteArray.readUnsignedInt(),n=0;for(let d=0;d<l;d++)if(s>1)e.push([]),this._deserializeArray(e[n],`${t}[${n}]`,r,i,a,s-1),n++;else{let t=new i;t instanceof A?(t.byteArray=this.byteArray,e[d]=t.deserialize()):t instanceof h?(t.byteSize=a,t.read(this.byteArray),e[d]=t.data):(t.read(this.byteArray),e[d]=t.data)}}deserializeArray(e,t,r,i,a){this[e]=[],null==a&&(a=1),this._deserializeArray(this[e],e,t,r,i,a)}}e("BinaryStream",A);class g extends A{}e("BinaryStreamHeartbeat",g),g.type=a.ServiceType.BinaryStream,t._RF.pop()}}}));

System.register("chunks:///_virtual/BitEncrypt.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"dc65dfUZyBKGo+ZLjacvgTW","BitEncrypt",void 0);e("BitEncrypt",new class{constructor(){this.logTag="[BitEncrypt]:",this._encryptKey="EskKbMvzZBILhcTv"}set encryptKey(e){this._encryptKey=e}get encryptKey(){return this._encryptKey}decode(e,t){return this._code(e,t)}encode(e,t){return this._code(e,t)}_code(e,t){let r=this._check(e,t);if(r.isOK){let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));let c=0,n="",h=/[\w\d_-`~#!$%^&*(){}=+;:'"<,>,/?|\\\u4e00-\u9fa5]/g;for(let s=0;s<t.length;s++){let y=e[s].match(h);y&&y.length>0&&(t[s]^=r.key.charCodeAt(c),n=String.fromCharCode(t[s]),y=n.match(h),y&&y.length||(t[s]^=r.key.charCodeAt(c)),c++,c>=r.key.length&&(c=0))}let s="";for(let e=0;e<t.length;e++)s+=String.fromCharCode(t[e]);return s}return e}_check(e,t){return e&&e.length>0?t&&t.length>0?{isOK:!0,key:t}:this.encryptKey&&this.encryptKey.length>0?{isOK:!0,key:this.encryptKey}:{isOK:!1,key:""}:{isOK:!1,key:""}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/Broadcast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./ConfigInfo.ts"],(function(t){"use strict";var i,e,n,o,s,a,r,c,l,h,u,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.RichText,s=t.Node,a=t.v3,r=t.UITransform,c=t.tween},function(t){l=t.default},function(t){h=t.inject},function(t){u=t.ConfigInfoEn,d=t.EmConfigData}],execute:function(){var f,p,g,b,_;n._RF.push({},"9b255R3MsBBF5fsm+EP8z/w","Broadcast",void 0);t("default",(f=h("root/area/desc",o),p=h("root",s),b=i((g=class extends l{constructor(...t){super(...t),e(this,"lab",b,this),e(this,"root",_,this),this._noticeData=null,this._running=!1}onLoad(){super.onLoad(),this.fetchNotice()}runNext(){if(!this._noticeData||0==this._noticeData.length)return this.root.active=!1,void this.fetchNotice();if(!this.root)return;this.root.active=!0,console.log("跑马灯："+JSON.stringify(this._noticeData)),this.lab.node.position=a(5e4,this.lab.node.position.y,this.lab.node.position.z);const t=this._noticeData.pop();t&&(this.lab.string="<color=#fefad6>"+(t.title+" : "+t.content).replace(/\n/g,"").replace(/\t/g,"")+"</color>",this._running=!0,this.scheduleOnce((()=>{if(!this.node)return;let t=(this.lab.node.getComponent(r).width+this.lab.node.parent.getComponent(r).width)/80;c(this.lab.node).delay(0).set({position:a(this.lab.node.parent.getComponent(r).width/2,this.lab.node.position.y,this.lab.node.position.z)}).to(t,{position:a(-this.lab.node.parent.getComponent(r).width/2-this.lab.node.getComponent(r).width,this.lab.node.position.y,this.lab.node.position.z)}).call((()=>{this.root.active=!1})).delay(5).call((()=>{if(this._running=!1,this.root.active=!1,0==this._noticeData.length)this.scheduleOnce((()=>{this.fetchNotice()}),60);else{if(!this.node)return;this.runNext()}})).start()})))}async fetchNotice(){if(console.log("====>>>>fetchNotice: ",this._running),this._running)return;let t=u.getConfig(d.GAME_NOTICE);if(t&&t.carousel.length||(await App.apis.config.reqConfigs(),t=u.getConfig(d.CONFIG_NOTICE)),this._noticeData=t.carousel,0==this._noticeData.length)return this.root.active=!1,void this.scheduleOnce((()=>{this.node&&!this._running&&this.fetchNotice()}),60);this.runNext()}onDestroy(){this.unscheduleAllCallbacks()}}).prototype,"lab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(g.prototype,"root",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g));n._RF.pop()}}}));

System.register("chunks:///_virtual/BundleManager.ts",["cc","./Macros.ts"],(function(e){"use strict";var n,d,l,u;return{setters:[function(e){n=e.cclegacy,d=e.AssetManager,l=e.assetManager},function(e){u=e.Macro}],execute:function(){n._RF.push({},"2e004QPo4RDaquC+p8l+fiE","BundleManager",void 0);class a{constructor(){this.module=null}isEngineBundle(e){return e==d.BuiltinBundleName.MAIN||e==d.BuiltinBundleName.RESOURCES||e==d.BuiltinBundleName.START_SCENE||e==d.BuiltinBundleName.INTERNAL}removeLoadedBundle(e){let n=[];l.bundles.forEach(((e,d)=>{this.isEngineBundle(d)||n.push(d)}));let d=n.length;for(;d--;){let l=n[d];if(-1==e.indexOf(l)){App.releaseManger.isExistBunble(l)||App.entryManager.onUnloadBundle(l);let e=this.getBundle(l);e&&(App.cache.removeBundle(l),App.releaseManger.removeBundle(e))}}}getBundle(e){return e?"string"==typeof e?l.getBundle(e):e:null}getBundleName(e){return e?"string"==typeof e?e:e.name:(Log.e(`输入参数错误 : ${e}`),u.UNKNOWN)}enterBundle(e){e?(Log.d(`enterBundle 进入热更流程：${e.bundle}`),Log.d("enterBundle typeof App.updateManager.dowonLoad = "+typeof App.updateManager.dowonLoad),App.updateManager.dowonLoad(e),Log.d(`enterBundle 进入热更流程2：${e.bundle}`)):Log.e("enterBundle 无效的入口信息")}loadBundle(e){if(this.getBundle(e.bundle))return Log.d(`${e.bundle}已经加载在缓存中，直接使用`),App.releaseManger.onLoadBundle(e.bundle),void e.handler.onLoadBundleComplete(e);e.handler.onStartLoadBundle(e),Log.d(`loadBundle : ${e.bundle}`),this._loadBundle(e.bundle,((n,d)=>{n?(Log.e(`load bundle : ${e.bundle} fail !!!`),e.handler.onLoadBundleError(e,n)):(App.releaseManger.onLoadBundle(e.bundle),Log.d(`load bundle : ${e.bundle} success !!!`),e.handler.onLoadBundleComplete(e))}))}_loadBundle(e,n){l.loadBundle(e,n)}debug(){Log.d("-------Bundle管理器状态信息-------");let e=[];l.bundles.forEach(((n,d)=>{e.push(n.name)})),Log.d(`当前所有加载完成的bundle : ${e.toString()}`)}}e("BundleManager",a),a.module="【Bundle管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/BundleUpdate.ts",["cc","./Macros.ts"],(function(e){"use strict";var a,n;return{setters:[function(e){a=e.cclegacy},function(e){n=e.Macro}],execute:function(){a._RF.push({},"be6ad44gPZLRJGyZ+utzysn","BundleUpdate",void 0);class t{constructor(){this.module=null,this.isResident=!0}onNewVersionFund(e){e.doUpdate()}onUpdateFailed(e){App.tips.show(App.getLanguage("updateFaild",[e.name])),dispatch(n.ON_UPDATE_FAILED,e)}onPreVersionFailed(e){this.onUpdateFailed(e)}onShowUpdating(e){}onNeedUpdateMain(e){let a=App.getLanguage("mainPackVersionIsTooLow");App.alert.show({text:a,confirmCb:e=>{App.entryManager.enterBundle(n.BUNDLE_RESOURCES)}})}onOther(e){}onDownloading(e,a){App.updateLoading.updateProgress(.4*a.progress+.6)}onAreadyUpToData(e){App.updateLoading.hide(),App.updateManager.isSkipCheckUpdate=!0}onStarCheckUpdate(e){}onStartLoadBundle(e){}onLoadBundleError(e,a){App.tips.show(App.getLanguage("loadFailed",[e.name]))}onLoadBundleComplete(e){App.entryManager.onLoadBundleComplete(e)}onLoadBundle(e){App.bundleManager.loadBundle(e)}onDownloadComplete(e){App.releaseManger.tryRemoveBundle(e.bundle),App.updateLoading.hide(),App.updateManager.isSkipCheckUpdate=!0}onNeedRestartApp(e,a){let n=App.getLanguage("restartApp",[e.name]);App.alert.show({text:n,confirmCb:e=>{a(!1)}})}}e("BundleUpdate",t),t.module="【Bundle热更新】",a._RF.pop()}}}));

System.register("chunks:///_virtual/ByteArray.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"38d2fDM+JpA/rYzsaBoQexx","ByteArray",void 0);class e{}t("Endian",e),e.LITTLE_ENDIAN="littleEndian",e.BIG_ENDIAN="bigEndian";const s=t("EndianConst",{LITTLE_ENDIAN:0,BIG_ENDIAN:1}),n=1,r=1,h=2,a=4,o=1,d=2,l=4,f=4,u=8;t("ByteArray",class{get endian(){return this.$endian==s.LITTLE_ENDIAN?e.LITTLE_ENDIAN:e.BIG_ENDIAN}set endian(t){this.$endian=t==e.LITTLE_ENDIAN?s.LITTLE_ENDIAN:s.BIG_ENDIAN}constructor(t,i=0){this.bufferExtSize=0,this.data=void 0,this._bytes=void 0,this._position=void 0,this.write_position=void 0,this.$endian=null,this.EOF_byte=-1,this.EOF_code_point=-1,i<0&&(i=0),this.bufferExtSize=i;let s,n=0;if(t){let e;if(t instanceof Uint8Array?(e=t,n=t.length):(n=t.byteLength,e=new Uint8Array(t)),0==i)s=new Uint8Array(n);else{s=new Uint8Array((1+(n/i|0))*i)}s.set(e)}else s=new Uint8Array(i);this.write_position=n,this._position=0,this._bytes=s,this.data=new DataView(s.buffer),this.endian=e.BIG_ENDIAN}setArrayBuffer(t){}get readAvailable(){return this.write_position-this._position}get buffer(){return this.data.buffer.slice(0,this.write_position)}get rawBuffer(){return this.data.buffer}set buffer(t){let i,e=t.byteLength,s=new Uint8Array(t),n=this.bufferExtSize;if(0==n)i=new Uint8Array(e);else{i=new Uint8Array((1+(e/n|0))*n)}i.set(s),this.write_position=e,this._bytes=i,this.data=new DataView(i.buffer)}get bytes(){return this._bytes}get dataView(){return this.data}set dataView(t){this.buffer=t.buffer}get bufferOffset(){return this.data.byteOffset}get position(){return this._position}set position(t){this._position=t,t>this.write_position&&(this.write_position=t)}get length(){return this.write_position}set length(t){this.write_position=t,this.data.byteLength>t&&(this._position=t),this._validateBuffer(t)}_validateBuffer(t){if(this.data.byteLength<t){let i,e=this.bufferExtSize;if(0==e)i=new Uint8Array(t);else{i=new Uint8Array((1+(t/e>>0))*e)}i.set(this._bytes),this._bytes=i,this.data=new DataView(i.buffer)}}get bytesAvailable(){return this.data.byteLength-this._position}clear(){let t=new ArrayBuffer(this.bufferExtSize);this.data=new DataView(t),this._bytes=new Uint8Array(t),this._position=0,this.write_position=0}readBoolean(){return!!this.validate(n)&&!!this._bytes[this.position++]}readByte(){return this.validate(r)?this.data.getInt8(this.position++):0}readBytes(t,i=0,e=0){if(!t)return;let s=this._position,n=this.write_position-s;if(n<0)return;if(0==e)e=n;else if(e>n)return;const r=t._position;t._position=0,t.validateBuffer(i+e),t._position=r,t._bytes.set(this._bytes.subarray(s,s+e),i),this.position+=e}readDouble(){if(this.validate(u)){let t=this.data.getFloat64(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=u,t}return 0}readFloat(){if(this.validate(f)){let t=this.data.getFloat32(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=f,t}return 0}readInt(){if(this.validate(a)){let t=this.data.getInt32(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=a,t}return 0}readShort(){if(this.validate(h)){let t=this.data.getInt16(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=h,t}return 0}readUnsignedByte(){return this.validate(o)?this._bytes[this.position++]:0}readUnsignedInt(){if(this.validate(l)){let t=this.data.getUint32(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=l,t}return 0}readUnsignedShort(){if(this.validate(d)){let t=this.data.getUint16(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=d,t}return 0}readUTF(){let t=this.readUnsignedShort();return t>0?this.readUTFBytes(t):""}readUTFBytes(t){if(!this.validate(t))return"";let i=this.data,e=new Uint8Array(i.buffer,i.byteOffset+this._position,t);return this.position+=t,this.decodeUTF8(e)}writeBoolean(t){this.validateBuffer(n),this._bytes[this.position++]=+t}writeByte(t){this.validateBuffer(r),this._bytes[this.position++]=255&t}writeBytes(t,i=0,e=0){let s;i<0||e<0||(s=0==e?t.length-i:Math.min(t.length-i,e),s>0&&(this.validateBuffer(s),this._bytes.set(t._bytes.subarray(i,i+s),this._position),this.position=this._position+s))}writeDouble(t){this.validateBuffer(u),this.data.setFloat64(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=u}writeFloat(t){this.validateBuffer(f),this.data.setFloat32(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=f}writeInt(t){this.validateBuffer(a),this.data.setInt32(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=a}writeShort(t){this.validateBuffer(h),this.data.setInt16(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=h}writeUnsignedInt(t){this.validateBuffer(l),this.data.setUint32(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=l}writeUnsignedShort(t){this.validateBuffer(d),this.data.setUint16(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=d}writeUTF(t){let i=this.encodeUTF8(t),e=i.length;this.validateBuffer(d+e),this.data.setUint16(this._position,e,this.$endian==s.LITTLE_ENDIAN),this.position+=d,this._writeUint8Array(i,!1)}writeUTFBytes(t,i){this._writeUint8Array(this.encodeUTF8(t,i))}toString(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable}_writeUint8Array(t,i=!0){let e=this._position,s=e+t.length;i&&this.validateBuffer(s),this.bytes.set(t,e),this.position=s}validate(t){let i=this._bytes.length;return i>0&&this._position+t<=i}validateBuffer(t){this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this._validateBuffer(t)}encodeUTF8(t,i){let e=0,s=this.stringToCodePoints(t),n=[];for(;s.length>e;){let t=s[e++];if(this.inRange(t,55296,57343))this.encoderError(t);else if(this.inRange(t,0,127))if(null==i)n.push(t);else{if(!(n.length+1<i))break;n.push(t)}else{let e=0,s=0;if(this.inRange(t,128,2047)?(e=1,s=192):this.inRange(t,2048,65535)?(e=2,s=224):this.inRange(t,65536,1114111)&&(e=3,s=240),null==i)for(n.push(this.div(t,Math.pow(64,e))+s);e>0;){let i=this.div(t,Math.pow(64,e-1));n.push(128+i%64),e-=1}else{let r=0;for(n.push(this.div(t,Math.pow(64,e))+s),r++;e>0;){let i=this.div(t,Math.pow(64,e-1));n.push(128+i%64),e-=1,r++}if(n.length>i){n.splice(n.length-r,r);break}}}}if(null!=i&&n.length<i){let t=i-n.length;for(;t>0;)n.push(0),t--}return new Uint8Array(n)}decodeUTF8(t){let i=!1,e=0,s="",n=null,r=0,h=0,a=0,o=0;for(;t.length>e;){let d=t[e++];if(d==this.EOF_byte)n=0!=h?this.decoderError(i):this.EOF_code_point;else if(0==h)this.inRange(d,0,127)?n=d:(this.inRange(d,194,223)?(h=1,o=128,r=d-192):this.inRange(d,224,239)?(h=2,o=2048,r=d-224):this.inRange(d,240,244)?(h=3,o=65536,r=d-240):this.decoderError(i),r*=Math.pow(64,h),n=null);else if(this.inRange(d,128,191))if(a+=1,r+=(d-128)*Math.pow(64,h-a),a!==h)n=null;else{let t=r,e=o;r=0,h=0,a=0,o=0,n=this.inRange(t,e,1114111)&&!this.inRange(t,55296,57343)?t:this.decoderError(i,d)}else r=0,h=0,a=0,o=0,e--,n=this.decoderError(i,d);null!==n&&n!==this.EOF_code_point&&(n<=65535?n>0&&(s+=String.fromCharCode(n)):(n-=65536,s+=String.fromCharCode(55296+(n>>10&1023)),s+=String.fromCharCode(56320+(1023&n))))}return s}encoderError(t){}decoderError(t,i){return i||65533}inRange(t,i,e){return i<=t&&t<=e}div(t,i){return Math.floor(t/i)}stringToCodePoints(t){let i=[],e=0,s=t.length;for(;e<t.length;){let n=t.charCodeAt(e);if(this.inRange(n,55296,57343))if(this.inRange(n,56320,57343))i.push(65533);else if(e==s-1)i.push(65533);else{let s=t.charCodeAt(e+1);if(this.inRange(s,56320,57343)){let t=1023&n,r=1023&s;e+=1,i.push(65536+(t<<10)+r)}else i.push(65533)}else i.push(n);e+=1}return i}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/CacheManager.ts",["cc","./Resource.ts","./Macros.ts"],(function(e){"use strict";var t,s,a,l,n,r,i,u,h,d,c,g,o;return{setters:[function(e){t=e.cclegacy,s=e.js,a=e.Asset,l=e.SpriteFrame,n=e.Texture2D,r=e.ImageAsset,i=e.sp,u=e.JsonAsset,h=e.TextAsset,d=e.isValid,c=e.SpriteAtlas},function(e){g=e.Resource},function(e){o=e.Macro}],execute:function(){t._RF.push({},"4859cspWPZNhIIuXN1LpfKQ","CacheManager",void 0);class p{constructor(e){this._caches=new Map,this.name=o.UNKNOWN,this.name=e}get(e,t){if(this._caches.has(e)){let s=this._caches.get(e);return t&&s&&s.isInvalid?(Log.w(`资源加载完成，但已经被释放 , 重新加载资源 : ${e}`),this.remove(e),null):this._caches.get(e)}return null}set(e){this._caches.set(e.key,e)}remove(e){return this._caches.delete(e)}get size(){return this._caches.size}debug(){this.name;let e=this._caches,t=[],s=[];e.forEach(((e,a,l)=>{e.isLoaded&&e.data?t.push(e.debug()):s.push(e.debug())})),t.length>0&&(Log.d("----------- 有效缓存信息 -----------"),Log.d(JSON.stringify(t))),s.length>0&&(Log.d("----------- 无效缓存信息 -----------"),Log.d(JSON.stringify(s)))}}class f{constructor(){this._caches=new Map}get(e){return this._caches.has(e)?this._caches.get(e):null}getSpriteFrame(e){let t=g.getKey(e,l),s=this.get(t);if(s){return this.get(g.getKey(e,n))?s:(this.remove(e,l,!0),null)}return null}makeSpriteFrame(e,t){if(t&&t instanceof r){let s=this.getSpriteFrame(e);if(s)return[s,s.data];s=new g.Cache(e,l,o.BUNDLE_REMOTE);let a=new l,r=new n;return r.image=t,a.texture=r,a.name=e,a._nativeUrl=e,s.isLoaded=!0,s.url=e,s.data=a,this.set(s),[s,s.data]}return[null,null]}makeSkeletonData(e,t,s,a,l){let r=new i.SkeletonData;r.skeletonJson=s.json,r.atlasText=a.text;let u=new n;u.image=t,r.textures=[u];let h=l+".png";return r.textureNames=[h],e.data=r,e.isLoaded=!0,e}set(e){this._caches.set(e.key,e)}retainAsset(e){e&&(e.retain?e.retain:e.retain=e.retain,this.addRef(e.url,e.type),e.type==l&&this.addRef(e.url,n),e.type==i.SkeletonData&&(this.addRef(`${e.url}.png`,n),this.addRef(`${e.url}.json`,u),this.addRef(`${e.url}.atlas`,h)))}releaseAsset(e){if(e){if(e.retain)return;this.remove(e.url,e.type)}}addRef(e,t){let s=g.getKey(e,t),a=this.get(s);if(a){a.data.addRef()}}decRef(e,t,s=!1){let a=g.getKey(e,t),l=this.get(a);if(l){let e=l.data;d(e)?(e.decRef(!1),e.refCount<=0&&(this._caches.delete(a),App.releaseManger.releaseRemote(l,s))):this._caches.delete(a)}}remove(e,t,s=!1){this.decRef(e,t,s),t==l&&this.decRef(e,n,s),t==i.SkeletonData&&(this.decRef(`${e}.png`,n,s),this.decRef(`${e}.json`,u,s),this.decRef(`${e}.atlas`,h,s))}debug(){let e=this._caches;Log.d("---- 远程加载资源缓存信息 ----");let t=[],s=[];e.forEach(((e,a,l)=>{e.isLoaded&&e.data&&d(e.data)?t.push(e.debug()):s.push(e.debug())})),t.length>0&&(Log.d("----------------有效缓存信息------------------"),Log.d(JSON.stringify(t))),s.length>0&&(Log.d("----------------无效缓存信息------------------"),Log.d(JSON.stringify(s)))}}class y{constructor(){this.isResident=!0,this.module=null,this._bundles=new Map,this._remoteCaches=new f}get remoteCaches(){return this._remoteCaches}getBundleName(e){return App.bundleManager.getBundleName(e)}get(e,t,s,a=!0){let l=this.getBundleName(e);return l&&this._bundles.has(l)?this._bundles.get(l).get(g.getKey(t,s),a):null}set(e){let t=this.getBundleName(e.bundle);if(t)if(this._bundles.has(t))this._bundles.get(t).set(e);else{let s=new p(t);s.set(e),this._bundles.set(t,s)}}remove(e){let t=this.getBundleName(e.bundle);return!(!t||!this._bundles.has(t))&&this._bundles.get(t).remove(e.key)}decRef(e,t,s){const a=t;a.decRef(!1);let l=!0;return a.refCount<=0?App.isLazyRelease||s.release(e.url,e.type):l=!1,l}removeWithInfo(e,t){let s=!0;if(e&&e.data)if(Array.isArray(e.data)){e.refCount--;for(let s=0;s<e.data.length;s++)this.decRef(e,e.data[s],t);s=e.refCount<=0,s?App.isLazyRelease||this.remove(e):App.isLazyRelease}else this.decRef(e,e.data,t)?App.isLazyRelease||this.remove(e):s=!1;return s}removeBundle(e){let t=this.getBundleName(e);t&&this._bundles.has(t)&&this._bundles.delete(t)}_getGetCacheByAsyncArgs(){if(arguments.length<3)return null;if("string"!=typeof arguments[0])return null;let e=arguments.length>3&&arguments[3];return e||s.isChildClassOf(arguments[1],a)?{url:arguments[0],type:arguments[1],bundle:arguments[2],ignoreType:e}:null}getCache(){let e=arguments,t=this;return new Promise((s=>{let a=t._getGetCacheByAsyncArgs.apply(t,e);if(!a)return void s([null,null]);let l=t.get(a.bundle,a.url,a.type);l?l.isLoaded?a.type&&!a.ignoreType?l.data instanceof a.type?s([l,l.data]):s([null,null]):s([l,l.data]):l.getCb.push(s):s([null,null])}))}getCacheByAsync(){let e=this,t=this._getGetCacheByAsyncArgs.apply(this,arguments);return new Promise((s=>{t?e.getCache(t.url,t.type,t.bundle).then((([e,a])=>{a&&a instanceof t.type?s([e,a]):App.asset.load(t.bundle,t.url,t.type,null,(e=>{e&&e.data&&e.data instanceof t.type?s([e,e.data]):(Log.e(`${this.module}加载失败 : ${t.url}`),s([null,null]))}))})):s([null,null])}))}getSpriteFrameByAsync(e,t,s,a,l){let n=this;return new Promise((r=>{let i=0,u=h=>{n.getCacheByAsync(h,c,l).then((([l,n])=>{if(a(s,l),n){let s=n.getSpriteFrame(t);s?d(s)?r({url:h,spriteFrame:s,cache:l}):(Log.e(`精灵帧被释放，释放当前无法的图集资源 url ：${h} key : ${t}`),App.asset.releaseAsset(l),r({url:h,spriteFrame:null,isTryReload:!0,cache:l})):(i++,i>=e.length?r({url:h,spriteFrame:null,cache:null}):u(e[i]))}else r({url:h,spriteFrame:null,cache:null})}))};u(e[i])}))}debug(){this._bundles.forEach((e=>{e.debug()})),this.remoteCaches.debug()}}e("CacheManager",y),y.module="【缓存管理器】",t._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasHelper.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a96d56Mr9FI4rHutCkVnb9o","CanvasHelper",void 0);class a{constructor(){this.module=null,this.downloadMime="image/octet-stream"}get support(){let e=document.createElement("canvas"),t=e.getContext("2d");return{canvas:!!t,imageData:!(null==t||!t.getImageData),dataURL:!!e.toDataURL,btoa:!!window.btoa}}scaleCanvas(e,t,a){let n=e.width,r=e.height;null==t&&(t=n),null==a&&(a=r);let s=document.createElement("canvas"),i=s.getContext("2d");return s.width=t,s.height=a,null==i||i.drawImage(e,0,0,n,r,0,0,t,a),s}getDataURL(e,t,a,n){return(e=this.scaleCanvas(e,a,n)).toDataURL(t)}saveFile(e,t,a){this.fileDownload(e,t,a)}genImage(e){var t=document.createElement("img");return t.src=e,t}fixType(e){return"image/"+(e=e.toLowerCase().replace(/jpg/i,"jpeg")).match(/png|jpeg|bmp|gif/)[0]}encodeData(e){if(!window.btoa)throw"btoa undefined";var t="";if("string"==typeof e)t=e;else for(var a=0;a<e.length;a++)t+=String.fromCharCode(e[a]);return btoa(t)}getImageData(e){var t;let a=e.width,n=e.height;return null==(t=e.getContext("2d"))?void 0:t.getImageData(0,0,a,n)}makeURL(e,t){return"data:"+t+";base64,"+e}genBitmapImage(e){var t=e.width,a=e.height,n=t*a*3,r=n+54,s=[66,77,255&r,r>>8&255,r>>16&255,r>>24&255,0,0,0,0,54,0,0,0],i=[40,0,0,0,255&t,t>>8&255,t>>16&255,t>>24&255,255&a,a>>8&255,a>>16&255,a>>24&255,1,0,24,0,0,0,0,0,255&n,n>>8&255,n>>16&255,n>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=(4-3*t%4)%4,l=e.data,g="",m=t<<2,u=a,c=String.fromCharCode;do{for(var d=m*(u-1),h="",p=0;p<t;p++){var v=p<<2;h+=c(l[d+v+2])+c(l[d+v+1])+c(l[d+v])}for(var f=0;f<o;f++)h+=String.fromCharCode(0);g+=h}while(--u);return this.encodeData(s.concat(i))+this.encodeData(g)}savaAsImage(e,t,a,n="png",r="defaultpng"){let s=null;if(this.support.canvas&&this.support.dataURL){if("string"==typeof e){let t=document.getElementById(e);t&&(s=t)}else s=e;if(!s)return;if(n=this.fixType(n),/bmp/.test(n)){let e=this.getImageData(this.scaleCanvas(s,t,a));if(e){let t=this.genBitmapImage(e);this.saveFile(this.makeURL(t,this.downloadMime),n.replace("image/",""),r)}}else{s=this.scaleCanvas(s,t,a);let e=this;s.toBlob((function(t){let a=URL.createObjectURL(t);e.saveFile(a,n.replace("image/",""),r)}),n,1)}}}convertToImage(e,t,a,n="png"){let r=null;if(this.support.canvas&&this.support.dataURL){if("string"==typeof e){let t=document.getElementById(e);t&&(r=t)}else r=e;if(!r)return;if(/bmp/.test(n)){var s=this.getImageData(this.scaleCanvas(r,t,a)),i=this.genBitmapImage(s);return this.genImage(this.makeURL(i,"image/bmp"))}i=this.getDataURL(r,n,t,a);return this.genImage(i)}}fileDownload(e,t,a){let n=document.createElement("a");n.style.display="none",n.href=e,n.download=a+"."+t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}saveAsPNG(e,t,a){return this.savaAsImage(e,t,a,"png","defaultpng")}saveAsJPEG(e,t,a){return this.savaAsImage(e,t,a,"jpeg","defaultjpg")}saveAsGIF(e,t,a){return this.savaAsImage(e,t,a,"gif","defaultgif")}saveAsBMP(e,t,a){return this.savaAsImage(e,t,a,"bmp","defaultbmp")}convertToPNG(e,t,a){return this.convertToImage(e,t,a,"png")}convertToJPEG(e,t,a){return this.convertToImage(e,t,a,"jpeg")}convertToGIF(e,t,a){return this.convertToImage(e,t,a,"gif")}convertToBMP(e,t,a){return this.convertToImage(e,t,a,"bmp")}}e("CanvasHelper",a),a.module="【CanvasHelper】",t._RF.pop()}}}));

System.register("chunks:///_virtual/CheXuanPoker.ts",["cc","./GameDefine.ts"],(function(t){"use strict";var e,i,r,s,o;return{setters:[function(t){e=t.cclegacy},function(t){i=t.PokerSuit,r=t.PokerRank,s=t.PokerCardId,o=t.PokerColorvalue}],execute:function(){e._RF.push({},"f78faNBokdF7L1YrbmoIabQ","CheXuanPoker",void 0);t("CheXuanPoker",class{constructor(t,e){this.suit=i.Diamonds,this.rank=void 0,this.isFaceUp=void 0,this.cardId=void 0,this.comparePoint=void 0,this.colorValue=void 0,this.rank=e,this.suit=t,this.isFaceUp=!0,this.cardId=4*(e-1)+this.getLocalSuit(),this.rank==r.JokerRed?this.cardId=s.JokerRed:this.rank==r.JokerBlack&&(this.cardId=s.JokerBlack),this.comparePoint=e,e==r.JokerRed?this.comparePoint=6:e==r.Queen?this.comparePoint=2:e==r.Jack&&(this.comparePoint=1),t==i.Diamonds||t==i.Hearts?this.colorValue=o.Red:this.colorValue=o.Black}getcomparePoint(){return this.comparePoint}getCardId(){return this.cardId}getSuit(){return this.suit}getColorValue(){return this.colorValue}getIsRed(){return this.colorValue==o.Red}getIsBlack(){return this.colorValue==o.Black}getRank(){return this.rank}getSpriteName(){if(this.rank==r.JokerRed)return"p_0_1";if(this.rank==r.JokerBlack)return"p_0_2";{let t=this.getLocalSuit();return"p_"+this.rank+"_"+t}}getLocalSuit(){return this.suit==i.Clubs?4:this.suit==i.Diamonds?2:this.suit==i.Hearts?3:1}getIsFaceUp(){return this.isFaceUp}flip(){this.isFaceUp=!this.isFaceUp}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/ClubApi.ts",["cc","./BaseApi.ts"],(function(e){"use strict";var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.default}],execute:function(){t._RF.push({},"edf862URJVAGpeE0r4f8y0k","ClubApi",void 0);e("default",class extends r{modClubMemberScore(e,t,r,s){return this.post("/club/UpDownScore",{clubId:e,type:t,targetUserId:r,score:s},{})}modClubPartner(e,t,r){return this.post("/club/setPartner",{clubId:e,isPartner:t,userId:r},{})}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/ClubInfoData.ts",["cc","./BaseData.ts"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.default}],execute:function(){a._RF.push({},"0b0ed1Hf1BJ9KLitiOPl1Hn","ClubInfoData",void 0);class n extends e{constructor(){super()}setClubData(t){this.setData(n.USER_DATA,t)}getClubData(){return this.getData(n.USER_DATA)}clear(){this.clearData()}}n.USER_DATA="Club_DATA",n.instance=new n;t("ClubInfoDataEn",n.instance);a._RF.pop()}}}));

System.register("chunks:///_virtual/CmdDefines.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"8b0d47nT5xN3LlWFAW1DU7w","CmdDefines",void 0);e("MainCmd",{CMD_SYS:1,CMD_GAME:2,CMD_LOBBY:3,CMD_PAY:4,CMD_CHAT:5}),e("SUB_CMD_SYS",{CMD_SYS_HEART:1});t._RF.pop()}}}));

System.register("chunks:///_virtual/CocosExtention.ts",["cc","./CocosUtils.ts","./Resource.ts","./Macros.ts"],(function(e){"use strict";var t,a,r,o,i,n,l,c,p,d,s,u,h,f,m,y,g,S,A,F,C,R,D,w,k,v,B;return{setters:[function(e){t=e.cclegacy,a=e.Node,r=e.Sprite,o=e.SpriteFrame,i=e.isValid,n=e.SpriteAtlas,l=e.sp,c=e.Button,p=e.dragonBones,d=e.ParticleSystem2D,s=e.ParticleAsset,u=e.Label,h=e.Font},function(e){f=e.getBundle,m=e.setSpriteSpriteFrame,y=e.getAsset,g=e.addExtraLoadResource,S=e.setSkeletonSkeletonData,A=e.setButtonSpriteFrame,F=e.loadDragonDisplay,C=e.setParticleSystemFile,R=e.setLabelFont,D=e.createNodeWithPrefab,w=e._loadDirRes,k=e._loadRes},function(e){v=e.Resource},function(e){B=e.Macro}],execute:function(){e("CocosExtentionInit",(function(){Log.d("Cocos扩展初始化")})),t._RF.push({},"41a78zq+i1C45s4JKGkhQdk","CocosExtention",void 0),"object"==typeof Reflect?Reflect.defineProperty(a.prototype,"userData",{value:null,writable:!0}):a.prototype.userData=null,r.prototype.loadRemoteImage=function(e){let t=this;null!=e.isNeedCache&&null!=e.isNeedCache||(e.isNeedCache=!0);let a=!1;e.retain&&(a=!0),t.loadUrl=e.url;let r=f({bundle:e.defaultBundle,view:e.view});App.asset.remote.loadImage(e.url,e.isNeedCache).then((([n,l])=>{t.loadUrl==(null==l?void 0:l.nativeUrl)&&(l?m({view:e.view,url:e.url,sprite:t,spriteFrame:l,complete:e.complete,bundle:B.BUNDLE_REMOTE,resourceType:v.Type.Remote,retain:a,cache:n}):(e.defaultSpriteFrame&&"string"==typeof e.defaultSpriteFrame&&(e.defaultSpriteFrame=e.defaultSpriteFrame+"/spriteFrame",App.cache.getCacheByAsync(e.defaultSpriteFrame,o,r).then((([a,o])=>{m({view:e.view,url:e.defaultSpriteFrame,sprite:t,spriteFrame:o,complete:e.complete,bundle:r,cache:a})}))),e.complete&&i(t)&&e.complete(l)))}))},r.prototype.loadImage=function(e){let t=this,a=e.view,r=e.url,i=e.complete,l=f(e),c=([e,r,o,n])=>{m({view:a,url:o,sprite:t,spriteFrame:r,complete:i,bundle:l,cache:e,isAtlas:n})};if("string"==typeof r){if(r=`${r}/spriteFrame`,e.dir)return void App.cache.getCache(e.dir,o,l,!0).then((([t,a])=>{c([t,y(e.dir,r,l,o),e.dir,!1])}));App.cache.getCacheByAsync(r,o,l).then((([e,t])=>{c([e,t,r,!1])}))}else{let t=r.urls,o=r.key;if(e.dir)return void App.cache.getCache(e.dir,n,l,!0).then((([i,p])=>{if(p){let p=App.bundleManager.getBundle(l),d=!1;for(let r=0;r<t.length;r++){let l=p.get(`${e.dir}/${t[r]}`,n);if(l&&l.getSpriteFrame(o)){g(a,i),c([i,l.getSpriteFrame(o),e.dir,!0]),d=!0;break}}d||(Log.w(`加载的资源中未找到:${l}/${e.dir}/${r}`),c([null,null,e.dir,!0]))}else Log.w(`未加载资源${e.dir}`),c([null,null,e.dir,!0])}));App.cache.getSpriteFrameByAsync(r.urls,r.key,a,g,l).then((e=>{e&&e.isTryReload||c([e.cache,e.spriteFrame,e.url,!0])}))}},l.Skeleton.prototype.loadRemoteSkeleton=function(e){let t=this;null!=e.isNeedCache&&null!=e.isNeedCache||(e.isNeedCache=!0),App.asset.remote.loadSkeleton(e.path,e.name,e.isNeedCache).then((([a,r])=>{S({component:t,config:e,data:r,resourceType:v.Type.Remote,cache:a})}))},l.Skeleton.prototype.loadSkeleton=function(e){let t=this,a=e.url,r=f(e),o=([a,r])=>{S({component:t,config:e,data:r,cache:a})};e.dir?App.cache.getCache(e.dir,l.SkeletonData,r,!0).then((([t,i])=>{e.url=e.dir,o([t,y(e.dir,a,r,l.SkeletonData)])})):App.cache.getCacheByAsync(a,l.SkeletonData,r).then((([e,t])=>{o([e,t])}))},c.prototype.loadButton=function(e){A(this,e)},p.ArmatureDisplay.prototype.loadDisplay=function(e){F(this,e)},d.prototype.loadFile=function(e){let t=this,a=e.url,r=f(e);e.dir?App.cache.getCache(e.dir,s,r,!0).then((([o,i])=>{e.url=e.dir,C(t,e,y(e.dir,a,r,s),o)})):App.cache.getCacheByAsync(a,s,r).then((([a,r])=>{C(t,e,r,a)}))},u.prototype.forceDoLayout=function(){let e=this;e._forceUpdateRenderData?e._forceUpdateRenderData():e._updateRenderData?e._updateRenderData(!0):e.updateRenderData&&e.updateRenderData(!0)},u.prototype.loadFont=function(e){let t=e.font,a=this,r=f(e);e.dir?App.cache.getCache(e.dir,h,r,!0).then((([t,o])=>{R(a,e,y(e.dir,e.font,r,h),t)})):App.cache.getCacheByAsync(t,h,r).then((([t,r])=>{R(a,e,r,t)}))},window.createPrefab=function(e){D(e)},window.loadDirRes=function(e){w(e)},window.loadRes=function(e){k(e)},t._RF.pop()}}}));

System.register("chunks:///_virtual/CocosUtils.ts",["cc","./Resource.ts","./UIView.ts","./Enums.ts","./Macros.ts"],(function(e){"use strict";var t,l,r,o,n,c,a,i,p,s,m;return{setters:[function(e){t=e.cclegacy,l=e.isValid,r=e.Prefab,o=e.dragonBones,n=e.SpriteFrame,c=e.SpriteAtlas,a=e.instantiate},function(e){i=e.Resource},function(e){p=e.default},function(e){s=e.ButtonSpriteType},function(e){m=e.Macro}],execute:function(){function u(e,t){let l=App.uiManager;e==l.retainMemory?l.retainMemory.addLocal(t):e&&e instanceof p?l.addLocal(t,e.className):l.garbage.addLocal(t)}function d(e,t){let l=App.uiManager;e==l.retainMemory?l.retainMemory.addRemote(t):e&&e instanceof p?l.addRemote(t,e.className):l.garbage.addRemote(t)}function f(e){let t=e.bundle;return null!=e.bundle&&null!=e.bundle||(t=m.BUNDLE_RESOURCES,e.view&&(t=e.view.bundle)),t}function g(e){return!!(l(e)&&e.node&&l(e.node))}function h(e,t,l,r){return App.bundleManager.getBundle(l).get(`${e}/${t}`,r)}function y(e){null!=e.isAtlas&&null!=e.isAtlas||(e.isAtlas=!1),e.spriteFrame&&g(e.button)?function(e){if(e.cache)if(e.isAtlas||u(e.view,e.cache),e.spriteFrame&&g(e.button)){let t=e.button[e.memberName];try{let t=l(e.spriteFrame)?e.spriteFrame:null;t&&(e.button[e.memberName]=t),e.complete&&e.complete(e.memberName,t)}catch(r){let o=l(t)?t:null;e.button[e.memberName]=o,e.complete&&e.complete(e.memberName,null),Log.e(`${e.url} : ${r||"replace spriteframe error"}`)}}else e.complete&&g(e.button)&&e.complete(e.memberName,e.spriteFrame);else e.complete&&g(e.button)&&e.complete(e.memberName,null)}(e):e.complete&&g(e.button)&&e.complete(e.memberName,e.spriteFrame)}function A(e,t,l,r,o,a,i){let p=([r,n,c,i])=>{y({button:e,memberName:t,view:l,url:c,spriteFrame:n,complete:o,bundle:a,cache:r,isAtlas:i})};if(r)if("string"==typeof r){if(r=`${r}/spriteFrame`,i)return void App.cache.getCache(i,n,a,!0).then((([e,t])=>{p([e,h(i,r,a,n),i,!1])}));App.cache.getCacheByAsync(r,n,a).then((([e,t])=>{p([e,t,r,!1])}))}else{let e=r.urls,t=r.key;if(i)return void App.cache.getCache(i,c,a,!0).then((([l,o])=>{if(o){let o=App.bundleManager.getBundle(a),n=!1;for(let r=0;r<e.length;r++){let a=o.get(`${i}/${e[r]}`,c);if(a&&a.getSpriteFrame(t)){p([l,a.getSpriteFrame(t),i,!0]),n=!0;break}}n||(Log.w(`加载的资源中未找到:${a}/${i}/${r}`),p([null,null,i,!0]))}else Log.w(`未加载资源${i}`),p([null,null,i,!0])}));App.cache.getSpriteFrameByAsync(r.urls,r.key,l,u,a).then((e=>{e&&e.isTryReload||p([e.cache,e.spriteFrame,e.url,!0])}))}}e({_loadDirRes:function(e){let t=f(e),l=t=>{t&&u(e.view,t),e.onComplete&&e.onComplete(t)};if(e.dir)return void App.cache.getCache(e.dir,e.type,t,!0).then((([e,t])=>{l(e)}));App.asset.loadDir(t,e.url,e.type,e.onProgress,(e=>{l(e)}))},_loadRes:function(e){let t=f(e),l=([t,l])=>{t&&u(e.view,t),e.onComplete&&e.onComplete(l)};if(e.dir)return void App.cache.getCache(e.dir,e.type,t,!0).then((([r,o])=>{o=h(e.dir,e.url,t,e.type),l([r,o])}));App.cache.getCacheByAsync(e.url,e.type,t).then((([e,t])=>{l([e,t])}))},addExtraLoadResource:u,addRemoteLoadResource:d,createNodeWithPrefab:function(e){let t=([t,l])=>{if(t&&u(e.view,t),l&&g(e.view)&&e.complete){let t=a(l);e.complete(t)}else g(e.view)&&e.complete&&e.complete(null)},l=e.url,o=f(e);if(e.dir)return void App.cache.getCache(e.dir,r,o,!0).then((([l,n])=>{n=h(e.dir,e.url,o,r),t([l,n])}));App.cache.getCacheByAsync(l,r,o).then((([e,l])=>{t([e,l])}))},getAsset:h,getBundle:f,loadDragonDisplay:function(e,t){let l=f(t),r=([e,l])=>{e&&u(t.view,e)},n=([l,r,o])=>{r?(u(t.view,l),e.dragonAsset=o,e.dragonAtlasAsset=r,t.complete&&t.complete(o,r)):t.complete&&t.complete(o,null)};if(t.dir)return void App.cache.getCache(t.dir,o.DragonBonesAsset,l,!0).then((([e,c])=>{c?(c=h(t.dir,t.assetUrl,l,o.DragonBonesAsset),r([e,c]),App.cache.getCache(t.dir,o.DragonBonesAtlasAsset,l,!0).then((([e,r])=>{r=h(t.dir,t.atlasUrl,l,o.DragonBonesAtlasAsset),n([e,r,c])}))):(Log.w(`未加载资源${t.dir}`),t.complete&&t.complete(null,null))}));App.cache.getCacheByAsync(t.assetUrl,o.DragonBonesAsset,l).then((([e,c])=>{c?(r([e,c]),App.cache.getCacheByAsync(t.atlasUrl,o.DragonBonesAtlasAsset,l).then((([e,t])=>{n([e,t,c])}))):t.complete&&t.complete(null,null)}))},setButtonSpriteFrame:function(e,t){let l=f(t);A(e,s.Norml,t.view,t.normalSprite,t.complete,l,t.dir),A(e,s.Pressed,t.view,t.pressedSprite,t.complete,l,t.dir),A(e,s.Hover,t.view,t.hoverSprite,t.complete,l,t.dir),A(e,s.Disable,t.view,t.disabledSprite,t.complete,l,t.dir)},setLabelFont:function(e,t,r,o){if(!o)return void(t.complete&&g(e)&&t.complete(null));if(u(t.view,o),r&&g(e)){let o=e.font;try{let o=l(r)?r:null;o&&(e.font=o),t.complete&&t.complete(o)}catch(r){let n=l(o)?o:null;e.font=n,t.complete&&t.complete(null),Log.e(`${t.font} : ${r||"replace font error"}`)}}else t.complete&&g(e)&&t.complete(r)},setParticleSystemFile:function(e,t,r,o){if(!o)return void(t.complete&&g(e)&&t.complete(null));if(u(t.view,o),r&&g(e)){let o=e.file;try{let o=l(r)?r:null;o&&(e.file=o),t.complete&&t.complete(o)}catch(r){let n=l(o)?o:null;e.file=n,t.complete&&t.complete(null),Log.e(`${t.url} : ${r||"replace file error"}`)}}else t.complete&&g(e)&&t.complete(r)},setSkeletonSkeletonData:function(e){if(!e.cache)return void(e.config.complete&&g(e.component)&&e.config.complete(null));null!=e.resourceType&&null!=e.resourceType||(e.resourceType=i.Type.Local);e.resourceType==i.Type.Remote?d(e.config.view,e.cache):u(e.config.view,e.cache);if(e.data&&g(e.component)){let t=e.component.skeletonData;try{let t=l(e.data)?e.data:null;t&&(e.component.skeletonData=t),e.config.complete&&e.config.complete(t)}catch(r){let o=l(t)?t:null;e.component.skeletonData=o,e.config.complete&&e.config.complete(null),Log.e(`${e.cache.key} : ${r||"replace skeletonData error"}`)}}else e.config.complete&&g(e.component)&&e.config.complete(e.data)},setSpriteSpriteFrame:function(e){null!=e.resourceType&&null!=e.resourceType||(e.resourceType=i.Type.Local);null!=e.retain&&null!=e.retain||(e.retain=!1);null!=e.isAtlas&&null!=e.isAtlas||(e.isAtlas=!1);if(!e.cache)return Log.e(`加载${e.url}图片错误`),void(e.complete&&g(e.sprite)&&e.complete(null));e.isAtlas||(e.resourceType==i.Type.Remote?d(e.view,e.cache):u(e.view,e.cache));if(e.spriteFrame&&g(e.sprite)){let t=e.sprite.spriteFrame,r=l(e.spriteFrame)?e.spriteFrame:null;try{r&&(e.sprite.spriteFrame=r),e.complete&&e.complete(r)}catch(r){let o=l(t)?t:null;e.sprite.spriteFrame=o,e.complete&&e.complete(null),Log.e(`${e.url} : ${r||"replace spriteframe error"}`)}}else e.complete&&g(e.sprite)&&e.complete(e.spriteFrame)}}),t._RF.push({},"c5e498hvkpGm6BWGue9rQcW","CocosUtils",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/CommonData.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){e({AudioEvent:void 0,EmClubEvent:void 0,EmRoomEvent:void 0,HallModelTableState:void 0,OpenType:void 0,WinType:void 0}),a._RF.push({},"b6c9feFavtAtpWmY+4dyMYI","CommonData",void 0);class o{constructor(){this.roomsData=[],this.currentTableId=-1,this.currentStayTableType=-1,this.currentStayTableId=-1,this.isConnected=!1}}o.instance=new o;let n,t,i,u,d,c;e("CommonData",o.instance);!function(e){e[e.DuoDuo=1]="DuoDuo",e[e.DuoHuang=2]="DuoHuang",e[e.TianHuang=3]="TianHuang"}(n||(n=e("WinType",{}))),function(e){e[e.WAIT=0]="WAIT",e[e.READY=1]="READY",e[e.GAME=2]="GAME"}(t||(t=e("HallModelTableState",{}))),function(e){e.List="ROOMEVENT_LIST",e.Add="ROOMEVENT_ADD",e.Remove="ROOMEVENT_REMOVE",e.Update="ROOMEVENT_UPDATE",e.Back="ROOMOEVENT_BACK",e.MatchCode="MatchCode",e.RemarkName="RemarkName"}(i||(i=e("EmRoomEvent",{}))),function(e){e.UpdateClubMsg="UpdateClubMsg"}(u||(u=e("EmClubEvent",{}))),function(e){e.audioRecordEnd="CheXuan_audioRecordEnd",e.audioRecordPlay="CheXuan_audioRecordPlay",e.audioRecordPlayEnd="CheXuan_audioRecordPlayEnd",e.audioRecordPause="CheXuan_audioRecordPause",e.audioRecordStart="CheXuan_audioRecordStart",e.audioRecordPermission="CheXuan_audioRecordPermission",e.chatVoiceState="CheXuan_chatVoiceState",e.stopPlaingAudio="CheXuan_stopPlaingAudio",e.audioGetPermission="CheXuan_audioGetPermission",e.audioPermissionBack="CheXuan_audioPermissionBack"}(d||(d=e("AudioEvent",{}))),function(e){e[e.Album=0]="Album",e[e.Camera=1]="Camera"}(c||(c=e("OpenType",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/CommonEvent.ts",["cc"],(function(E){"use strict";var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){let C,T;E({CommonEvent:void 0,UserInfoEvent:void 0}),_._RF.push({},"44b3bL/ZNdPXbAWy02ohBa3","CommonEvent",void 0),function(E){E.TEST_PROTO_MSG="TEST_PROTO_MSG",E.TEST_BINARY_MSG="TEST_BINARY_MSG",E.TEST_JSON_MSG="TEST_JSON_MSG",E.LOBBY_SERVICE_CONNECTED="LOBBY_SERVICE_CONNECTED",E.LOBBY_SERVICE_CLOSE="LOBBY_SERVICE_CLOSE",E.GAME_SERVICE_CONNECTED="GAME_SERVICE_CONNECTED",E.GAME_SERVICE_CLOSE="GAME_SERVICE_CLOSE",E.CHAT_SERVICE_CONNECTED="CHAT_SERVICE_CONNECTED",E.CHAT_SERVICE_CLOSE="CHAT_SERVICE_CLOSE",E.NETWORK_RECONNECT_START="NETWORK_RECONNECT_START",E.NETWORK_RECONNECT_SUCCESS="NETWORK_RECONNECT_SUCCESS",E.NETWORK_RECONNECT_FAILED="NETWORK_RECONNECT_FAILED",E.GAME_NOTICE="GAME_NOTICE",E.MatchEnd="GAME_MatchEnd"}(C||(C=E("CommonEvent",{}))),function(E){E.USER_DATA_UPDATA="USER_DATA_UPDATA",E.REGISTER_SUCC="REGISTER_SUCC",E.HEAD_BACK_UPLOAD="HEAD_BACK_UPLOAD"}(T||(T=E("UserInfoEvent",{}))),_._RF.pop()}}}));

System.register("chunks:///_virtual/CommonLanguage.ts",["cc","./CommonLanguageEN.ts","./CommonLanguageZH.ts","./Lang.ts"],(function(t){"use strict";var a,n,e,g;return{setters:[function(t){a=t.cclegacy},function(t){n=t.LanguageEN},function(t){e=t.LanguageZH},function(t){g=t.LangData}],execute:function(){a._RF.push({},"495989qswZParhGpu1PcGUI","CommonLanguage",void 0);t("CommonLanguage",class extends g{init(){super.init();let t=this.mergeData(n,this.get(n.language)),a=this.mergeData(e,this.get(e.language));this.add(t),this.add(a)}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/CommonLanguageEN.ts",["cc"],(function(e){"use strict";var a,t;return{setters:[function(e){a=e.cclegacy,t=e.sys}],execute:function(){a._RF.push({},"ea4232RAlVFA4+lp3jrpr+3","CommonLanguageEN",void 0);e("LanguageEN",{language:t.Language.ENGLISH,data:{alert_title:"Tips",alert_confirm:"Confirm",alert_cancel:"Cancel",quitGame:"您确定要退出游戏？",loading_game_resources:"正在加载游戏资源...",loadingProgress:"加载资源中({0}%)...",pic_background:"common/images/com_bg_start2",richtext:"<color=#00ff00>Rich</c><color=#0fffff>Text</color>",pic_atlas:["common/images/lobby_texture"],pic_key:"update_status_new",pic_remote:"https://www.baidu.com/img/flexible/logo/pc/index_gray.png"}});a._RF.pop()}}}));

System.register("chunks:///_virtual/CommonLanguageZH.ts",["cc"],(function(e){"use strict";var a,t;return{setters:[function(e){a=e.cclegacy,t=e.sys}],execute:function(){a._RF.push({},"dadc9cU4PNBEp7uW46ZSSXN","CommonLanguageZH",void 0);e("LanguageZH",{language:t.Language.CHINESE,data:{alert_title:"温馨提示",alert_confirm:"确 定",alert_cancel:"取 消",quitGame:"您确定要退出游戏？",loading_game_resources:"正在加载游戏资源...",loadingProgress:"加载资源中({0}%)...",pic_background:"common/images/background",richtext:"<color=#00ff00>富</c><color=#0fffff>文本</color>",pic_atlas:["common/images/lobby_texture"],pic_key:"update_status_hot",pic_remote:"https://fanyi-cdn.cdn.bcebos.com/static/translation/img/header/logo_e835568.png"}});a._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(o){"use strict";var e,a;return{setters:[function(o){e=o.cclegacy,a=o.Enum}],execute:function(){var i,t;o({Config:void 0,NetPriority:void 0,ViewZOrder:void 0}),e._RF.push({},"4227bYQTFFOYb3+qzJ9yRmP","Config",void 0),function(o){o[o.resources=0]="resources",o[o.aimLine=1]="aimLine",o[o.eliminate=2]="eliminate",o[o.hall=3]="hall",o[o.register=4]="register",o[o.loadTest=5]="loadTest",o[o.netTest=6]="netTest",o[o.nodePoolTest=7]="nodePoolTest",o[o.tankBattle=8]="tankBattle",o[o.taxi=9]="taxi",o[o.qrcode=10]="qrcode",o[o.stateMachine=11]="stateMachine",o[o.chexuan=12]="chexuan",o[o.room=13]="room"}(i||(i={})),function(o){o[o.resources=0]="resources",o[o.hall=1]="hall",o[o.register=2]="register",o[o.aimLine=3]="aimLine",o[o.eliminate=4]="eliminate",o[o.loadTest=5]="loadTest",o[o.taxi=6]="taxi",o[o.netTest=7]="netTest",o[o.nodePoolTest=8]="nodePoolTest",o[o.tankBattle=9]="tankBattle",o[o.stateMachine=10]="stateMachine",o[o.qrcode=11]="qrcode",o[o.private=12]="private",o[o.chexuan=13]="chexuan",o[o.room=14]="room"}(t||(t={}));const n=a(i);let m,c,l;!function(o){o[o.Default=0]="Default",o[o.Horn=1]="Horn",o[o.UI=2]="UI",o[o.Tips=3]="Tips",o[o.Alert=4]="Alert",o[o.Loading=5]="Loading",o[o.UILoading=6]="UILoading"}(m||(m=o("ViewZOrder",{}))),function(o){o.isShowDebugButton=!1,o.audioPath={dialog:"common/audio/dlg_open",button:"common/audio/btn_click",close:"common/audio/close_click",bet:"common/audio/bet",dealcards:"common/audio/dealcards",fold:"common/audio/fold",timecount:"common/audio/timecount",checkwin1:"common/audio/checkwin1",checkwin2:"common/audio/checkwin2",congratulate:"common/audio/congratulate",diu:"common/audio/diu",xiu:"common/audio/xiu",qiao:"common/audio/qiao",gameboybig:{path:"common/audio/gameboybig",len:5},gameboypass:{path:"common/audio/gameboypass",len:6},gameboycall:{path:"common/audio/gameboycall",len:3},gameboyknock:{path:"common/audio/gameboyknock",len:3},gameboycease:{path:"common/audio/gameboycease",len:6},gamegirlbig:{path:"common/audio/gamegirlbig",len:3},gamegirlpass:{path:"common/audio/gamegirlpass",len:6},gamegirlcall:{path:"common/audio/gamegirlcall",len:5},gamegirlknock:{path:"common/audio/gamegirlknock",len:4},gamegirlcease:{path:"common/audio/gamegirlcease",len:3},hallbg1:"common/audio/hallbg1",gamebg1:"common/audio/gamebg1"},o.isSkipCheckUpdate=!1;const e=o.isTest=!1,c=(o.getServerListUrl=()=>e?l:c,o.SERVER_OFFICIAL_LIST_URL="https://info.shunshierwei.top"),l=o.SERVER_TEST_LIST_URL="http://139.155.139.10:8090";o.SERVER_LIST_KEY="!toiphgsvFGUI56739",o.UP_AUDIO_URL="/upload/uploadAmr",o.HTTP_TIME_OUT=1e4,o.HTTP_RECONNECT_COUNT=3,o.HTTP_ASYNC=!0,o.APP_VERSION="1.0.1",o.USE_AUTO_VERSION=!0,o.LOADING_TIME_OUT=30,o.LOADING_CONTENT_CHANGE_INTERVAL=3,o.LOAD_VIEW_TIME_OUT=20,o.LOAD_VIEW_DELAY=.1,o.RECONNECT_TIME_OUT=30,o.MAX_INBACKGROUND_TIME=60,o.MIN_INBACKGROUND_TIME=5,o.BUNDLES=[{sort:t.resources,type:i.resources,name:{CN:"主包",EN:"Main"},bundle:n[i.resources]},{sort:t.hall,type:i.hall,name:{CN:"大厅",EN:"Hall"},bundle:n[i.hall]},{sort:t.chexuan,type:i.chexuan,name:{CN:"扯旋",EN:"CheXuan"},bundle:n[i.chexuan]},{sort:t.room,type:i.room,name:{CN:"俱乐部",EN:"Room"},bundle:n[i.room]}],o.LAYERS=a(m);let r;(r||(r=o.Room||(o.Room={}))).ROOM_NUMBER_LENGTH=20}(c||(c=o("Config",{}))),function(o){o[o.Game=0]="Game",o[o.Chat=1]="Chat",o[o.Lobby=2]="Lobby"}(l||(l=o("NetPriority",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigApi.ts",["cc","./Config.ts","./ConfigInfo.ts","./BaseApi.ts"],(function(t){"use strict";var n,e,i,a,o;return{setters:[function(t){n=t.cclegacy},function(t){e=t.Config},function(t){i=t.ConfigInfoEn,a=t.EmConfigData},function(t){o=t.default}],execute:function(){n._RF.push({},"932f0KjRYlH3omujEkcXwDg","ConfigApi",void 0);t("default",class extends o{getPackage(){return new Promise(((t,n)=>{this.post("getPackage",{version:e.APP_VERSION}).then((n=>{n.data&&i.setConfig(a.PACKAGE,n.data),t(n)})).catch((t=>{n(t)}))}))}reqConfigs(){return new Promise(((t,n)=>{this.post("/index/index",{}).then((n=>{n.data&&(i.setConfig(a.CONFIG,n.data.config),n.data.config=null,i.setConfig(a.CONFIG_NOTICE,n.data),i.setConfig(a.CONFIG_GIFT,n.data.gift)),t(n.data)})).catch((t=>{n(t)}))}))}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigInfo.ts",["cc","./BaseData.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.default}],execute:function(){t("EmConfigData",void 0),n._RF.push({},"d6dd4unsrtJDYSx3Mu5AKvc","ConfigInfo",void 0);class s extends e{constructor(){super()}setConfig(t,n){this.setData(t,n)}getConfig(t){return this.getData(t)}clearConfig(t){this.setData(t,null)}clear(){this.clearData()}}let a;s.instance=new s,function(t){t.PACKAGE="PACKAGE",t.CONFIG="CONFIG",t.CONFIG_NOTICE="CONFIG_NOTICE",t.GAME_NOTICE="GAME_NOTICE",t.CONFIG_ROOM="CONFIG_ROOM",t.CONFIG_GIFT="CONFIG_GIFT",t.WALLET_RECHARGE="WALLET_RECHARGE",t.WALLET_WITHDRAW="WALLET_WITHDRAW"}(a||(a=t("EmConfigData",{})));t("ConfigInfoEn",s.instance);n._RF.pop()}}}));

System.register("chunks:///_virtual/CustomerService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts"],(function(e){"use strict";var t,i,r,s,n,o,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,s=e.Node,n=e.WebView,o=e._decorator},function(e){a=e.default},function(e){c=e.inject}],execute:function(){var u,l,h,b,p,w,d;r._RF.push({},"c8042+WYj1FTpTgHwM4TAXf","CustomerService",void 0);const{ccclass:f,property:g}=o;e("CustomerService",(u=f("CustomerService"),l=c("safeArea/topLayout/btnBack",s),h=c("safeArea/content/WebView",n),u((w=t((p=class extends a{constructor(...e){super(...e),i(this,"btnBack",w,this),i(this,"webView",d,this)}static getPrefabUrl(){return"common/prefabs/CustomerService"}onLoad(){super.onLoad(),this.webView.node.active=!1}addEvents(){this.onN(this.btnBack,s.EventType.TOUCH_END,this.onBtnBack,this)}onShow(){Log.d("[CustomerService]",this.args),this.args&&this.args.url&&(this.webView.node.active=!0,this.args.uid&&this.args.uname?this.webView.url=this.args.url+`?uid=${this.args.uid}&uname=${this.args.uname}`:this.webView.url=this.args.url)}onBtnBack(){this.close()}}).prototype,"btnBack",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(p.prototype,"webView",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=p))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/DataCenter.ts",["cc","./SingletonT.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.SingletonT}],execute:function(){e._RF.push({},"39dddWDYJJE9aqb6DTOKM/X","DataCenter",void 0);class s extends n{constructor(...t){super(...t),this.module=null}}t("DataCenter",s),s.module="【数据中心】",e._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,s,l,r,h,g,a,c,p,C,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,s=t._decorator,l=t.Component,r=t.Color,h=t.Canvas,g=t.UITransform,a=t.instantiate,c=t.Label,p=t.RichText,C=t.Toggle,d=t.Button,m=t.director}],execute:function(){var u,T,L,M,b,f,x,E,S;i._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);const{ccclass:v,property:I}=s;t("DebugViewRuntimeControl",(u=v("internal.DebugViewRuntimeControl"),T=I(n),L=I(n),M=I(n),u((x=e((f=class extends l{constructor(...t){super(...t),o(this,"compositeModeToggle",x,this),o(this,"singleModeToggle",E,this),o(this,"EnableAllCompositeModeButton",S,this),this._single=0,this.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct TRT","Env TRT","TRT All","Fog"],this.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","TRT","TT"],this.strMisc=["CSM Layer Coloration","Lighting With Albedo"],this.compositeModeToggleList=[],this.singleModeToggleList=[],this.miscModeToggleList=[],this.textComponentList=[],this.labelComponentList=[],this.textContentList=[],this.hideButtonLabel=void 0,this._currentColorIndex=0,this.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],this.color=[r.WHITE,r.BLACK,r.RED,r.GREEN,r.BLUE]}start(){if(!this.node.parent.getComponent(h))return void console.error("debug-view-runtime-control should be child of Canvas");const t=this.node.parent.getComponent(g),e=.5*t.width,o=.5*t.height;let i=.1*e-e,n=o-.1*o;const s=this.node.getChildByName("MiscMode"),l=a(s);l.parent=this.node,l.name="Buttons";const m=a(s);m.parent=this.node,m.name="Titles";for(let t=0;t<2;t++){const e=a(this.EnableAllCompositeModeButton.getChildByName("Label"));e.setPosition(i+(t>0?450:150),n,0),e.setScale(.75,.75,.75),e.parent=m;const o=e.getComponent(c);o.string=t?"----------Composite Mode----------":"----------Single Mode----------",o.color=r.WHITE,o.overflow=0,this.labelComponentList[this.labelComponentList.length]=o}n-=20;let u=0;for(let t=0;t<this.strSingle.length;t++,u++){t===this.strSingle.length>>1&&(i+=200,u=0);const e=t?a(this.singleModeToggle):this.singleModeToggle;e.setPosition(i,n-20*u,0),e.setScale(.5,.5,.5),e.parent=this.singleModeToggle.parent;const o=e.getComponentInChildren(p);o.string=this.strSingle[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string,e.on(C.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[t]=e}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(d.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;let T=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=T;const L=a(this.EnableAllCompositeModeButton);L.setPosition(i+90,n,0),L.setScale(.5,.5,.5),L.on(d.EventType.CLICK,this.changeTextColor,this),L.parent=l,T=L.getComponentInChildren(c),T.string="TextColor",this.labelComponentList[this.labelComponentList.length]=T;const M=a(this.EnableAllCompositeModeButton);M.setPosition(i+200,n,0),M.setScale(.5,.5,.5),M.on(d.EventType.CLICK,this.hideUI,this),M.parent=this.node.parent,T=M.getComponentInChildren(c),T.string="Hide UI",this.labelComponentList[this.labelComponentList.length]=T,this.hideButtonLabel=T,n-=40;for(let t=0;t<this.strMisc.length;t++){const e=a(this.compositeModeToggle);e.setPosition(i,n-20*t,0),e.setScale(.5,.5,.5),e.parent=s;const o=e.getComponentInChildren(p);o.string=this.strMisc[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string;e.getComponent(C).isChecked=!!t,e.on(C.EventType.TOGGLE,t?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[t]=e}n-=150;for(let t=0;t<this.strComposite.length;t++){const e=t?a(this.compositeModeToggle):this.compositeModeToggle;e.setPosition(i,n-20*t,0),e.setScale(.5,.5,.5),e.parent=this.compositeModeToggle.parent;const o=e.getComponentInChildren(p);o.string=this.strComposite[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string,e.on(C.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[t]=e}}isTextMatched(t,e){let o=new String(t);const i=o.search(">");return-1===i?t===e:(o=o.substr(i+1),o=o.substr(0,o.search("<")),o===e)}toggleSingleMode(t){const e=m.root.debugView,o=t.getComponentInChildren(p);for(let t=0;t<this.strSingle.length;t++)this.isTextMatched(o.string,this.strSingle[t])&&(e.singleMode=t)}toggleCompositeMode(t){const e=m.root.debugView,o=t.getComponentInChildren(p);for(let i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)}toggleLightingWithAlbedo(t){m.root.debugView.lightingWithAlbedo=t.isChecked}toggleCSMColoration(t){m.root.debugView.csmLayerColoration=t.isChecked}enableAllCompositeMode(t){const e=m.root.debugView;e.enableAllCompositeMode(!0);for(let t=0;t<this.compositeModeToggleList.length;t++){this.compositeModeToggleList[t].getComponent(C).isChecked=!0}let o=this.miscModeToggleList[0].getComponent(C);o.isChecked=!1,e.csmLayerColoration=!1,o=this.miscModeToggleList[1].getComponent(C),o.isChecked=!0,e.lightingWithAlbedo=!0}hideUI(t){const e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"}changeTextColor(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(let t=0;t<this.textComponentList.length;t++)this.textComponentList[t].string=this.strColor[this._currentColorIndex]+this.textContentList[t]+"</color>";for(let t=0;t<this.labelComponentList.length;t++)this.labelComponentList[t].color=this.color[this._currentColorIndex]}onLoad(){}update(t){}}).prototype,"compositeModeToggle",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(f.prototype,"singleModeToggle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(f.prototype,"EnableAllCompositeModeButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/DebugView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Enums.ts","./Singleton.ts","./Macros.ts"],(function(e){"use strict";var t,n,i,o,s,r,g,h,a,d,l,u,p,c,b,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Node,s=e._decorator,r=e.Input,g=e.find,h=e.Toggle,a=e.profiler,d=e.screen,l=e.view},function(e){u=e.default},function(e){p=e.inject},function(e){c=e.LogLevel},function(e){b=e.Singleton},function(e){w=e.Macro}],execute:function(){var v,S,E,L,M,f,A,D,y,V,z;i._RF.push({},"c0535WAUCFLAaS7ODYfqrlE","DebugView",void 0);const{ccclass:m,property:C}=s;e("DebugView",(v=m("DebugView"),S=p("logView",o),E=p("content",o),L=p("background",o),M=p("background",o,"logView"),v((D=t((A=class extends u{constructor(...e){super(...e),n(this,"logView",D,this),n(this,"content",y,this),n(this,"background",V,this),n(this,"logViewBackground",z,this),this.debug=null}onLoad(){super.onLoad(),this.bindEvent("showUI",this.onShowUI),this.bindEvent("showNode",this.onShowNode),this.bindEvent("showRes",this.onShowRes),this.bindEvent("showComponent",this.onShowComp),this.bindEvent("showDebugInfo",this.onShowDebugInfo),this.bindEvent("log",this.onLog),this.bindEvent("logic",this.onLogicManager),this.bindEvent("dataCenter",this.onDataCenter),this.bindEvent("entry",this.onEntry),this.bindEvent("proto",this.onProto),this.bindEvent("bundleMgr",this.onBundleMgr),this.bindEvent("pool",this.onPool),this.bindEvent("sender",this.onSender),this.bindEvent("handler",this.onHandler),this.bindEvent("serviceManager",this.onServiceManager),this.bindEvent("hotupdate",this.onHotUpdate),this.bindEvent("lowMemory",this.onLowMemory),this.bindEvent("releaseManager",this.onReleaseManager),this.bindEvent("adaptor",this.onAdaptor),this.bindEvent("singleton",this.onSingleton),this.doOther()}doOther(){this.logView&&(this.logView.active=!1,this.initLogView()),this.onN(this.background,r.EventType.TOUCH_END,(()=>{this.node.active=!1,this.debug&&(this.debug.active=!0)}))}bindEvent(e,t){let n=g(e,this.content);this.onN(n,r.EventType.TOUCH_END,t)}initLogView(){this.onN(this.logViewBackground,r.EventType.TOUCH_END,(()=>{this.logView.active=!1}));let e=g("level",this.logView);if(e)for(let t=0;t<e.children.length-1;t++){let n=g(`type${t}`,e);if(n){let e=n.getComponent(h);e&&(e.isChecked=App.logger.isValid(this.getLogLevel(t))),this.onN(n,"toggle",(e=>{e.isChecked?App.logger.attach(this.getLogLevel(t)):App.logger.detach(this.getLogLevel(t))}))}}}getLogLevel(e){switch(e){case 0:return c.DEBUG;case 1:return c.WARN;case 2:return c.ERROR;case 3:return c.DUMP;default:return c.DEBUG}}onLogicManager(){App.logicManager.debug()}onDataCenter(){App.dataCenter.debug()}onEntry(){App.entryManager.debug()}onProto(){App.protoManager.debug()}onBundleMgr(){App.bundleManager.debug()}onPool(){App.pool.debug()}onLog(){this.logView.active=!0}onShowDebugInfo(){a.isShowingStats()?a.hideStats():a.showStats(),App.storage.setItem(w.SHOW_DEBUG_INFO_KEY,a.isShowingStats())}onShowUI(){App.uiManager.debug()}onShowNode(){App.layerMgr.debug({showChildren:!0})}onShowRes(){App.cache.debug()}onShowComp(){App.layerMgr.debug({showComp:!0})}onSender(){App.senderManager.debug()}onHandler(){App.handlerManager.debug()}onServiceManager(){App.serviceManager.debug()}onHotUpdate(){App.updateManager.debug()}onLowMemory(){App.onLowMemory()}onReleaseManager(){App.releaseManger.debug()}onAdaptor(){Log.d("-----------------------------适配信息-----------------------------------------------"),Log.d(`屏幕分辨率: ${d.windowSize.width} x ${d.windowSize.height}`),Log.d(`视图窗口可见区域分辨率: ${l.getVisibleSize().width} x ${l.getVisibleSize().height}`),Log.d(`视图中边框尺寸: ${d.windowSize.width} x ${d.windowSize.height}`),Log.d(`设备或浏览器像素比例: ${d.devicePixelRatio}`),Log.d(`返回视图窗口可见区域像素尺寸: ${l.getVisibleSizeInPixel().width} x ${l.getVisibleSizeInPixel().height}`),Log.d(`当前场景设计分辨率: ${l.getDesignResolutionSize().width} x ${l.getDesignResolutionSize().height}`);let e=d.windowSize.width/d.windowSize.height,t=l.getDesignResolutionSize().width/l.getDesignResolutionSize().height;Log.d(`视图宽高比:${e}`),Log.d(`设置分辨率宽高比:${t}`)}onSingleton(){b.debug()}}).prototype,"logView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(A.prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(A.prototype,"background",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(A.prototype,"logViewBackground",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=A))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/Decorators.ts",["cc","./Singleton.ts"],(function(e){"use strict";var t,n,r,o,l,i,f;return{setters:[function(e){t=e.cclegacy,n=e.Component,r=e.isValid,o=e.find,l=e.js,i=e.Node},function(e){f=e.Singleton}],execute:function(){e({inject:function(){if("string"==typeof arguments[0]){let e;return arguments.length>=3&&(e=arguments[2]),a(arguments[0],arguments[1],e)}{let e=arguments[0];return g(e.type,e.name)}},registerEntry:function(e,t,n){return function(r){if("object"==typeof App)r.__classname__=e,r.bundle=t,App.entryManager.register(r,n);else{"undefined"==typeof WaitToApp&&(WaitToApp={},window.WaitToApp=WaitToApp),WaitToApp.entrys||(WaitToApp.entrys={});let o=`${e}|${t}`;WaitToApp.entrys[o]||(WaitToApp.entrys[o]={target:r,type:n})}}}}),t._RF.push({},"79becuRyZJMkYDHY8CyWds7","Decorators",void 0);const p="_FIND_OPTIONS_";function c(e,t,r){let i=o(e,t);if(l.isChildClassOf(r,n)){return null==i?void 0:i.getComponent(r)}return i}function a(e,t,o){return function(l,f){if(!(l instanceof n))return void Log.e("无法注入,仅支持 Component 组件");let a=l;if(!Reflect.has(l,p)){let e=a.onLoad;a.onLoad=function(){let t=this,n=Reflect.get(t,p);for(let e in n){let o=Reflect.get(n,e);Reflect.get(t,o.member)||Reflect.defineProperty(t,o.member,{enumerable:!0,configurable:!0,get(){let n=t.node;if(o.root){let e=`__${o.root.replace(/\//g,"_")}`;r(t[e])||(t[e]=c(o.root,n,i)),n=t[e]}return r(t[e])||(t[e]=c(o.path,n,o.type)),t[e]},set(n){t[e]=n}})}e&&Reflect.apply(e,this,arguments)};let t=a.onDestroy;a.onDestroy=function(){let e=this,n=Reflect.get(e,p);for(let t in n){let r=Reflect.get(n,t);Reflect.deleteProperty(e,r.member)}t&&Reflect.apply(t,this,arguments)},Reflect.defineProperty(l,p,{value:{}})}let s={path:e,type:t,member:f,root:o},g=`__${f}`,u=Reflect.get(l,p);Reflect.defineProperty(u,g,{value:s,enumerable:!0})}}const s="__MEMBER_INJECT__";function g(e,t){return function(n,r){let o=n,l=o.onLoad;if(!l)return void Log.e("无法注入");if(!Reflect.has(n,s)){o.onLoad=function(){let e=this,t=Reflect.get(e,s);for(let n in t){const r=Reflect.get(t,n);Reflect.get(e,r.member)||Reflect.defineProperty(e,r.member,{enumerable:!0,configurable:!0,get:()=>"logic"==r.tag?App.logicManager.get(r.type,!1):"singleton"==r.tag?f.get(r.type,!1):"data"==r.tag?App.dataCenter.get(r.type,!1):"service"==r.tag?App.serviceManager.get(r.type,!1):"handler"==r.tag?App.handlerManager.get(r.type,!1):"sender"==r.tag?App.senderManager.get(r.type,!1):void 0})}l&&Reflect.apply(l,this,arguments)};let e=o.onDestroy;o.onDestroy=function(){let t=this,n=Reflect.get(t,s);for(let e in n){let r=Reflect.get(n,e);Reflect.deleteProperty(t,r.member)}e&&Reflect.apply(e,this,arguments)},Reflect.defineProperty(n,s,{value:{}})}let i={type:e,member:r,tag:t},p=`__member_inject_${r}`,c=Reflect.get(n,s);Reflect.defineProperty(c,p,{value:i,enumerable:!0})}}t._RF.pop()}}}));

System.register("chunks:///_virtual/DefaultCodec.ts",["cc","./Macros.ts","./ByteArray.ts","./Message.ts"],(function(e){"use strict";var t,n,i,s;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Macro},function(e){i=e.ByteArray},function(e){s=e.Codec}],execute:function(){t._RF.push({},"8edff39/nxOT6WieRg4wCeT","DefaultCodec",void 0);e("DefaultCodec",class extends s{constructor(...e){super(...e),this.mainCmd=0,this.subCmd=0,this.buffer=null,this.headerSize=3*Uint32Array.BYTES_PER_ELEMENT}pack(e){this.mainCmd=e.mainCmd,this.subCmd=e.subCmd;let t=0;e.buffer&&(t=e.buffer.length);let s=new i;if(s.endian=n.USING_LITTLE_ENDIAN,s.writeUnsignedInt(this.mainCmd),s.writeUnsignedInt(this.subCmd),s.writeUnsignedInt(t),e.buffer){let t=new i(e.buffer);s.writeBytes(t)}return this.buffer=s.bytes,!0}unPack(e){let t=new i(e.data);t.endian=n.USING_LITTLE_ENDIAN,this.mainCmd=t.readUnsignedInt(),this.subCmd=t.readUnsignedInt();let s=t.readUnsignedInt(),r=t.buffer.slice(t.position);return this.buffer=new Uint8Array(r),s==this.buffer.length}get cmd(){return String(this.mainCmd)+String(this.subCmd)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/Dispatcher.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"82b2bGzpDlKYpAzukovUhGW","Dispatcher",void 0);class c{static get instance(){return this._instance||(this._instance=new c)}constructor(){this._eventCaches=null,this.isResident=!0,this.module=null,this._eventCaches={}}destory(){c._instance=null}add(e,t,c,s){if(!e||!t||!c)return;let n=this._eventCaches[e]||[],i=!1;for(let e=0;e<n.length;e++)if(n[e].target===c){i=!0;break}if(i)return;let a={type:e,callback:t,target:c,once:s};n.push(a),this._eventCaches[e]=n}remove(e,t){if(!e||!t)return;let c=this._eventCaches[e];if(c){for(let e=0;e<c.length;e++)if(c[e].target===t){c.splice(e,1);break}0==c.length&&delete this._eventCaches[e]}}dispatch(){if(arguments.length<1)return;let e=arguments[0];if(!e)return;Array.prototype.shift.apply(arguments);let t=this._eventCaches[e];if(!t)return;let c=[];for(let e=0;e<t.length;e++){let s=t[e];try{"object"==typeof Reflect?Reflect.apply(s.callback,s.target,arguments):s.callback.apply(s.target,arguments),s.once&&c.push(s)}catch(e){Log.e(e)}}for(let e=0;e<c.length;e++){const t=c[e];this.remove(t.type,t.target)}}}e("Dispatcher",c),c._instance=null,c.module="【事件管理器】",window.dispatch=function(){App?Reflect.apply(App.dispatcher.dispatch,App.dispatcher,arguments):Reflect.apply(c.instance.dispatch,c.instance,arguments)},t._RF.pop()}}}));

System.register("chunks:///_virtual/DropDown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Config.ts"],(function(t){"use strict";var o,n,e,r,i,a,l,s,u,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){e=t.cclegacy,r=t.Node,i=t.v3,a=t.instantiate,l=t.Label},function(t){s=t.default},function(t){u=t.inject},function(t){p=t.Config}],execute:function(){var c,d,h,w,f,b,g,P,A;e._RF.push({},"0e254GN0L1PtKgMcZXoghnY","DropDown",void 0);t("default",(c=u("panel",r),d=u("arrow",r),h=u("panel/itemName",r),w=u("panel/content",r),b=o((f=class extends s{constructor(...t){super(...t),n(this,"dropdownPanel",b,this),n(this,"nArrow",g,this),n(this,"dropdownItem",P,this),n(this,"dropdownP",A,this),this.arrowBack=null}onLoad(){super.onLoad(),this.onN(this.nArrow,r.EventType.TOUCH_END,(()=>(App.globalAudio.playGlobalEffect(p.audioPath.button),this.showPanel(!this.dropdownPanel.active),!0))),this.dropdownPanel.active=!1,this.nArrow&&(this.arrowBack=this.nArrow.eulerAngles)}showPanel(t){App.globalAudio.playGlobalEffect(p.audioPath.button),this.nArrow&&(this.nArrow.eulerAngles=i(this.arrowBack.x,this.arrowBack.y,t?-180:0)),this.dropdownPanel.active=t}initDropDown(t,o){this.dropdownP.removeAllChildren(),t.forEach(((t,n)=>{const e=a(this.dropdownItem);e.getComponent(l).string=t,e.active=!0,this.dropdownP.addChild(e),this.onN(e,r.EventType.TOUCH_END,(()=>{App.globalAudio.playGlobalEffect(p.audioPath.button),this.showPanel(!1),o(t,n)}))}))}}).prototype,"dropdownPanel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=o(f.prototype,"nArrow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=o(f.prototype,"dropdownItem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=o(f.prototype,"dropdownP",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f));e._RF.pop()}}}));

System.register("chunks:///_virtual/emitter.js",["./cjs-loader.mjs"],(function(t,e){"use strict";var s;return{setters:[function(t){s=t.default}],execute:function(){let i;t("default",void 0);const r=t("__cjsMetaURL",e.meta.url);s.define(r,(function(e,s,r,n,c){function l(t){if(t)return function(t){for(var e in l.prototype)t[e]=l.prototype[e];return t}(t)}r.exports=l,window.EventEmitter=l,l.prototype.on=l.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},l.prototype.once=function(t,e){var s=this;function i(){s.off(t,i),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=l.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<i.length;r++)if((s=i[r])===e||s.fn===e){i.splice(r,1);break}return this},l.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),s=this._callbacks[t];if(s)for(var i=0,r=(s=s.slice(0)).length;i<r;++i)s[i].apply(this,e);return this},l.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},l.prototype.hasListeners=function(t){return!!this.listeners(t).length},i=t("default",r.exports)}),{})}}}));

System.register("chunks:///_virtual/Entry.ts",["cc","./ResourceLoader.ts","./Update.ts"],(function(e){"use strict";var t,n,a;return{setters:[function(e){t=e.cclegacy},function(e){n=e.default},function(e){a=e.Update}],execute:function(){t._RF.push({},"5aaf2lBMtdMrrl2N8Y5zFqB","Entry",void 0);e("EntryData",class{constructor(e){this.data=null,this.update=null,this.data=e,this.update=new a.Config(this.getLanguage(e.bundle),e.bundle)}get bundle(){return this.data.bundle}get language(){return this.update.name}get name(){return this.data.name}getLanguage(e){return`bundles.${e}`}});class i{set gameView(e){this._gameView=e}get gameView(){return this._gameView}constructor(){this.gameViewType=null,this.isMain=!1,this.bundle="",this.language=null,this.loader=null,this.node=null,this.isRunning=!1,this._gameView=null,this.loader=new n}onLoad(e){this.node=e,this.isRunning=!0}onDestroy(){this.isRunning=!1}onEnter(e){App.language.addDelegate(this.language),this.initData(),this.addNetHandler(),this.pauseMessageQueue(),this.loadResources((()=>{this.openGameView(e)}))}onUnloadBundle(){App.uiManager.closeBundleView(this.bundle),this.removeNetHandler(),this.unloadResources()}unloadResources(){this.loader.unLoadResources()}openGameView(e){App.uiManager.open({type:this.gameViewType,bundle:this.bundle,args:e})}closeGameView(){App.uiManager.close(this.gameViewType)}call(e,t){}onEnterGameView(e){this._gameView=e}onDestroyGameView(e){App.language.removeDelegate(this.language),this._gameView=null}onShowGameView(e){this._gameView=e}onCloseGameView(e){this._gameView=null}}e("Entry",i),i.bundle="",t._RF.pop()}}}));

System.register("chunks:///_virtual/EntryDelegate.ts",["cc","./Macros.ts"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.isValid},function(e){r=e.Macro}],execute:function(){t._RF.push({},"7195eD0dxVOmIS0HcmWhEaq","EntryDelegate",void 0);e("EntryDelegate",class{onEnterGameView(e,t){}closeCurEntryGameView(){let e=App.entryManager.getEntry(App.stageData.where);e&&n(e.gameView)&&e.gameView.close()}onShowGameView(e,t){let n=this.getPersistBundle();e&&n.push(e.bundle),this.closeCurEntryGameView(),App.stageData.where=e.bundle,App.bundleManager.removeLoadedBundle(n)}onCheckUpdate(){Log.d("主包检测更新");let e=this.getEntryConfig(r.BUNDLE_RESOURCES);App.bundleManager.enterBundle(e)}getPersistBundle(){return[r.BUNDLE_RESOURCES]}onEnterMain(e,t){e&&(this.closeCurEntryGameView(),e.onEnter(t))}getEntryConfig(e){return null}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/EntryImpl.ts",["cc","./EntryDelegate.ts","./Macros.ts","./Singleton.ts","./BundleUpdate.ts","./HallUpdate.ts","./MainUpdate.ts"],(function(t){"use strict";var e,n,a,r,l,u,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.EntryDelegate},function(t){a=t.Macro},function(t){r=t.Singleton},function(t){l=t.BundleUpdate},function(t){u=t.HallUpdate},function(t){i=t.MainUpdate}],execute:function(){e._RF.push({},"db279dsL0xIGIRItaz3wuPV","EntryImpl",void 0);t("EntryImpl",class extends n{onEnterGameView(t,e){}onShowGameView(t,e){super.onShowGameView(t,e),App.loading.hide()}getEntryConfig(t){let e=App.stageData.getEntry(t);if(e){let n=App.updateManager.getItem(e);return t==a.BUNDLE_RESOURCES?n.handler=r.get(i):t==a.BUNDLE_HALL?n.handler=r.get(u):n.handler=r.get(l),n}return Log.e("未找到入口配置信息"),null}getPersistBundle(){return[a.BUNDLE_RESOURCES,a.BUNDLE_HALL,a.BUNDLE_ClubRoom]}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/EntryManager.ts",["cc","./EntryDelegate.ts","./Macros.ts"],(function(e){"use strict";var t,n,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.EntryDelegate},function(e){o=e.Macro}],execute:function(){t._RF.push({},"654eacHc69Fm50EILZ/ggOz","EntryManager",void 0);class r{constructor(){this.module=null,this.isResident=!0,this._entrys=new Map,this.delegate=new n,this.node=null}register(e,t){let n=this.getEntry(e.bundle);n&&this._entrys.delete(e.bundle),n=new e,n.bundle=e.bundle,n.gameViewType=t,this._entrys.set(n.bundle,n),this.node&&n.onLoad(this.node)}onLoad(e){this.node=e,this._entrys.forEach(((e,t)=>{e.isRunning||(e.onLoad(this.node),e.isMain&&e.onEnter())}))}onDestroy(e){this._entrys.forEach((e=>{e.onDestroy()}))}onCheckUpdate(){this.delegate.onCheckUpdate()}call(e,t,...n){let o=this.getEntry(e);o&&o.call(t,n)}enterBundle(e,t,n){let r=this.delegate.getEntryConfig(e);if(r)if(Log.d("enterBundle",`找到配置，是否走热更流程：${JSON.stringify(r)}`),Log.d("enterBundle",`找到配置，是否走热更流程：${e}`),Log.d("enterBundle","找到配置，是否走热更流程：3"),e==o.BUNDLE_RESOURCES){let n=this.getEntry(e);Log.d("enterBundle","走的是资源主入口流程"),this.delegate.onEnterMain(n,t)}else Log.d("enterBundle","走的是 App.bundleManager 热更流程"),r.userData=t,App.bundleManager.enterBundle(r);else Log.d("enterBundle",`未找到配置：bundle = ${e}`)}backBundle(e){let t=App.stageData.prevWhere;t?this.enterBundle(t,e):Log.d(`${this.module}已经是最后一个场景，无法返回`)}onLoadBundleComplete(e){e.isLoaded=!0;let t=this.getEntry(e.bundle);t&&t.onEnter(e.userData)}onEnterGameView(e,t){let n=this.getEntry(e);n&&(this.delegate.onEnterGameView(n,t),n.onEnterGameView(t))}onDestroyGameView(e,t){let n=this.getEntry(e);n&&n.onDestroyGameView(t)}onShowGameView(e,t){let n=this.getEntry(e);n&&(this.delegate.onShowGameView(n,t),n.onShowGameView(t))}onCloseGameView(e,t){let n=this.getEntry(e);n&&n.onCloseGameView(t)}onUnloadBundle(e){let t=this.getEntry(e);t&&t.onUnloadBundle()}getEntry(e){let t=App.bundleManager.getBundleName(e),n=this._entrys.get(t);return n||null}debug(){Log.d("-------Bundle入口管理器-------"),this._entrys.forEach((e=>{Log.d(`bundle : ${e.bundle}`)}))}}e("EntryManager",r),r.module="【入口管理器】",t._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){let i,r,n;e({ButtonSpriteType:void 0,LogLevel:void 0,ViewStatus:void 0}),t._RF.push({},"c707eh19D1BR5w4mqFeKK/+","Enums",void 0),function(e){e[e.DEBUG=1]="DEBUG",e[e.DUMP=16]="DUMP",e[e.WARN=256]="WARN",e[e.ERROR=4096]="ERROR",e[e.ALL=4369]="ALL"}(i||(i=e("LogLevel",{}))),function(e){e[e.WAITTING_CLOSE=0]="WAITTING_CLOSE",e[e.WATITING_HIDE=1]="WATITING_HIDE",e[e.WAITTING_NONE=2]="WAITTING_NONE"}(r||(r=e("ViewStatus",{}))),function(e){e.Norml="normalSprite",e.Pressed="pressedSprite",e.Hover="hoverSprite",e.Disable="disabledSprite"}(n||(n=e("ButtonSpriteType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/EventComponent.ts",["cc","./EventProcessor.ts"],(function(t){"use strict";var e,o,n,s;return{setters:[function(t){e=t.cclegacy,o=t.Component,n=t._decorator},function(t){s=t.EventProcessor}],execute:function(){var c;e._RF.push({},"9cde5GFThVAMr5vKTrRR3M4","EventComponent",void 0);const{ccclass:i,property:r}=n;t("default",i(c=class extends o{constructor(...t){super(...t),this._eventProcessor=new s,this.customEventMap={}}onCustom(t,e){let o=e.bind(this);this.customEventMap[t]=o,App.event.onCustom(t,o)}offCustom(t){if(this.customEventMap.hasOwnProperty(t)){const e=this.customEventMap[t];App.event.offCustom(t,e),delete this.customEventMap[t]}}offAllCustomEvent(){for(const t in this.customEventMap)this.offCustom(t)}on(t){t.target||(t.target=this),this._eventProcessor.on(t)}once(t){t.target||(t.target=this),this._eventProcessor.once(t)}off(t){t.target||(t.target=this),this._eventProcessor.off(t)}onD(t,e){this.on({bind:"Dispatcher",type:t,cb:e})}onceD(t,e){this.once({bind:"Dispatcher",type:t,cb:e})}offD(t){this.off({bind:"Dispatcher",type:t})}onG(t,e){this.on({bind:"Game",type:t,cb:e})}onceG(t,e){this.once({bind:"Game",type:t,cb:e})}offG(t,e){this.off({bind:"Game",type:t,cb:e})}onI(t,e){this.on({bind:"Input",type:t,cb:e})}onceI(t,e){this.once({bind:"Input",type:t,cb:e})}offI(t,e){this.off({bind:"Input",type:t,cb:e})}onN(t,e,o,n,s){this.on({bind:"Node",type:e,cb:o,target:n,useCapture:s,node:t})}onceN(t,e,o,n,s){this.once({bind:"Node",type:e,cb:o,target:n,useCapture:s,node:t})}offN(t,e,o,n,s){this.off({bind:"Node",type:e,cb:o,target:n,useCapture:s,node:t})}addEvents(){this.offAllCustomEvent()}onLoad(){this.addEvents()}onDestroy(){this.offAllCustomEvent(),this._eventProcessor.onDestroy()}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventEmitter.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"137c4MUtA9DBqjzfTw43/z4","EventEmitter",void 0);class n{constructor(){this.mEventMaps={}}getFuncsNoNull(t){return this.mEventMaps[t]||[]}on(t,e,n){const s=this.getFuncsNoNull(t);this.mEventMaps[t]=s,s.push({type:"REPEAT",func:e,target:n})}once(t,e,n){const s=this.getFuncsNoNull(t);this.mEventMaps[t]=s,s.push({type:"ONE",func:e,target:n})}emit(t,...e){const n=this.mEventMaps[t],s=[];null==n||n.forEach((t=>{"ONE"===t.type&&s.push(t),t.func(...e)})),s.forEach((t=>{const e=null==n?void 0:n.indexOf(t);void 0!==e&&-1!==e&&(null==n||n.splice(e,1))}))}off(t,e,n){if(!e)return void(this.mEventMaps[t]=[]);const s=this.mEventMaps[t],i=[];null==s||s.forEach((t=>{t.func===e&&t.target==n&&i.push(t)})),i.forEach((t=>{const e=null==s?void 0:s.indexOf(t);void 0!==e&&-1!==e&&(null==s||s.splice(e,1))}))}targetOff(t){for(let e in this.mEventMaps){const n=[],s=this.mEventMaps[e];null==s||s.forEach((e=>{e.target==t&&n.push(e)})),n.forEach((t=>{const e=null==s?void 0:s.indexOf(t);void 0!==e&&-1!==e&&(null==s||s.splice(e,1))}))}}offAll(){for(const t in this.mEventMaps)Object.prototype.hasOwnProperty.call(this.mEventMaps,t)&&this.off(t);this.mEventMaps={}}clear(){this.offAll()}eventNames(){return Object.keys(this.mEventMaps)}listenerCount(t){var e;return(null==(e=this.mEventMaps[t])?void 0:e.length)||0}listenerCountAll(){let t=0;for(const e in this.mEventMaps)Object.prototype.hasOwnProperty.call(this.mEventMaps,e)&&(t+=this.listenerCount(e));return t}}t("default",n),window.EventEmitter=n,e._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.EventTarget,s=t.cclegacy}],execute:function(){s._RF.push({},"b362eGOyy9M8aiiNRfD/qAm","EventManager",void 0);class n{constructor(){this.module=null,this.isResident=!1,this._eventT=new e,this.customEventMap=new Map}onCustom(t,e){var s;this.customEventMap.has(t)||this.customEventMap.set(t,[]),null==(s=this.customEventMap.get(t))||s.push(e)}offCustom(t,e){if(this.customEventMap.has(t)){const s=this.customEventMap.get(t);s&&this.customEventMap.set(t,s.filter((t=>t!==e)))}}emitCustom(t,...e){Log.d("[自定义消息] 广播:",t,...e);const s=this.customEventMap.get(t);s&&s.forEach((t=>{t(...e)}))}on(t,e,s){this._eventT.on(t,e,s||this,!1)}once(t,e,s){this._eventT.on(t,e,s,!0)}emit(t,...e){this._eventT.emit(t,...e)}offTarget(t,e){this._eventT.off(t)}off(t){this._eventT.off(t)}offAll(){this._eventT=new e}init(...t){}destory(...t){}clear(...t){}debug(...t){}}t("default",n),n.module="【事件管理器】",s._RF.pop()}}}));

System.register("chunks:///_virtual/EventProcessor.ts",["cc"],(function(t){"use strict";var e,s,n,o;return{setters:[function(t){e=t.cclegacy,s=t.game,n=t.input,o=t.isValid}],execute:function(){e._RF.push({},"9b4a8lMol1JU4rkKbyLB54R","EventProcessor",void 0);t("EventProcessor",class{constructor(){this._eventsD=new Map,this._eventsG=[],this._eventsI=[]}onD(t,e){this.on({bind:"Dispatcher",type:t,cb:e})}onceD(t,e){this.once({bind:"Dispatcher",type:t,cb:e})}offD(t){this.off({bind:"Dispatcher",type:t})}onG(t,e){this.on({bind:"Game",type:t,cb:e})}onceG(t,e){this.once({bind:"Game",type:t,cb:e})}offG(t,e){this.off({bind:"Game",type:t,cb:e})}onI(t,e){this.on({bind:"Input",type:t,cb:e})}onceI(t,e){this.once({bind:"Input",type:t,cb:e})}offI(t,e){this.off({bind:"Input",type:t,cb:e})}onN(t,e,s,n,o){this.on({bind:"Node",type:e,cb:s,target:n,useCapture:o,node:t})}onceN(t,e,s,n,o){this.once({bind:"Node",type:e,cb:s,target:n,useCapture:o,node:t})}offN(t,e,s,n,o){this.off({bind:"Node",type:e,cb:s,target:n,useCapture:o,node:t})}addEvents(){}onLoad(...t){this.addEvents()}onDestroy(...t){this._cleanD(),this._cleanG(),this._cleanI(),this._cleanN()}on(t){switch(t.bind){case"Dispatcher":this._onD(t);break;case"Game":this._onG(t);break;case"Input":this._onI(t);break;case"Node":this._onN(t);break;default:Log.e(`on ${t.bind} 未知事件类型`)}}once(t){t.once=!0,this.on(t)}off(t){switch(t.bind){case"Dispatcher":this._offD(t);break;case"Game":this._offG(t);break;case"Input":this._offI(t);break;case"Node":this._offN(t);break;default:Log.e(`off ${t.bind} 未知事件类型`)}}_onD(t){t.target||(t.target=this),this._eventsD.has(t.type)?Log.e(`${t.type} 重复注册`):(App.dispatcher.add(t.type,t.cb,t.target,t.once),this._eventsD.set(t.type,t))}_offD(t){t.target||(t.target=this),this._eventsD.has(t.type)&&(App.dispatcher.remove(t.type,t.target),this._eventsD.delete(t.type))}_cleanD(){this._eventsD.forEach(((t,e)=>{App.dispatcher.remove(t.type,t.target)})),this._eventsD.clear()}_onG(t){t.target||(t.target=this),s.hasEventListener(t.type,t.cb,t.target)||(s.on(t.type,t.cb,t.target,t.once),this._eventsG.push(t))}_offG(t){t.target||(t.target=this),s.off(t.type,t.cb,t.target);for(let e=0;e<this._eventsG.length;e++){const s=this._eventsG[e];if(s.type==t.type&&s.cb==t.cb&&s.target==s.target){this._eventsG.splice(e,1);break}}}_cleanG(){for(let t=0;t<this._eventsG.length;t++){const e=this._eventsG[t];s.off(e.type,e.cb,e.target)}this._eventsG=[]}_onI(t){t.target||(t.target=this),this._has(this._eventsI,t)||(t.once?n.once(t.type,t.cb,t.target):n.on(t.type,t.cb,t.target),this._eventsI.push(t))}_offI(t){t.target||(t.target=this),n.off(t.type,t.cb,t.target);for(let e=0;e<this._eventsI.length;e++){const s=this._eventsI[e];if(s.type==t.type&&s.cb==t.cb&&s.target==s.target){this._eventsI.splice(e,1);break}}}_cleanI(){for(let t=0;t<this._eventsI.length;t++){const e=this._eventsI[t];n.off(e.type,e.cb,e.target)}this._eventsI=[]}_onN(t){var e,s;(t.target||(t.target=this),o(t.node))&&(t.once?null==(e=t.node)||e.once(t.type,t.cb,t.target,t.useCapture):null==(s=t.node)||s.on(t.type,t.cb,t.target,t.useCapture))}_offN(t){var e;t.target||(t.target=this),o(t.node)&&(null==(e=t.node)||e.off(t.type,t.cb,t.target,t.useCapture))}_cleanN(){}_has(t,e){for(let s=0;s<t.length;s++){const n=t[s];if(n.type==e.type&&n.cb==e.cb&&n.target==e.target)return!0}return!1}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/FileUtils.ts",["cc"],(function(e){"use strict";var t,a,r,n;return{setters:[function(e){t=e.loader,a=e.Texture2D,r=e.SpriteFrame,n=e.cclegacy}],execute:function(){n._RF.push({},"df9adbJvmBMo7cFgAMlPolI","FileUtils",void 0);class o{static base64toFile(e,t){const a=e.replace(/^data:[^;]+;base64,/,"");try{const r=atob(a),n=new ArrayBuffer(r.length),o=new Uint8Array(n);for(let e=0;e<r.length;e++)o[e]=r.charCodeAt(e);const s=e.match(/^data:(.*?);/)[1],l=new Blob([o],{type:s});return new File([l],t,{type:s})}catch(e){return console.error("Error decoding base64 string:",e),null}}static uploadImage(e){const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=t=>{const a=t.target.files[0],r=new FileReader;r.onload=t=>{const a=t.target.result,r=o.base64toFile(a,"image.png");r&&(e(r),console.log(r))},r.readAsDataURL(a)},t.click()}static fileToSpriteFrame(e){return new Promise((t=>{const a=new FileReader;a.onload=e=>{var a;const r=null==(a=e.target)?void 0:a.result;t(o.base64ToSpriteFrame(r))},a.readAsDataURL(e)}))}static base64ToSpriteFrame(e){return new Promise((n=>{t.load({url:e,type:"png"},((e,t)=>{if(e)console.error("Failed to load image:",e);else{let e=new a;e.image=t;const o=new r;o.texture=e,n(o)}}))}))}static imageToBase64(e){for(var t,a="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=e.byteLength,o=n%3,s=n-o,l=0;l<s;l+=3)a+=r[(16515072&(t=e[l]<<16|e[l+1]<<8|e[l+2]))>>18]+r[(258048&t)>>12]+r[(4032&t)>>6]+r[63&t];return 1==o?a+=r[(252&(t=e[s]))>>2]+r[(3&t)<<4]+"==":2==o&&(a+=r[(16128&(t=e[s]<<8|e[s+1]))>>8]+r[(1008&t)>>4]+r[(15&t)<<2]+"="),"data:image/png;base64,"+a}}e("default",o),n._RF.pop()}}}));

System.register("chunks:///_virtual/FrameAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,s,o,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Sprite,s=t.SpriteFrame,o=t._decorator,a=t.Component,l=t.macro}],execute:function(){var p,u,h,c,m,b,g,y,f,d,v,F,S,z,A;r._RF.push({},"24de4ccU9dJUJG+uF17qhf9","FrameAnimation",void 0);const{ccclass:w,property:E,executeInEditMode:N}=o;t("FrameAnimation",(p=w("FrameAnimation"),u=E({type:[n]}),h=E({type:[s]}),c=E({type:[Boolean]}),m=E({type:[Number]}),b=E({type:[Boolean]}),g=E({type:[Number]}),p(y=N((d=e((f=class extends a{constructor(...t){super(...t),i(this,"targetSprite",d,this),i(this,"sprites",v,this),i(this,"playOnLoad",F,this),i(this,"interval",S,this),i(this,"loop",z,this),i(this,"loopNum",A,this)}get duration(){return this.loopTimes*this.interval}get loopTimes(){return this.sprites.length*this.loopNum}onEnable(){!this.targetSprite&&this.sprites.length>0&&(this.targetSprite.spriteFrame=this.sprites[0]),this.playOnLoad&&this.startAnim()}startAnim(){var t=0;this.loop?this.schedule((()=>{(t+=1)>=this.sprites.length&&(t=0),this.targetSprite.spriteFrame=this.sprites[t++]}),this.interval,l.REPEAT_FOREVER,this.interval):this.schedule((()=>{(t+=1)>=this.sprites.length&&(t=0),this.targetSprite.spriteFrame=this.sprites[t]}),this.interval,this.loopTimes,this.interval)}}).prototype,"targetSprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(f.prototype,"sprites",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(f.prototype,"playOnLoad",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=e(f.prototype,"interval",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.03}}),z=e(f.prototype,"loop",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=e(f.prototype,"loopNum",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),y=f))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Framework.ts",["cc","./Dispatcher.ts","./UIManager.ts","./LocalStorage.ts","./AssetManager.ts","./CacheManager.ts","./NodePoolManager.ts","./UpdateManager.ts","./BundleManager.ts","./CocosExtention.ts","./Language.ts","./Macros.ts","./ProtoManager.ts","./EntryManager.ts","./DataCenter.ts","./LogicManager.ts","./Logger.ts","./ServiceManager.ts","./ReleaseManager.ts","./HttpClient.ts","./Singleton.ts","./LayoutManager.ts","./SenderManager.ts","./HandlerManager.ts","./Utils2.ts","./CanvasHelper.ts","./Platform2.ts","./StageData.ts","./IAlert.ts","./ILoading.ts","./IUILoading.ts","./ITips.ts","./GlobalAudio.ts","./EntryImpl.ts","./LayerManager.ts"],(function(e){"use strict";var t,n,r,a,g,o,u,s,i,c,l,M,d,p,f,h,L,A,y,m,C,I,U,E,_,D,S,w,k,v,b,B,R,F,H;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Dispatcher},function(e){r=e.UIManager},function(e){a=e.LocalStorage},function(e){g=e._AssetManager},function(e){o=e.CacheManager},function(e){u=e.NodePoolManager},function(e){s=e.UpdateManager},function(e){i=e.BundleManager},function(e){c=e.CocosExtentionInit},function(e){l=e.Language},function(e){M=e.Macro},function(e){d=e.ProtoManager},function(e){p=e.EntryManager},function(e){f=e.DataCenter},function(e){h=e.LogicManager},function(e){L=e.LoggerImpl},function(e){A=e.ServiceManager},function(e){y=e.ReleaseManager},function(e){m=e.HttpClient},function(e){C=e.Singleton},function(e){I=e.LayoutManager},function(e){U=e.SenderManager},function(e){E=e.HandlerManager},function(e){_=e.Utils},function(e){D=e.CanvasHelper},function(e){S=e.Platform},function(e){w=e.StageData},function(e){k=e.IAlert},function(e){v=e.ILoading},function(e){b=e.IUILoading},function(e){B=e.ITips},function(e){R=e.default},function(e){F=e.EntryImpl},function(e){H=e.default}],execute:function(){t._RF.push({},"1fa052sIW5GVb6Iw0KrOz1L","Framework",void 0);e("Framewok",class{constructor(){this._wssCacertUrl="",this._globalAudio=null,this._enterBackgroundTime=0}get isCacheUI(){return!0}get Bundles(){return this.stageData.bundles}get layerMgr(){return C.get(H)}get stageData(){return this.dataCenter.get(w)}get isFullScreenAdaption(){return!0}get isLazyRelease(){return!0}get isAutoReleaseUnuseResources(){return!0}get autoReleaseUnuseResourcesTimeout(){return 300}get releaseManger(){return C.get(y)}get serviceManager(){return C.get(A)}get senderManager(){return C.get(U)}get handlerManager(){return C.get(E)}get logger(){return C.get(L)}get logicManager(){return C.get(h)}get dataCenter(){return C.get(f)}get entryManager(){return C.get(p)}get utils(){return C.get(_)}get protoManager(){return C.get(d)}get bundleManager(){return C.get(i)}get updateManager(){return C.get(s)}get retainMemory(){return this.uiManager.retainMemory}get language(){return C.get(l)}get dispatcher(){return C.get(n)}get uiManager(){return C.get(r)}get localStorage(){return this.storage}get storage(){return C.get(a)}get assetManager(){return this.asset}get asset(){return C.get(g)}get cacheManager(){return this.cache}get cache(){return C.get(o)}get nodePoolManager(){return this.pool}get pool(){return C.get(u)}get http(){return C.get(m)}get layout(){return C.get(I)}get canvasHelper(){return C.get(D)}get platform(){return C.get(S)}set wssCacertUrl(e){this._wssCacertUrl=e}get wssCacertUrl(){return this._wssCacertUrl}get tips(){return C.get(B)}get uiLoading(){return C.get(b)}get alert(){return C.get(k)}get loading(){return C.get(v)}get updateLoading(){return C.get(v)}get uiReconnect(){return C.get(v)}get globalAudio(){return this._globalAudio||(this._globalAudio=this.uiManager.addComponent(R)),this._globalAudio}getLanguage(e,t=[],n=null){n||(n=M.BUNDLE_RESOURCES);let r=[];return r.push(`${M.USING_LAN_KEY}${n}.${e}`),r.push(...t),this.language.get(r)}init(){this.entryManager.delegate=new F,c()}onLowMemory(){this.releaseManger.onLowMemory()}onLoad(e){App.layerMgr.onLoad(e),App.uiManager.onLoad(e),App.serviceManager.onLoad(),App.entryManager.onLoad(e),App.releaseManger.onLoad(e)}update(e){}onDestroy(e){App.serviceManager.onDestroy(),App.entryManager.onDestroy(e),App.releaseManger.onDestroy(e),App.uiManager.onDestroy(e)}onEnterBackground(){this._enterBackgroundTime=Date.timeNow(),Log.d("[MainController]",`onEnterBackground ${this._enterBackgroundTime}`),App.globalAudio.onEnterBackground(),App.serviceManager.onEnterBackground()}onEnterForgeground(){let e=Date.timeNow(),t=e-this._enterBackgroundTime;Log.d("[MainController]",`onEnterForgeground ${e} background total time : ${t}`),App.globalAudio.onEnterForgeground(t),App.serviceManager.onEnterForgeground(t)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc","./Macros.ts"],(function(t){"use strict";var e,c;return{setters:[function(t){e=t.cclegacy},function(t){c=t.Macro}],execute:function(){e._RF.push({},"8e673CIf65NRKDZgD9dNfXR","GameData",void 0);class s{constructor(){this.module=""}init(...t){}destory(...t){}clear(...t){}debug(){Log.d(`${this.module}`)}}t("GameData",s),s.module=c.UNKNOWN,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameDefine.ts",["cc"],(function(e){"use strict";var i,s;return{setters:[function(e){i=e.cclegacy,s=e.Color}],execute:function(){let o,a,t,d,n,r,u,l;e({GamePrizeType:void 0,GroupType:void 0,OperateType:void 0,PokerCardId:void 0,PokerColorvalue:void 0,PokerRank:void 0,PokerSuit:void 0,SingleType:void 0}),i._RF.push({},"44771rKhwdIsoLiln39+Qxm","GameDefine",void 0),function(e){e[e.CardBei=0]="CardBei",e[e.AceSpades=1]="AceSpades",e[e.AceDiamonds=2]="AceDiamonds",e[e.AceHearts=3]="AceHearts",e[e.AceClubs=4]="AceClubs",e[e.TwoSpades=5]="TwoSpades",e[e.TwoDiamonds=6]="TwoDiamonds",e[e.TwoHearts=7]="TwoHearts",e[e.TwoClubs=8]="TwoClubs",e[e.ThreeSpades=9]="ThreeSpades",e[e.ThreeDiamonds=10]="ThreeDiamonds",e[e.ThreeHearts=11]="ThreeHearts",e[e.ThreeClubs=12]="ThreeClubs",e[e.FourSpades=13]="FourSpades",e[e.FourDiamonds=14]="FourDiamonds",e[e.FourHearts=15]="FourHearts",e[e.FourClubs=16]="FourClubs",e[e.FiveSpades=17]="FiveSpades",e[e.FiveDiamonds=18]="FiveDiamonds",e[e.FiveHearts=19]="FiveHearts",e[e.FiveClubs=20]="FiveClubs",e[e.SixSpades=21]="SixSpades",e[e.SixDiamonds=22]="SixDiamonds",e[e.SixHearts=23]="SixHearts",e[e.SixClubs=24]="SixClubs",e[e.SevenSpades=25]="SevenSpades",e[e.SevenDiamonds=26]="SevenDiamonds",e[e.SevenHearts=27]="SevenHearts",e[e.SevenClubs=28]="SevenClubs",e[e.EightSpades=29]="EightSpades",e[e.EightDiamonds=30]="EightDiamonds",e[e.EightHearts=31]="EightHearts",e[e.EightClubs=32]="EightClubs",e[e.NineSpades=33]="NineSpades",e[e.NineDiamonds=34]="NineDiamonds",e[e.NineHearts=35]="NineHearts",e[e.NineClubs=36]="NineClubs",e[e.TenSpades=37]="TenSpades",e[e.TenDiamonds=38]="TenDiamonds",e[e.TenHearts=39]="TenHearts",e[e.TenClubs=40]="TenClubs",e[e.JackSpades=41]="JackSpades",e[e.JackDiamonds=42]="JackDiamonds",e[e.JackHearts=43]="JackHearts",e[e.JackClubs=44]="JackClubs",e[e.QueenSpades=45]="QueenSpades",e[e.QueenDiamonds=46]="QueenDiamonds",e[e.QueenHearts=47]="QueenHearts",e[e.QueenClubs=48]="QueenClubs",e[e.KingSpades=49]="KingSpades",e[e.KingDiamonds=50]="KingDiamonds",e[e.KingHearts=51]="KingHearts",e[e.KingClubs=52]="KingClubs",e[e.JokerRed=54]="JokerRed",e[e.JokerBlack=53]="JokerBlack"}(o||(o=e("PokerCardId",{}))),function(e){e[e.Diamonds=0]="Diamonds",e[e.Clubs=1]="Clubs",e[e.Hearts=2]="Hearts",e[e.Spades=3]="Spades"}(a||(a=e("PokerSuit",{}))),function(e){e[e.Ace=1]="Ace",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine",e[e.Ten=10]="Ten",e[e.Jack=11]="Jack",e[e.Queen=12]="Queen",e[e.King=13]="King",e[e.JokerRed=16]="JokerRed",e[e.JokerBlack=15]="JokerBlack"}(t||(t=e("PokerRank",{}))),function(e){e[e.Red=1]="Red",e[e.Black=0]="Black"}(d||(d=e("PokerColorvalue",{})));e("Card",class{constructor(){this.color=void 0,this.point=void 0}});e("CardGroupTypes",class{constructor(){this.groupType=void 0,this.point=void 0,this.singleType=void 0}}),function(e){e[e.ZP=0]="ZP",e[e.XSL=0]="XSL",e[e.XY=1]="XY",e[e.ZS=2]="ZS",e[e.H=3]="H",e[e.R=4]="R",e[e.D=5]="D",e[e.T=6]="T"}(n||(n=e("SingleType",{}))),function(e){e[e.D=0]="D",e[e.DG=1]="DG",e[e.TG=2]="TG",e[e.TJW=3]="TJW",e[e.XSLD=4]="XSLD",e[e.XYD=5]="XYD",e[e.ZSD=6]="ZSD",e[e.HD=7]="HD",e[e.RD=8]="RD",e[e.DD=9]="DD",e[e.TD=10]="TD",e[e.DEH=11]="DEH",e[e.SH_10=30]="SH_10",e[e.SH_6=31]="SH_6"}(r||(r=e("GroupType",{}))),function(e){e[e.NONE=0]="NONE",e[e.DD=1]="DD",e[e.DD_KING=2]="DD_KING",e[e.SKY_KING=3]="SKY_KING",e[e.Ding_KING=4]="Ding_KING"}(u||(u=e("GamePrizeType",{}))),function(e){e[e.GEN=0]="GEN",e[e.QIAO=1]="QIAO",e[e.DA=2]="DA",e[e.XIU=3]="XIU",e[e.DIU=4]="DIU"}(l||(l=e("OperateType",{})));e("TableReplay",class{constructor(){this.record=void 0}});e("TableReplayRecord",class{constructor(){this.list=void 0,this.total=void 0,this.total_pool=void 0}});e("TableReplayRecordList",class{constructor(){this.round=void 0,this.mangoPool=void 0,this.prizePool=void 0,this.visible=void 0,this.records=void 0}});e("TableReplayRecordUser",class{constructor(){this.userId=void 0,this.avatar=void 0,this.name=void 0,this.sendCards=void 0,this.splitCards=void 0,this.xiu=void 0,this.lastOp=void 0,this.win=void 0,this.winMango=void 0,this.bet=void 0,this.betMango=void 0,this.headType=void 0,this.tailType=void 0,this.pull_sui=void 0,this.pullSui=void 0,this.winPool=void 0,this.isBanker=void 0}});e("CardGroupNameInfo",class{constructor(e,i,o){this.typeName=void 0,this.compPoint=void 0,this.color=void 0,this.typeName=e,this.compPoint=i||0,this.color=o||s.WHITE}});e("GameTableData",class{constructor(){this.tableId=void 0,this.pi=void 0,this.mango=void 0,this.raiseTimes=void 0,this.leastUsers=void 0,this.sitLeastTime=void 0,this.gameTime=void 0,this.remainTime=void 0,this.gpsip=void 0,this.diwang=void 0,this.tabaleState=void 0,this.maxIn=void 0,this.minIn=void 0,this.poolOpen=void 0}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/GameRecordDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./GameRecordItem.ts","./Utils.ts","./UserData.ts"],(function(t){"use strict";var e,i,a,r,n,o,s,l,h,c,u,p,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,r=t.Node,n=t.Label,o=t.ScrollView,s=t._decorator,l=t.instantiate},function(t){h=t.default},function(t){c=t.inject},function(t){u=t.GameRecordItem},function(t){p=t.default},function(t){b=t.UserDataEn}],execute:function(){var g,f,d,P,m,w,v,y,N,C,A,T,D,B,x,I,k,E,L,F,V,z,O,U,R,_,H,G,S;a._RF.push({},"ff0d6WmY7VN14hgo5hMYHCn","GameRecordDetails",void 0);const{ccclass:M,property:j}=s;t("GameRecordDetails",(g=M("GameRecordDetails"),f=c("safeArea/topLayout/news",r),d=c("safeArea/Top/txtPool",r),P=c("safeArea/Top/txtPoolValue",n),m=c("safeArea/List",o),w=c("safeArea/List/view/content",r),v=c("safeArea/Item",r),y=c("safeArea/Bottom/btnForceOpen",r),N=c("safeArea/Bottom/btnBackVideo",r),C=c("safeArea/Bottom/Page/btnLast",r),A=c("safeArea/Bottom/Page/btnNext",r),T=c("safeArea/Bottom/Page/btnPre",r),D=c("safeArea/Bottom/Page/btnFirst",r),B=c("safeArea/Bottom/Page/txtPageNum",n),g((k=e((I=class extends h{constructor(...t){super(...t),this.userApi=App.apis.user,i(this,"back",k,this),i(this,"txtPool",E,this),i(this,"txtPoolValue",L,this),i(this,"scrollView",F,this),i(this,"itemParent",V,this),i(this,"itemPrefab",z,this),i(this,"btnForceOpen",O,this),i(this,"btnBackVideo",U,this),i(this,"btnLast",R,this),i(this,"btnNext",_,this),i(this,"btnPre",H,this),i(this,"btnFirst",G,this),i(this,"txtPageNum",S,this),this.totalPage=0,this.crtPage=0,this.gameId=0,this.forceShow=0,this.tableInfo=null}static getPrefabUrl(){return"common/prefabs/GameRecordDetails"}onLoad(){super.onLoad(),this.itemPrefab.active=!1}addEvents(){this.onN(this.back,r.EventType.TOUCH_END,this.close),this.onN(this.btnLast,r.EventType.TOUCH_END,this.onClickBtnLast),this.onN(this.btnNext,r.EventType.TOUCH_END,this.onClickBtnNext),this.onN(this.btnPre,r.EventType.TOUCH_END,this.onClickBtnPre),this.onN(this.btnFirst,r.EventType.TOUCH_END,this.onClickBtnFirst),this.onN(this.btnForceOpen,r.EventType.TOUCH_END,this.onClickForceOpen),this.onN(this.btnBackVideo,r.EventType.TOUCH_END,this.onBtnBackVideo)}onShow(){Log.d("[GameRecordDetails]",this.args),this.tableInfo=this.args.tableInfo,this.itemParent.children.forEach((t=>t.active=!1)),this.changeToPage(1)}onDataRefresh(t){this.scrollView.scrollToTop(0),this.gameId=t.record.gameId,this.forceShow=t.record.forceShow||0,this.crtPage=t.record.page,this.totalPage=t.record.totalCount,this.txtPoolValue.string=p.getScoreImplicit(t.record.total_pool||t.record.totalPool||0),this.itemParent.children.forEach((t=>t.active=!1)),t.record.list&&this.showPlayerList(t.record.list.records||[],this.forceShow),this.btnForceOpen.active=this.hasInvisibleCard(t.record.list.records||[]),this.totalPage=Math.max(this.totalPage,this.crtPage),this.txtPageNum.string=this.crtPage+"/"+this.totalPage,this.btnFirst.active=this.crtPage<this.totalPage,this.btnPre.active=this.crtPage<this.totalPage,this.btnNext.active=this.crtPage>1,this.btnLast.active=this.crtPage>1}showPlayerList(t,e){if(0!=t.length)for(var i=0;i<t.length;i++){var a=t[i],r=null;this.itemParent.children.length<=i?(r=l(this.itemPrefab)).parent=this.itemParent:r=this.itemParent.children[i],r.active=!0;var n=r.getComponent(u);n||(n=r.addComponent(u)),n.setData(a,this.tableInfo.diwang,1==e)}}hasInvisibleCard(t){if(0==t.length)return!1;for(var e=0;e<t.length;e++)for(var i=t[e],a=0;a<i.sendCards.length;a++)if(0==i.sendCards[a])return!0;return!1}onClickForceOpen(){this.purchase()}purchase(){this.userApi.showCardInfo(this.tableInfo.tableId+"",this.gameId).then((()=>{App.loading.hide(),App.tips.show("秀牌成功"),this.changeToPage(this.crtPage)})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}onClickBtnLast(){this.changeToPage(1)}onClickBtnNext(){this.crtPage-1<=0||this.changeToPage(this.crtPage-1)}onClickBtnPre(){this.crtPage+1>this.totalPage||this.changeToPage(this.crtPage+1)}onClickBtnFirst(){this.changeToPage(this.totalPage)}changeToPage(t){var e=b.getUserData();this.userApi.tableUserReplay(this.tableInfo.tableId+"",e.id+"",t).then((t=>{App.loading.hide(),0!=t.code?App.tips.show("获取数据失败"):this.onDataRefresh(t.data)})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}}).prototype,"back",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(I.prototype,"txtPool",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(I.prototype,"txtPoolValue",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(I.prototype,"scrollView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(I.prototype,"itemParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(I.prototype,"itemPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(I.prototype,"btnForceOpen",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(I.prototype,"btnBackVideo",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(I.prototype,"btnLast",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(I.prototype,"btnNext",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(I.prototype,"btnPre",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(I.prototype,"btnFirst",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(I.prototype,"txtPageNum",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=I))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameRecordItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./PlayerBasicInfoView.ts","./Utils.ts","./CheXuanPoker.ts","./GameDefine.ts","./PokerUtils.ts","./Decorators.ts","./UserData.ts"],(function(t){"use strict";var e,i,n,r,a,s,o,l,p,c,u,h,g,f,x,d,y,b,m,P,z,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Node,a=t.Label,s=t._decorator,o=t.Vec3,l=t.Sprite,p=t.find,c=t.Color,u=t.UITransform,h=t.Size},function(t){g=t.default},function(t){f=t.default},function(t){x=t.default},function(t){d=t.CheXuanPoker},function(t){y=t.GroupType,b=t.GamePrizeType,m=t.OperateType},function(t){P=t.PokerUtils},function(t){z=t.inject},function(t){w=t.UserDataEn}],execute:function(){var v,C,S,k,I,T,E,_,B,U,D,L,M,N,V,W,F,G,R,A,O,H,X,$,j,Q,Y,J,Z;n._RF.push({},"7558dveYZRJV7TPy2YGXQvQ","GameRecordItem",void 0);const{ccclass:q,property:K}=s;t("GameRecordItem",(v=q("GameRecordItem"),C=z("playerIcon",r),S=z("playerIcon/zhuang",r),k=z("txtPrize",a),I=z("txtTax",a),T=z("txtWin",a),E=z("op_bg/txtStatus",a),_=z("txtWinMango",a),B=z("txtBetVal",a),U=z("poker",r),D=z("poker/paixing_1",r),L=z("poker/paixing_1/txtPaixing",a),M=z("poker/paixing_2",r),N=z("poker/paixing_2/txtPaixing",a),v((F=e((W=class extends g{constructor(...t){super(...t),i(this,"playerNode",F,this),i(this,"zhuang",G,this),i(this,"txtPrize",R,this),i(this,"txtTax",A,this),i(this,"txtWin",O,this),i(this,"txtStatus",H,this),i(this,"txtWinMango",X,this),i(this,"txtBetVal",$,this),i(this,"poker",j,this),i(this,"paixing1",Q,this),i(this,"txtPaixing1",Y,this),i(this,"paixing2",J,this),i(this,"txtPaixing2",Z,this),this.cardList=[],this.playerView=null,this.cardPoses=[new o(-92.5,-2.5,0),new o(-36.5,-2.5,0),new o(36.5,-2.5,0),new o(92.5,-2.5,0)],this.myUserId=0,this.prizeEffect=null}onLoad(){super.onLoad(),this.playerView=this.playerNode.addComponent(f),this.myUserId=w.getUserData().id,this.cardList=[];for(var t=0;t<4;t++){var e=this.poker.getChildByPath(`pai_${t+1}/spr`).getComponent(l);this.cardList.push(e)}App.stageData.IsMatch&&(p("labPrize",this.node).active=!1,this.txtPrize.node.active=!1,p("labTax",this.node).active=!1,this.txtTax.node.active=!1)}setData(t,e,i=!1){if(this.releasePrizeEffect(),this.playerView.setBasicInfo(t.name,t.avatar),this.setPlayerStatus(t),this.txtWin.string=x.getScoreImplicit(t.win),this.txtWin.color=t.win>=0?new c("FF1A1A"):new c("00FF18"),this.txtWinMango.node.active=t.winMango>0,this.txtWinMango.string=`赢芒果 ${x.getScoreImplicit(t.winMango)}`,this.txtBetVal.string=`下注 ${x.getScoreImplicit(t.bet)}`,this.txtPrize.string=x.getScoreImplicit(t.winPool||0),this.txtTax.string=x.getScoreImplicit(t.pull_sui||t.pullSui||0),this.zhuang.active=t.isBanker??!1,this.paixing1.active=!!t.headType,this.paixing2.active=!!t.tailType,!t.headType||t.headType.groupType!=y.SH_10&&t.headType.groupType!=y.SH_6)if(t.splitCards&&4==t.splitCards.length){var n=this.createPoker(t.splitCards[0]),r=this.createPoker(t.splitCards[1]),a=this.createPoker(t.splitCards[2]),s=this.createPoker(t.splitCards[3]);let i=P.getPrizeTypeByPoker([n,r,a,s]);if(i==b.NONE){var l=P.getCombinationString([n,r],e),p=P.getCombinationString([a,s],e);this.txtPaixing1.string=l.typeName,this.txtPaixing2.string=p.typeName,this.paixing1.getComponent(u).contentSize=new h(110,30),this.paixing1.position=new o(-64.5,-21,0)}else this.paixing1.active=!1,this.paixing2.active=!1,this.showPrizeEffect(i)}else i&&t.userId!=this.myUserId&&(this.paixing1.active=!0,this.txtPaixing1.string="强制秀牌",this.paixing1.getComponent(u).contentSize=new h(110,30),this.paixing1.position=new o(-64.5,-21,0));else{var g=t.headType.groupType==y.SH_10?"三花十":"三花六";this.txtPaixing1.string=g,4==t.sendCards.length?(this.paixing1.getComponent(u).contentSize=new h(239,30),this.paixing1.position=new o(0,-21,0)):(this.paixing1.getComponent(u).contentSize=new h(183,30),this.paixing1.position=new o(-28,-21,0))}for(var f=0;f<this.cardList.length;f++){var d=this.cardList[f].node.parent,m=d.getChildByName("xiu");if(t.sendCards.length<=f){d.active=!1;continue}var z=f;let e=!!t.splitCards&&4==t.splitCards.length;if(e)for(var w=0;w<t.splitCards.length;w++)if(t.sendCards[f]==t.splitCards[w]){z=w;break}var v=t.sendCards[f];if(!i&&!e&&t.xiu&&t.xiu.length>f){let e=t.xiu[f];0==v&&t.userId!=this.myUserId&&(v=e),m&&(m.active=0!=e)}else m&&(m.active=!1);if(d.active=!0,d.position=this.cardPoses[z],v){var C=this.createPoker(v);P.loadPoker(this.cardList[f],C.getSpriteName())}else P.loadPokerBack(this.cardList[f])}}setPlayerStatus(t){var e="",i=!1;null==t.lastOp||null==t.lastOp?e="":t.lastOp==m.DIU?(e="弃牌",i=!0):t.lastOp==m.XIU?e="休牌":t.headType&&t.tailType&&(e="开牌"),this.txtStatus.string=e,this.txtStatus.color=new c(i?"86BAE6":"FF1A1A"),this.txtStatus.node.parent.active=""!==e}showPrizeEffect(t){this.prizeEffect=P.showPrizeEffect(this.poker,t,new o(0,-20,0))}releasePrizeEffect(){this.prizeEffect&&(P.releasePrizeEffect(this.prizeEffect),this.prizeEffect=null)}createPoker(t){var e=Math.floor(t/100),i=Math.floor(t%100);return new d(e,i)}onDestroy(){this.releasePrizeEffect()}}).prototype,"playerNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(W.prototype,"zhuang",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(W.prototype,"txtPrize",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(W.prototype,"txtTax",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(W.prototype,"txtWin",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(W.prototype,"txtStatus",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(W.prototype,"txtWinMango",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(W.prototype,"txtBetVal",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(W.prototype,"poker",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(W.prototype,"paixing1",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(W.prototype,"txtPaixing1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(W.prototype,"paixing2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(W.prototype,"txtPaixing2",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=W))||V));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameView.ts",["cc","./UIView.ts"],(function(e){"use strict";var t,n,s;return{setters:[function(e){t=e.cclegacy,n=e._decorator},function(e){s=e.default}],execute:function(){var r;t._RF.push({},"95d22Fw9QxKrKsNdNsPdF2g","GameView",void 0);const{ccclass:o,property:a,menu:i}=n;e("default",o(r=i("Quick公共组件/GameView")(r=class extends s{onLoad(){super.onLoad(),this.onEnterGameView()}onShow(){App.entryManager.onShowGameView(this.bundle,this)}onEnterGameView(){App.entryManager.onEnterGameView(this.bundle,this)}enterBundle(e,t){App.entryManager.enterBundle(e,t)}backBundle(e){App.entryManager.backBundle(e)}onDestroy(){this.audioHelper&&this.audioHelper.stopAllEffects(),App.entryManager.onDestroyGameView(this.bundle,this),super.onDestroy()}onClose(){this.audioHelper&&this.audioHelper.stopAllEffects(),App.entryManager.onCloseGameView(this.bundle,this),super.onClose()}})||r)||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalAudio.ts",["cc","./AudioComponent.ts","./Macros.ts"],(function(e){"use strict";var t,s,o,a,u,c,i;return{setters:[function(e){t=e.cclegacy,s=e.AudioSource,o=e.AudioClip,a=e._decorator},function(e){u=e.default,c=e.AudioInfo},function(e){i=e.Macro}],execute:function(){var n;t._RF.push({},"8dca8lhVEpKYbqJLgXzurTU","GlobalAudio",void 0);const{ccclass:r,property:l,menu:d}=a;e("default",r(n=d("Quick公共组件/GlobalAudio")(n=class extends u{playGlobalMusic(e,t=!0){return this.playMusic(e,i.BUNDLE_RESOURCES,t)}playGlobalEffect(e,t=!1){return this.playEffect(e,i.BUNDLE_RESOURCES,t)}playMusic(e,t,a=!0){let u=this;return new Promise((n=>{if(t!=i.BUNDLE_RESOURCES)return Log.e(`${e} 不在 ${i.BUNDLE_RESOURCES} 全局播放的声音请存放到${i.BUNDLE_RESOURCES}`),void n(!1);let r=this.audioData.makeKey(e,t),l=this.audioData.musicInfos.get(r);l||(l=new c,l.url=e,l.bundle=t,l.source=this.node.addComponent(s),l.source.playOnAwake=!0,l.source.name=r,this.audioData.musicInfos.set(r,l)),this.audioData.curMusic=l,App.cache.getCacheByAsync(e,o,t).then((([e,t])=>{t?(App.asset.addPersistAsset(e),u.stopMusic(),l&&l.source&&(l.source.clip=t,l.source.loop=a,this.play(l,!0,n))):n(!1)}))}))}playEffect(e,t,a=!1){return new Promise((u=>{if(t!=i.BUNDLE_RESOURCES)return Log.e(`${e} 不在 ${i.BUNDLE_RESOURCES} 全局播放的声音请存放到${i.BUNDLE_RESOURCES}`),void u(!1);let n=this.audioData.makeKey(e,t),r=this.audioData.effectInfos.get(n);r||(r=new c,r.url=e,r.bundle=t,r.source=this.node.addComponent(s),r.source.name=n,this.audioData.effectInfos.set(n,r)),App.cache.getCacheByAsync(e,o,t).then((([e,t])=>{t?(App.asset.addPersistAsset(e),r&&r.source&&(r.source.clip=t,r.source.loop=a,this.play(r,!1,u))):u(!1)}))}))}})||n)||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/HallUpdate.ts",["cc","./Macros.ts"],(function(e){"use strict";var a,n;return{setters:[function(e){a=e.cclegacy},function(e){n=e.Macro}],execute:function(){a._RF.push({},"56e0b/7E7ZLcZqTSB8fcghI","HallUpdate",void 0);class o{constructor(){this.module=null,this.isResident=!0}onNewVersionFund(e){e.doUpdate()}onUpdateFailed(e){let a=App.getLanguage("downloadFailed");App.alert.show({text:a,confirmCb:a=>{e.checkUpdate()}}),App.updateLoading.hide()}onPreVersionFailed(e){let a=App.getLanguage("downloadFailed");App.alert.show({text:a,confirmCb:a=>{e.checkUpdate()}}),App.updateLoading.hide()}onShowUpdating(e){App.updateLoading.show(App.getLanguage("loading"))}onNeedUpdateMain(e){App.updateLoading.hide();let a=App.getLanguage("mainPackVersionIsTooLow");App.alert.show({text:a,confirmCb:e=>{App.stageData.isLoginStage()||App.entryManager.enterBundle(n.BUNDLE_RESOURCES)}})}onOther(e){}onDownloading(e,a){Log.d(`onDownloading ${a.progress}`),App.updateLoading.updateProgress(a.progress)}onAreadyUpToData(e){let a=App.entryManager.delegate.getEntryConfig(n.BUNDLE_CheXuan);a?a.handler?(Log.d("lownurllownurllownurllownurllownurlCould not find entry 22222"),App.updateManager.dowonLoad(a)):Log.d("lownurllownurllownurllownurllownurlpdateItem.handler is Empty 33333"):Log.d("lownurllownurllownurllownurllownurlCould not find entry 11111")}onStarCheckUpdate(e){App.updateLoading.show(App.getLanguage("loading"))}onStartLoadBundle(e){}onLoadBundleError(e,a){App.updateLoading.hide(),App.tips.show(App.getLanguage("loadFailed",[e.name]))}onLoadBundleComplete(e){App.updateLoading.hide(),App.entryManager.onLoadBundleComplete(e)}onLoadBundle(e){App.bundleManager.loadBundle(e)}onDownloadComplete(e){App.updateLoading.hide()}onNeedRestartApp(e,a){let o=App.stageData.where;if(Log.d(`lownurl重启游戏,当前位置 :${o},之前位置 : ${App.stageData.prevWhere}`),o==n.BUNDLE_RESOURCES)a(!0);else{let n=App.getLanguage("restartApp",[e.name]);App.alert.show({text:n,confirmCb:e=>{a(!1)}})}}}e("HallUpdate",o),o.module="【大厅热更新】",a._RF.pop()}}}));

System.register("chunks:///_virtual/Handler.ts",["cc","./EventProcessor.ts","./Macros.ts"],(function(e){"use strict";var t,s,o;return{setters:[function(e){t=e.cclegacy},function(e){s=e.EventProcessor},function(e){o=e.Macro}],execute:function(){t._RF.push({},"5e9ffPDWfxKL7ScegSeKBG6","Handler",void 0);class r extends s{constructor(...e){super(...e),this._module=o.UNKNOWN}get module(){return this._module}set module(e){this._module=e}onS(e,t,s,o=!0){let r=this.service;r&&r.addListener&&r.addListener(e,s,t,o,this)}offS(e){let t=this.service;t&&t.removeListeners&&t.removeListeners(this,e)}onDestroy(){this.offS(),super.onDestroy()}debug(){Log.d(this.module)}destory(){this.onDestroy()}init(){this.onLoad()}}e("Handler",r),r.module=o.UNKNOWN,t._RF.pop()}}}));

System.register("chunks:///_virtual/HandlerManager.ts",["cc","./SingletonT.ts"],(function(e){"use strict";var n,t;return{setters:[function(e){n=e.cclegacy},function(e){t=e.SingletonT}],execute:function(){n._RF.push({},"11e9a84A9hCHpeO57mkvw5P","HandlerManager",void 0);class r extends t{constructor(...e){super(...e),this.module=null}}e("HandlerManager",r),r.module="【Handler管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/HeartbetBinary.ts",["cc","./BinaryStreamMessage.ts","./CmdDefines.ts"],(function(t){"use strict";var e,r,n,s;return{setters:[function(t){e=t.cclegacy},function(t){r=t.BinaryStreamHeartbeat},function(t){n=t.MainCmd,s=t.SUB_CMD_SYS}],execute:function(){e._RF.push({},"fad937gxhNAP5F5raDpetvK","HeartbetBinary",void 0);t("HeartbeatBinary",class extends r{constructor(...t){super(...t),this.mainCmd=n.CMD_SYS,this.subCmd=s.CMD_SYS_HEART}get cmd(){return String(this.mainCmd)+String(this.subCmd)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/HeartbetJson.ts",["cc","./JsonMessage.ts","./CmdDefines.ts"],(function(t){"use strict";var s,e,n,i;return{setters:[function(t){s=t.cclegacy},function(t){e=t.JsonMessageHeartbeat},function(t){n=t.MainCmd,i=t.SUB_CMD_SYS}],execute:function(){s._RF.push({},"bf8fbqBBmlMgpCa176v8+Pq","HeartbetJson",void 0);t("HeartbeatJson",class extends e{constructor(...t){super(...t),this.buffer=null,this.mainCmd=n.CMD_SYS,this.subCmd=i.CMD_SYS_HEART}get cmd(){return String(this.mainCmd)+String(this.subCmd)}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/HeartbetProto.ts",["cc","./ProtoMessage.ts","./CmdDefines.ts"],(function(t){"use strict";var e,r,s,n;return{setters:[function(t){e=t.cclegacy},function(t){r=t.ProtoMessageHeartbeat},function(t){s=t.MainCmd,n=t.SUB_CMD_SYS}],execute:function(){e._RF.push({},"0e25fKD2o1MUJ8sXE3BJGwU","HeartbetProto",void 0);t("HeartbeatProto",class extends r{constructor(...t){super(...t),this.buffer=null,this.mainCmd=s.CMD_SYS,this.subCmd=n.CMD_SYS_HEART}encode(){return!0}decode(t){return!0}get cmd(){return String(this.mainCmd)+String(this.subCmd)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/Http.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){let e;t("Http",void 0),r._RF.push({},"e9b1d5uD8FCfI9iZ4UZ5E3F","Http",void 0),function(t){let r,e;!function(t){t[t.UrlError=0]="UrlError",t[t.TimeOut=1]="TimeOut",t[t.RequestError=2]="RequestError"}(r||(r={})),t.ErrorType=r,function(t){t.POST="POST",t.GET="GET"}(e||(e={})),t.Type=e}(e||(e=t("Http",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/HttpClient.ts",["cc","./Http.ts","./env"],(function(e){"use strict";var t,r,s,a;return{setters:[function(e){t=e.cclegacy,r=e.sys},function(e){s=e.Http},function(e){a=e.PREVIEW}],execute:function(){t._RF.push({},"88b85LK3HND3agPP4yXVee/","HttpClient",void 0);class o{constructor(){this.data=null,this.url=null,this.timeout=1e4,this.type=s.Type.GET,this.async=!0,this.requestHeader=null,this.isAutoAttachCurrentTime=!1,this._responseType=""}set responseType(e){this._responseType=e}get responseType(){return""==this._responseType&&(this._responseType="text"),this._responseType}}class n{constructor(){this._data=new o,this._params=null}set data(e){this._data=e}get data(){return this._data}set params(e){this._params=e}get params(){return this._params}send(e,t){App.http.request(this,e,t)}}e("HttpPackage",n),n.crossProxy={},n.location={host:"",pathname:"",protocol:""};class u{constructor(){this.module=null}crossProxy(e){if(r.isBrowser&&!a&&n.crossProxy){let t=n.crossProxy,r=n.location,s=Object.keys(t);for(let a=0;a<s.length;a++){let o=s[a],n=t[o];if(e.indexOf(o)>-1&&n.protocol&&n.api)return r.protocol!=n.protocol&&(e=e.replace(n.protocol,r.protocol)),e.replace(o,`${r.host}/${n.api}`)}return e}return e}convertParams(e,t){if(null==t||null==t)return e;let r="&";e.indexOf("?")<0&&(r="?");let s=Object.keys(t);for(let e=0;e<s.length;e++)r+=0==e?`${s[e]}=${t[s[e]]}`:`&${s[e]}=${t[s[e]]}`;return r=e+r,r}convertData(e){return e}request(e,t,a){let o=e.data.url;if(!o)return void(a&&a({type:s.ErrorType.UrlError,reason:"错误的Url地址"}));let n=new XMLHttpRequest;if(n.onreadystatechange=function(){if(4===n.readyState)if(n.status>=200&&n.status<300)"arraybuffer"==n.responseType||"blob"==n.responseType?t&&t(n.response):t&&t(n.responseText);else{let e=`请求错误,错误状态:${n.status}`;Log.e(`request error status : ${n.status} url : ${o} `),a&&a({type:s.ErrorType.RequestError,reason:e})}},n.responseType=e.data.responseType,n.timeout=e.data.timeout,n.ontimeout=()=>{n.abort(),a&&a({type:s.ErrorType.TimeOut,reason:"连接超时"})},n.onerror=()=>{Log.e(`request error : ${o} `),a&&a({type:s.ErrorType.RequestError,reason:"请求错误"})},o=this.crossProxy(o),o=this.convertParams(o,e.params),e.data.isAutoAttachCurrentTime&&(o=o.indexOf("?")>=0?`${o}&cur_loc_t=${Date.timeNow()}`:`${o}?cur_loc_t=${Date.timeNow()}`),r.isBrowser,e.data.type===s.Type.POST){if(n.open(s.Type.POST,o,e.data.async),e.data.requestHeader)if(e.data.requestHeader instanceof Array)e.data.requestHeader.forEach((e=>{n.setRequestHeader(e.name,e.value)}));else{let t=e.data.requestHeader;n.setRequestHeader(t.name,t.value)}else n.setRequestHeader("Content-Type","text/plain;charset=UTF-8");n.send(this.convertData(e.data.data))}else{if(n.open(s.Type.GET,o,e.data.async),e.data.requestHeader)if(e.data.requestHeader instanceof Array)e.data.requestHeader.forEach((e=>{n.setRequestHeader(e.name,e.value)}));else{let t=e.data.requestHeader;n.setRequestHeader(t.name,t.value)}n.send()}}}e("HttpClient",u),u.module="【Http管理器】",t._RF.pop()}}}));

System.register("chunks:///_virtual/HttpInterceptor.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"eb2a04GoFZMto6OaXdLvGaq","HttpInterceptor",void 0);t("default",class{request(t){return t}response(t,e,s){t(e,s)}});t("HttpInterceptorRequest",class{constructor(t,e,s,r,i){this.url=void 0,this.type=void 0,this.params=void 0,this.data=void 0,this.header=void 0,this.url=t,this.type=e,this.params=s,this.data=r,this.header=i}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/IAlert.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"eccd59CnalMGb7larQpF/KG","IAlert",void 0);class i{constructor(){this.module=null,this.isResident=!0,this.curPanel=null,this.queue=[]}getConfig(t){let e={};return t.tag&&(e.tag=t.tag),t.text&&(e.text=t.text),t.title&&(e.title=t.title),t.confirmString&&(e.confirmString=t.confirmString),t.cancelString&&(e.cancelString=t.cancelString),t.richText&&(e.richText=t.richText),t.immediatelyCallback&&(e.immediatelyCallback=t.immediatelyCallback),t.isRepeat&&(e.isRepeat=t.isRepeat),e}show(t){return"string"==typeof t&&(t={text:t,confirmCb:()=>{}}),t.tag&&!1===t.isRepeat&&this.isRepeat(t.tag)?(Log.w(`弹出框已经存在 config : ${JSON.stringify(this.getConfig(t))}`),!1):(this.queue.push(t),this._show(t),!0)}isCurrentShow(t){return!1}currentShow(t){return null}isRepeat(t){return!1}close(t){}closeAll(){this.queue=[],this.finishAlert()}finishAlert(){this.curPanel&&(this.curPanel.destroy(),this.curPanel=null);let t=this.queue.shift();return 0!=this.queue.length?(this._show(this.queue[0]),this.queue[0]):t}_show(t){}}t("IAlert",i),i.module="【IAlert】",e._RF.pop()}}}));

System.register("chunks:///_virtual/ILoading.ts",["cc"],(function(t){"use strict";var e,i,s,n,h;return{setters:[function(t){e=t.cclegacy,i=t.instantiate,s=t.Vec3,n=t.tween,h=t.Tween}],execute:function(){e._RF.push({},"c3af0c+BnZIALgCjN5PDrOf","ILoading",void 0);class o{constructor(){this.module=null,this.isResident=!0,this.node=null,this._timeOutCb=void 0,this._content=[],this._showContentIndex=0,this._timerId=-1,this.text=null}get zOrder(){return 99}get interval(){return 3}get timeout(){return 30}findText(){return null}get prefab(){return App.uiManager.getScenePrefab("Loading")}set timeOutCb(t){this._timeOutCb=t}get timeOutCb(){return this._timeOutCb}show(t,e,i){return this._timeOutCb=e,i||(i=this.timeout),Array.isArray(t)?this._content=t:(this._content=[],this._content.push(t)),this._show(i),this}_show(t){this.prefab&&(this.node||(this.node=i(this.prefab)),this.node.removeFromParent(),App.uiManager.addView(this.node,this.zOrder),this.node.position=s.ZERO,this.text=this.findText(),this._showContentIndex=0,this.startShowContent(),this.startTimeOutTimer(t),this.node.active=!0)}startShowContent(){1==this._content.length?this.text.string=this._content[0]:(this.stopShowContent(),n(this.text.node).call((()=>{this.text.string=this._content[this._showContentIndex]})).delay(this.interval).call((()=>{this._showContentIndex++,this._showContentIndex>=this._content.length&&(this._showContentIndex=0),this.startShowContent()})).start())}stopShowContent(){this.text&&h.stopAllByTarget(this.text.node)}startTimeOutTimer(t){t>0&&(this._timerId=setTimeout((()=>{this._timeOutCb&&this._timeOutCb(),this.hide()}),1e3*t))}stopTimeOutTimer(){this._timeOutCb=void 0,clearTimeout(this._timerId),this._timerId=-1}hide(){this.stopShowContent(),this.stopTimeOutTimer(),this.node&&(this.node.active=!1)}updateProgress(t){}}t("ILoading",o),o.module="【ILoading】",e._RF.pop()}}}));

System.register("chunks:///_virtual/ITips.ts",["cc"],(function(s){"use strict";var t;return{setters:[function(s){t=s.cclegacy}],execute:function(){t._RF.push({},"08418+Fj4xP67yzX6QXMw8F","ITips",void 0);class e{constructor(){this.module=null,this.isResident=!0}show(s){}finishShowItem(s){}clear(){}}s("ITips",e),e.module="【ITips】",t._RF.pop()}}}));

System.register("chunks:///_virtual/IUILoading.ts",["cc"],(function(t){"use strict";var e,i,n,s,o,h,r,a;return{setters:[function(t){e=t.cclegacy,i=t.UIOpacity,n=t.find,s=t.Label,o=t.instantiate,h=t.Vec3,r=t.Tween,a=t.tween}],execute:function(){e._RF.push({},"c395ddS0+ZKfKuCR9xH0TZ1","IUILoading",void 0);class u{constructor(){this.module=null,this.isResident=!0,this.node=null,this.delay=0,this.content=null,this.text=null,this._uiName=null,this._contentOpacity=null,this._timerId=-1}get prefab(){return App.uiManager.getScenePrefab("UILoading")}get contentOpacity(){return this._contentOpacity?this._contentOpacity:this.content.getComponent(i)}get delayTime(){return.1}get timeout(){return 20}get zOrder(){return 99}findContent(){return n("content",this.node)}findText(){var t;return null==(t=n("text",this.content))?void 0:t.getComponent(s)}show(t,e){this.delay=null==t||null==t||t<0?this.delayTime:t,this._uiName=e||"",this._show()}_show(){this.node||(this.node=o(this.prefab)),this.node.removeFromParent(),App.uiManager.addView(this.node,this.zOrder),this.node.position=h.ZERO,this.content=this.findContent(),r.stopAllByTarget(this.contentOpacity),this.text=this.findText(),this.text.string="0%",this.contentOpacity.opacity=0,this.delay>0&&a(this.contentOpacity).delay(this.delay).set({opacity:255}).start(),this.startTimeOutTimer(this.timeout),this.node.active=!0}startTimeOutTimer(t){this.stopTimeOutTimer(),t&&(this._timerId=setTimeout((()=>{App.tips.show(`加载界面${this._uiName?this._uiName:""}超时，请重试`),this.hide()}),1e3*t))}stopTimeOutTimer(){clearTimeout(this._timerId),this._timerId=-1}hide(){this.stopTimeOutTimer(),this.node&&(r.stopAllByTarget(this.content),this.node.active=!1)}updateProgress(t){if(this.text){if(null==t||null==t||Number.isNaN(t))return void this.hide();t>=0&&t<=100&&(this.text.string=`${t}%`)}}}t("IUILoading",u),u.module="【IUILoading】",e._RF.pop()}}}));

System.register("chunks:///_virtual/JsonMessage.ts",["cc","./ByteArray.ts","./Net.ts","./Message.ts"],(function(e){"use strict";var i,r,t,a;return{setters:[function(e){i=e.cclegacy},function(e){r=e.ByteArray},function(e){t=e.Net},function(e){a=e.Message}],execute:function(){e("serialize",(function(e,i,r,t){return function(a,s){if(void 0===Reflect.getOwnPropertyDescriptor(a,"__serialize__")){let e={};if(Reflect.getPrototypeOf(a).__serialize__&&void 0===Reflect.getOwnPropertyDescriptor(a,"__serialize__")){let i=Reflect.getPrototypeOf(a).__serialize__,r=Object.keys(i);for(let t=r.length,a=0;a<t;a++)e[r[a]]=i[r[a]].slice(0)}Reflect.defineProperty(a,"__serialize__",{value:e})}if(a.__serialize__[e])throw`SerializeKey has already been declared:${e}`;a.__serialize__[e]=[s,i,r,t]}})),i._RF.push({},"f031c/UZ19K6aoeSleqgoO4","JsonMessage",void 0);class s extends a{constructor(...e){super(...e),this.data=null,this.byteArray=null,this.buffer=null}encode(){this.data=this.serialize();let e=JSON.stringify(this.data);return this.byteArray=new r,this.byteArray.writeUTFBytes(e),this.buffer=this.byteArray.bytes,!0}serialize(){let e={},i=Reflect.getPrototypeOf(this).__serialize__;if(!i)return e;let r=Object.keys(i);for(let t=r.length,a=0;a<t;a++){let t=r[a],[s]=i[t],l=this.serializeMember(this[s]);null===l&&Log.w("Invalid serialize member : "+s),e[t]=l}return e}serializeMember(e){return"number"==typeof e?this.serializeNumber(e):"boolean"==typeof e?this.serializeBool(e):"string"==typeof e?this.serializeString(e):e instanceof Array?this.serializeArray(e):e instanceof Map?this.serializeMap(e):e instanceof s?e.serialize():(Log.w("Invalid serialize value : "+e),null)}serializeNumber(e){return null==e&&(e=0),"string"==typeof e&&(e=Number(e)),Number.isNaN(e)&&(e=0),e}serializeBool(e){return null==e&&(e=!1),"string"==typeof e&&(e="true"==e),Number.isNaN(e)&&(e=!1),e}serializeString(e){return null==e?"":e.toString()}serializeArray(e){let i=[];return e.forEach((e=>{i.push(this.serializeMember(e))})),i}serializeMap(e){let i=[],r=this;return e.forEach(((e,t)=>{let a={k:r.serializeMember(t),v:r.serializeMember(e)};null===a.k&&(Log.w("Invalid map key!"),a.k=""),null===a.v&&(Log.w("Invalid map value"),a.v=""),i.push(a)})),i}decode(e){if(e){this.buffer=e,this.byteArray=new r(e);let i=this.byteArray.readUTFBytes(this.byteArray.length);if(i.length>0)try{this.data=JSON.parse(i)}catch(e){return!1}return this.deserialize(this.data)}return!1}deserialize(e){let i=Reflect.getPrototypeOf(this).__serialize__;if(!i)return!0;let r=Object.keys(i);for(let t=r.length,a=0;a<t;a++){let t=r[a],[s,l,n,u]=i[t];if(!this.deserializeMember(s,l,n,u,e[t]))return Log.w("Invalid deserialize member :"+s),!1}return!0}deserializeMember(e,i,r,t,a){try{let l=this[e];if("number"==typeof l)this[e]=this.deserializeNumber(e,a);else if("boolean"==typeof l)this[e]=this.deserializeBool(e,a);else if("string"==typeof l)this[e]=this.deserializeString(e,a);else if(l instanceof Array)this.deserializeArray(e,r,a);else if(l instanceof Map)this.deserializeMap(e,r,t,a);else if(l instanceof s)l.deserialize(a);else{if(null!==l)return Log.w("Invalid deserialize member : "+e+" value:"+l),!1;switch(i){case Number:this[e]=this.deserializeNumber(e,a);break;case String:this[e]=this.deserializeString(e,a);break;case Array:this[e]=[];break;case Map:this[e]=new Map;break;default:if(this[e]=new i,!(this[e]instanceof s))return Log.w("Invalid deserialize member :"+e+" value:"+l),!1;this[e].deserialize(a)}}return!0}catch(i){return Log.w(i.message),this[e]=i.data||null,!1}}deserializeNumber(e,i){if(null==i||Number.isNaN(i))throw{message:`Invalid deserializeNumber member : ${e} value : ${i}`,data:0};return Number(i)}deserializeBool(e,i){if(null==i||Number.isNaN(i))throw{message:`Invalid deserializeNumber member : ${e} value : ${i}`,data:0};return Boolean(i)}deserializeString(e,i){if(null==i)throw{message:`Invalid deserializeString member : ${e} value : ${i}`,data:""};return i}deserializeArray(e,i,r){if(!(r instanceof Array))throw{message:`Invalid deserializeArray member : ${e} value : ${r}`,data:[]};this[e]=[],r.forEach(((r,t)=>{if(i===Number)this[e].push(this.deserializeNumber(e+"["+t+"]",r));else if(i===String)this[e].push(this.deserializeString(e+"["+t+"]",r));else{if(i===Array)throw{message:`Invalid deserializeArray member : ${e} array value type is Array`};if(i instanceof Map)throw{message:`Invalid deserializeArray member : ${e} array value type is Map`};if(this[e]instanceof s)this[e].deserialize(r);else{let t=new i;if(!(t instanceof s))throw{message:`Invalid deserializeArray member : ${e} array value type is `+i};t.deserialize(r),this[e].push(t)}}}))}deserializeMap(e,i,r,t){if(!(t instanceof Array))throw{message:`Invalid deserializeMap member : ${e} value : ${t}`,data:new Map};this[e].clear(),t.forEach(((t,a)=>{if(null===t||void 0===t.k||null===t.k||void 0===t.v||null===t.v)throw{message:`Invalid deserializeMap member : ${e} invalid element : ${t}`};let l,n;if(i===Number)l=this.deserializeNumber(e+"["+a+"]:key",t.k);else{if(i!==String)throw{message:`Invalid deserializeMap member : ${e} invalid key type : ${i}`};l=this.deserializeString(e+"["+a+"]:key",t.k)}if(r===Number)n=this.deserializeNumber(e+"["+a+"]:value",t.v);else if(r===String)n=this.deserializeString(e+"["+a+"]:value",t.v);else{if(r===Array)throw{message:`Invalid deserializeMap member : ${e} invalid value type : Array`};if(r instanceof Map)throw{message:`Invalid deserializeMap member : ${e} invalid value type : Map`};if(n=new r,!(n instanceof s))throw{message:`Invalid deserializeMap member : ${e} invalid value type : ${r}`};n.deserialize(t.v)}this[e].set(l,n)}))}}e("JsonMessage",s);class l extends s{}e("JsonMessageHeartbeat",l),l.type=t.ServiceType.Json,i._RF.pop()}}}));

System.register("chunks:///_virtual/Lang.ts",["cc","./LanguageDelegate.ts","./Macros.ts"],(function(e){"use strict";var a,s,c,t;return{setters:[function(e){a=e.cclegacy,s=e.sys},function(e){c=e.LanguageDelegate},function(e){t=e.Macro}],execute:function(){a._RF.push({},"f7b44pETdNJ3rzZZY8nETIx","Lang",void 0);const n={language:s.Language.CHINESE,data:{bundles:{},capture_save_failed:"保存图片失败",capture_success:"截图成功",capture_failed:"截图失败",capture_save_photo_album:"成功保存到设备相册",capture_save_local_success1:"成功保存在设备目录并加载成功: {0}",capture_save_local_success2:"成功保存在设备目录: {0}",warningReconnect:"{0}网络已断开，是否重新连接？",tryReconnect:"{0}网络:正在尝试第{1}次连接...",updateFaild:"更新{0}失败",mainPackVersionIsTooLow:"版本过低，请更新。",alreadyRemoteVersion:"{0}已升级到最新",loadFailed:"{0}加载失败!!",restartApp:"{0}更新完成，需要重启游戏",downloadFailed:"下载文件失败，请重试!!!",loading:"正在加载..."}},o={language:s.Language.ENGLISH,data:{bundles:{},capture_save_failed:"Failed to save picture",capture_success:"Successful screenshot",capture_failed:"Screenshot failed",capture_save_photo_album:"Successfully saved to device album",capture_save_local_success1:"Successfully saved in the device directory {0} and loaded successfully",capture_save_local_success2:"Successfully saved in the device directory {0}",warningReconnect:"{0} network has been disconnected. Do you want to reconnect?",tryReconnect:"{0}Trying to connect for the {1} time...",updateFaild:"Update {0} Faild",mainPackVersionIsTooLow:"版本过低，请更新。",alreadyRemoteVersion:"{0}已升级到最新",loadFailed:"{0}加载失败!!",restartApp:"{0}更新完成，需要重启游戏",downloadFailed:"下载文件失败，请重试!!!",loading:"正在加载..."}};e("Lang",n);e("LangData",class extends c{constructor(...e){super(...e),this.bundle=t.BUNDLE_RESOURCES}init(){App.stageData.entrys.forEach((e=>{o.data.bundles[e.bundle]=e.name.EN,n.data.bundles[e.bundle]=e.name.CN})),this.add(n),this.add(o)}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/Language.ts",["cc","./Macros.ts"],(function(e){"use strict";var t,a,s,i;return{setters:[function(e){t=e.cclegacy,a=e.sys,s=e.isValid},function(e){i=e.Macro}],execute:function(){t._RF.push({},"45ff7N6LYVJ7YlkpCoRmCEX","Language",void 0);const g="using_language";class n{constructor(){this.isResident=!0,this.module=null,this._components=[],this._data={language:i.UNKNOWN},this.delegates=new Map}addDelegate(e){e&&(this.delegates.set(e.bundle,e),this.updateData(this.getLanguage()))}updateData(e){this._data.language=e,this.delegates.forEach(((t,a,s)=>{this._data=t.merge(e,this._data)}))}removeDelegate(e){if(!e)return;this.delegates.delete(e.bundle)&&e.bundle!=i.BUNDLE_RESOURCES&&delete this._data[e.bundle]}change(e){this.delegates.size<=0||this._data&&this._data.language==e||(this._data.language=e,i.ENABLE_CHANGE_LANGUAGE?(this.delegates.forEach(((t,a,s)=>{this._data=t.merge(e,this._data)})),this.onChangeLanguage()):this.delegates.forEach(((e,t,a)=>{this._data=e.merge(this.getLanguage(),this._data)})),Log.d(this.module,`当前语言:${this._data.language}`),App.storage.setItem(g,this._data.language))}get(e){let t="";do{if(!e)break;if(e.length<1)break;let a=e[0];if("string"!=typeof a){Log.e("key error");break}if(a.indexOf(i.USING_LAN_KEY)>-1){let s=a.split(".");if(s.length<2){Log.e("key error");break}s.shift(),e.shift();let i=null;for(;s.length>0;){let e=s.shift();if(!e){Log.e(`语言包不存在 : ${a}`),t="";break}i=i?i[e]:this._data[e]}t="string"==typeof i?String.format(i,e):i}else{let a=e.shift();if("string"==typeof a)return String.format(a,e);t=a}}while(0);return t}getLanguage(){return App.storage.getItem(g,a.Language.CHINESE)}add(e){-1==this._components.indexOf(e)&&this._components.push(e)}remove(e){let t=this._components.indexOf(e);t>=0&&this._components.splice(t,1)}onChangeLanguage(){this._components.forEach((e=>{s(e)&&e.forceDoLayout()}))}}e("Language",n),n.module="【语言包】",t._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageDelegate.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("injectLanguageData",(function(t){})),e._RF.push({},"de77dZMRVZDYY4iKST+8vLn","LanguageDelegate",void 0);t("LanguageDelegate",class{constructor(){this.bundle=void 0,this.datas=new Map,this.init()}add(t){this.datas.set(t.language,t)}get(t){return this.datas.get(t)}merge(t,e){let a=this.datas.get(t);return a&&(e[this.bundle]=a.data),e}mergeData(t,e){let a=t;if(e&&t){let a=e.data,n=t.data;Object.keys(a).forEach((t=>{n[t]||(n[t]=a[t])}))}return a}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/LayerManager.ts",["cc"],(function(t){"use strict";var o,e,s,r;return{setters:[function(t){o=t.find,e=t.instantiate,s=t.js,r=t.cclegacy}],execute:function(){r._RF.push({},"f1e37POlGRL3auKo6+e2v9V","LayerManager",void 0);class i{constructor(){this.isResident=!0,this.module=null,this._cfgs=[],this._layers=new Map,this.node=null,this._root=null}get root(){return this._root||(this._root=o("viewRoot",this.node)),this._root}add(t,o){let e=this._layers.get(o);e?e.addChild(t):Log.e(`${this.module}未定义的层级`)}onLoad(t){this.node=t;let o=e(this.root);this._cfgs.forEach((t=>{let s=e(o);this.root.addChild(s),s.name=`Layer_${t.name}`,s.userData=t.name,this._layers.set(t.sort,s)}))}onDestroy(t){}addComponent(t){if(this.root){let o=this.root.getComponent(t);return o||this.root.addComponent(t)}return null}removeComponent(t){if(this.root){let o=this.root.getComponent(t);o&&o.destroy()}}init(t){Object.keys(t).forEach((o=>{let e={name:o,sort:t[o]};this._cfgs.push(e)})),this._cfgs.sort(((t,o)=>t.sort-o.sort))}destory(...t){}clear(...t){}debug(t){if(t||((t={}).showChildren=!0,t.showComp=!0),this.root&&(t.showChildren&&(Log.d(`${this.module} 层级信息,注：该层级上无任何节点的不输出信息。`),this._layers.forEach((t=>{t.children.length>0&&(Log.d(`${t.userData} 层包含节点如下:`),t.children.forEach((t=>{Log.d(`${t.name} active : ${t.active}`)})))}))),t.showComp)){Log.d(`${this.module} 组件信息`);let t=this.root._components;for(let o=0;o<t.length;o++)Log.d(s.getClassName(t[o]))}}}t("default",i),i.module="【层级管理器】",r._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutDefines.ts",["cc"],(function(t){"use strict";var i,s,e,n;return{setters:[function(t){i=t.cclegacy,s=t.v2,e=t.size,n=t.UITransform}],execute:function(){let g;t("LayoutType",void 0),i._RF.push({},"be45agyNEBBFIGZKYMKuTOs","LayoutDefines",void 0),function(t){t[t.TOP=1]="TOP",t[t.MID=2]="MID",t[t.BOT=4]="BOT",t[t.LEFT=8]="LEFT",t[t.CENTER=16]="CENTER",t[t.RIGHT=32]="RIGHT",t[t.HORIZONTAL=56]="HORIZONTAL",t[t.VERTICAL=7]="VERTICAL",t[t.TOP_BOT=5]="TOP_BOT",t[t.LEFT_RIGHT=6]="LEFT_RIGHT",t[t.CENTER_TOP=17]="CENTER_TOP",t[t.CENTER_BOT=20]="CENTER_BOT",t[t.MID_LETF=10]="MID_LETF",t[t.MID_RIGHT=34]="MID_RIGHT"}(g||(g=t("LayoutType",{})));t("LayoutParam",class{constructor(){this._alignFlags=0,this.result={position:s(0,0),originSize:e(0,0)},this.target=null,this._node=null,this.top=0,this.bottom=0,this.left=0,this.right=0,this.horizontalCenter=0,this.verticalCenter=0,this.isAbsoluteHorizontalCenter=!0,this.isAbsoluteVerticalCenter=!0,this.isAbsoluteTop=!0,this.isAbsoluteBottom=!0,this.isAbsoluteLeft=!0,this.isAbsoluteRight=!0}get alignFlags(){return this._alignFlags}set alignFlags(t){this._alignFlags=t}_setAlign(t,i){if(i===(this._alignFlags&t)>0)return;let s=(t&g.LEFT_RIGHT)>0;const e=this.node.getComponent(n);i?(this._alignFlags|=t,s?(this.isAlignHorizontalCenter=!1,this.isStretchWidth&&(this.result.originSize.width=e.width)):(this.isAlignVerticalCenter=!1,this.isStretchHeight&&(this.result.originSize.height=e.height))):(s?this.isStretchWidth&&(e.width=this.result.originSize.width):this.isStretchHeight&&(e.height=this.result.originSize.height),this._alignFlags&=~t)}get node(){return this._node}set node(t){const i=t.getComponent(n);this.result.originSize.width=i.width,this.result.originSize.height=i.height,this._node=t}get isAlignTop(){return(this._alignFlags&g.TOP)>0}set isAlignTop(t){this._setAlign(g.TOP,t)}get isAlignVerticalCenter(){return(this._alignFlags&g.MID)>0}set isAlignVerticalCenter(t){t?(this.isAlignTop=!1,this.isAlignBottom=!1,this._alignFlags|=g.MID):this._alignFlags&=~g.MID}get isAlignBottom(){return(this._alignFlags&g.BOT)>0}set isAlignBottom(t){this._setAlign(g.BOT,t)}get isAlignLeft(){return(this._alignFlags&g.LEFT)>0}set isAlignLeft(t){this._setAlign(g.LEFT,t)}get isAlignHorizontalCenter(){return(this._alignFlags&g.CENTER)>0}set isAlignHorizontalCenter(t){t?(this.isAlignLeft=!1,this.isAlignRight=!1,this._alignFlags|=g.CENTER):this._alignFlags&=~g.CENTER}get isAlignRight(){return(this._alignFlags&g.RIGHT)>0}set isAlignRight(t){this._setAlign(g.RIGHT,t)}get isStretchWidth(){return(this._alignFlags&g.LEFT_RIGHT)===g.LEFT_RIGHT}get isStretchHeight(){return(this._alignFlags&g.TOP_BOT)===g.TOP_BOT}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutManager.ts",["cc","./LayoutDefines.ts"],(function(t){"use strict";var e,i,o,n,s,r,l;return{setters:[function(t){e=t.cclegacy,i=t.Vec3,o=t.Vec2,n=t.Scene,s=t.UITransform,r=t.Size},function(t){l=t.LayoutType}],execute:function(){e._RF.push({},"91f23IoCuxFko7p1sUVOjL7","LayoutManager",void 0);const c=new i,a=new o,g=new o;class u{constructor(){this.module=null}get visibleRect(){return window.cc.visibleRect}align(t){let e=t.node;const i=t.target;let r,g=t,u=new o,h=new o;i?(r=i,this.computeInverseTransForTarget(e,r,u,h)):r=e.parent;const y=this.getReadonlyNodeSize(r),x=r instanceof n||!r.getComponent(s),f=x?a:r.getComponent(s).anchorPoint,p=x;e.getPosition(c);const b=e._uiProps.uiTransformComp;let m=c.x,d=c.y;const v=b.anchorPoint,R=e.getScale();if(t.alignFlags&l.HORIZONTAL){let t=0,e=0;const o=y.width;p?(t=this.visibleRect.left.x,e=this.visibleRect.right.x):(t=-f.x*o,e=t+o),t+=g.isAbsoluteLeft?g.left:g.left*o,e-=g.isAbsoluteRight?g.right:g.right*o,i&&(t+=u.x,t*=h.x,e+=u.x,e*=h.x);let n=0,s=v.x,r=R.x;if(r<0&&(s=1-s,r=-r),g.isStretchWidth)n=e-t,0!==r&&(b.width=n/r),m=t+s*n;else if(n=b.width*r,g.isAlignHorizontalCenter){let t=g.isAbsoluteHorizontalCenter?g.horizontalCenter:g.horizontalCenter*o,e=(.5-f.x)*y.width;i&&(t*=h.x,e+=u.x,e*=h.x),m=e+(s-.5)*n+t}else m=g.isAlignLeft?t+s*n:e+(s-1)*n}if(g.alignFlags&l.VERTICAL){let t=0,e=0;const o=y.height;p?(e=this.visibleRect.bottom.y,t=this.visibleRect.top.y):(e=-f.y*o,t=e+o),e+=g.isAbsoluteBottom?g.bottom:g.bottom*o,t-=g.isAbsoluteTop?g.top:g.top*o,i&&(e+=u.y,e*=h.y,t+=u.y,t*=h.y);let n=0,s=v.y,r=R.y;if(r<0&&(s=1-s,r=-r),g.isStretchHeight)n=t-e,0!==r&&(b.height=n/r),d=e+s*n;else if(n=b.height*r,g.isAlignVerticalCenter){let t=g.isAbsoluteVerticalCenter?g.verticalCenter:g.verticalCenter*o,e=(.5-f.y)*y.height;i&&(t*=h.y,e+=u.y,e*=h.y),d=e+(s-.5)*n+t}else d=g.isAlignBottom?e+s*n:t+(s-1)*n}t.result.position.x=m,t.result.position.y=d}computeInverseTransForTarget(t,e,i,o){t.parent?g.set(t.parent.getScale().x,t.parent.getScale().y):g.set(0,0);let n=g.x,s=g.y,r=0,l=0;for(let c=t.parent;;){if(!c)return i.x=i.y=0,void(o.x=o.y=1);const t=c.getPosition();if(r+=t.x,l+=t.y,c=c.parent,c===e)break;{c?g.set(c.getScale().x,c.getScale().y):g.set(0,0);const t=g.x,e=g.y;r*=t,l*=e,n*=t,s*=e}}o.x=0!==n?1/n:1,o.y=0!==s?1/s:1,i.x=-r,i.y=-l}getReadonlyNodeSize(t){const e=t.getComponent(s);return t instanceof n?this.visibleRect:e?e.contentSize:r.ZERO}}t("LayoutManager",u),u.module="【布局管理器】",e._RF.pop()}}}));

System.register("chunks:///_virtual/List.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./ListItem.ts"],(function(t){"use strict";var e,i,s,o,l,n,a,h,r,c,_,d,u,m,p,g,f,I,y,T,S,v,w,z,b,D,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,o=t.ScrollView,l=t.Enum,n=t.Node,a=t.Prefab,h=t.CCFloat,r=t.EventHandler,c=t.CCBoolean,_=t.CCInteger,d=t._decorator,u=t.Component,m=t.Layout,p=t.isValid,g=t.UITransform,f=t.instantiate,I=t.NodePool,y=t.Vec3,T=t.Size,S=t.Widget,v=t.tween,w=t.Label,z=t.Sprite,b=t.SpriteFrame},function(t){D=t.DEV},function(t){N=t.default}],execute:function(){var E,P,L,C,G,R,O,U,A,B,M,V,k,x,H,F,X,Y,Z,j,W,q,J,K,Q,$,tt,et,it,st,ot,lt,nt,at,ht,rt,ct,_t,dt,ut,mt,pt,gt;s._RF.push({},"8922drUfMRISJIrLq2oMTnN","List",void 0);const{ccclass:ft,property:It,disallowMultiple:yt,menu:Tt,executionOrder:St,requireComponent:vt}=d;var wt,zt,bt;!function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"}(wt||(wt={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(zt||(zt={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(bt||(bt={}));t("default",(E=yt(),P=Tt("List"),L=vt(o),C=St(-5e3),G=It({type:l(wt),tooltip:D}),R=It({type:n,tooltip:D,visible(){return this.templateType==wt.NODE}}),O=It({type:a,tooltip:D,visible(){return this.templateType==wt.PREFAB}}),U=It({}),A=It({type:l(zt),tooltip:D}),B=It({type:h,range:[0,1,.1],tooltip:D,slide:!0,visible(){return this._slideMode==zt.PAGE}}),M=It({type:r,tooltip:D,visible(){return this._slideMode==zt.PAGE}}),V=It({}),k=It({type:c,tooltip:D}),x=It({tooltip:D,visible(){let t=this.slideMode==zt.NORMAL;return t||(this.cyclic=!1),t}}),H=It({tooltip:D,visible(){return this.virtual}}),F=It({tooltip:D,visible(){let t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}}),X=It({type:_}),Y=It({type:_,range:[0,6,1],tooltip:D,slide:!0}),Z=It({type:_,range:[0,12,1],tooltip:D,slide:!0}),j=It({type:r,tooltip:D}),W=It({type:l(bt),tooltip:D}),q=It({type:r,tooltip:D,visible(){return this.selectedMode>bt.NONE}}),J=It({tooltip:D,visible(){return this.selectedMode==bt.SINGLE}}),K=It({serializable:!1}),ft(Q=E(Q=P(Q=L(Q=C((tt=e(($=class extends u{constructor(...t){super(...t),i(this,"templateType",tt,this),i(this,"tmpNode",et,this),i(this,"tmpPrefab",it,this),i(this,"_slideMode",st,this),i(this,"pageDistance",ot,this),i(this,"pageChangeEvent",lt,this),i(this,"_virtual",nt,this),i(this,"cyclic",at,this),i(this,"lackCenter",ht,this),i(this,"lackSlide",rt,this),i(this,"_updateRate",ct,this),i(this,"frameByFrameRenderNum",_t,this),i(this,"renderEvent",dt,this),i(this,"selectedMode",ut,this),i(this,"selectedEvent",mt,this),i(this,"repeatEventSingle",pt,this),this._selectedId=-1,this._lastSelectedId=void 0,this.multSelected=void 0,this._forceUpdate=!1,this._align=void 0,this._horizontalDir=void 0,this._verticalDir=void 0,this._startAxis=void 0,this._alignCalcType=void 0,this.content=void 0,this._contentUt=void 0,this.firstListId=void 0,this.displayItemNum=void 0,this._updateDone=!0,this._updateCounter=void 0,this._actualNumItems=void 0,this._cyclicNum=void 0,this._cyclicPos1=void 0,this._cyclicPos2=void 0,i(this,"_numItems",gt,this),this._inited=!1,this._scrollView=void 0,this._layout=void 0,this._resizeMode=void 0,this._topGap=void 0,this._rightGap=void 0,this._bottomGap=void 0,this._leftGap=void 0,this._columnGap=void 0,this._lineGap=void 0,this._colLineNum=void 0,this._lastDisplayData=void 0,this.displayData=void 0,this._pool=void 0,this._itemTmp=void 0,this._itemTmpUt=void 0,this._needUpdateWidget=!1,this._itemSize=void 0,this._sizeType=void 0,this._customSize=void 0,this.frameCount=void 0,this._aniDelRuning=!1,this._aniDelCB=void 0,this._aniDelItem=void 0,this._aniDelBeforePos=void 0,this._aniDelBeforeScale=void 0,this.viewTop=void 0,this.viewRight=void 0,this.viewBottom=void 0,this.viewLeft=void 0,this._doneAfterUpdate=!1,this.elasticTop=void 0,this.elasticRight=void 0,this.elasticBottom=void 0,this.elasticLeft=void 0,this.scrollToListId=void 0,this.adhering=!1,this._adheringBarrier=!1,this.nearestListId=void 0,this.curPageNum=0,this._beganPos=void 0,this._scrollPos=void 0,this._curScrollIsTouch=void 0,this._scrollToListId=void 0,this._scrollToEndTime=void 0,this._scrollToSo=void 0,this._lack=void 0,this._allItemSize=void 0,this._allItemSizeNoEdge=void 0,this._scrollItem=void 0,this._thisNodeUt=void 0,this._refresh=!1,this._refreshing=!1,this._waitRefresh=!1,this._target=void 0,this._refreshHandler=void 0,this._nodeRefresh=void 0,this._labRefresh=void 0,this._spRefresh=void 0,this._refreshTween=void 0,this._offset=void 0,this._insert=!1,this._inserting=!1,this._waitInsert=!1,this._insertHandler=void 0,this._nodeInsert=void 0,this._labInsert=void 0,this._spInsert=void 0,this._insertTween=void 0}set slideMode(t){this._slideMode=t}get slideMode(){return this._slideMode}set virtual(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()}get virtual(){return this._virtual}set updateRate(t){t>=0&&t<=6&&(this._updateRate=t)}get updateRate(){return this._updateRate}set selectedId(t){let e,i=this;switch(i.selectedMode){case bt.SINGLE:{if(!i.repeatEventSingle&&t==i._selectedId)return;let s;if(e=i.getItemByListId(t),i._selectedId>=0?i._lastSelectedId=i._selectedId:i._lastSelectedId=null,i._selectedId=t,e&&(s=e.getComponent(N),s.selected=!0),i._lastSelectedId>=0&&i._lastSelectedId!=i._selectedId){let t=i.getItemByListId(i._lastSelectedId);t&&(t.getComponent(N).selected=!1)}i.selectedEvent&&r.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems);break}case bt.MULT:{if(e=i.getItemByListId(t),!e)return;let s=e.getComponent(N);i._selectedId>=0&&(i._lastSelectedId=i._selectedId),i._selectedId=t;let o=!s.selected;s.selected=o;let l=i.multSelected.indexOf(t);o&&l<0?i.multSelected.push(t):!o&&l>=0&&i.multSelected.splice(l,1),i.selectedEvent&&r.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems,o);break}}}get selectedId(){return this._selectedId}set numItems(t){let e=this;if(e.checkInited(!1))if(null==t||t<0)console.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=zt.PAGE||(e.curPageNum=e.nearestListId);else{e.cyclic&&(e._resizeContent(),e._numItems=e._cyclicNum*e._numItems);let t=e.content.getComponent(m);if(t&&(t.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){let t=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum;for(let i=0;i<t;i++)e._createOrUpdateItem2(i);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(let t=0;t<e._numItems;t++)e._createOrUpdateItem2(t);e.displayItemNum=e._numItems}}}get numItems(){return this._actualNumItems}get scrollView(){return this._scrollView}onLoad(){this._init()}onDestroy(){let t=this;p(t._itemTmp)&&t._itemTmp.destroy(),p(t.tmpNode)&&t.tmpNode.destroy(),t._pool&&t._pool.clear()}onEnable(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))}onDisable(){this._unregisterEvent()}_registerEvent(){let t=this;t.node.on(n.EventType.TOUCH_START,t._onTouchStart,t),t.node.on("touch-up",t._onTouchUp,t),t.node.on(n.EventType.TOUCH_CANCEL,t._onTouchCancelled,t),t.node.on("scroll-began",t._onScrollBegan,t),t.node.on("scroll-ended",t._onScrollEnded,t),t.node.on("scrolling",t._onScrolling,t),t.node.on(n.EventType.SIZE_CHANGED,t._onSizeChanged,t)}_unregisterEvent(){let t=this;t.node.off(n.EventType.TOUCH_START,t._onTouchStart,t),t.node.off("touch-up",t._onTouchUp,t),t.node.off(n.EventType.TOUCH_CANCEL,t._onTouchCancelled,t),t.node.off("scroll-began",t._onScrollBegan,t),t.node.off("scroll-ended",t._onScrollEnded,t),t.node.off("scrolling",t._onScrolling,t),t.node.off(n.EventType.SIZE_CHANGED,t._onSizeChanged,t)}_init(){let t=this;if(!t._inited)if(t._thisNodeUt=t.node.getComponent(g),t._scrollView=t.node.getComponent(o),t.content=t._scrollView.content,t._contentUt=t.content.getComponent(g),t.content){switch(t._layout=t.content.getComponent(m),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(f(t.templateType==wt.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=zt.ADHERING&&t._slideMode!=zt.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new I,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case m.Type.HORIZONTAL:switch(t._horizontalDir){case m.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case m.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case m.Type.VERTICAL:switch(t._verticalDir){case m.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case m.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case m.Type.GRID:switch(t._startAxis){case m.AxisDirection.HORIZONTAL:switch(t._verticalDir){case m.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case m.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case m.AxisDirection.VERTICAL:switch(t._horizontalDir){case m.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case m.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else console.error(t.node.name+"'s ScrollView unset content!")}_processAutoScrolling(t){const e=1e-4,i=new y;let s=this._scrollView;const l=s._isNecessaryAutoScrollBrake(),n=l?.05:1;s._autoScrollAccumulatedTime+=t*(1/n);let a=Math.min(1,s._autoScrollAccumulatedTime/s._autoScrollTotalTime);var h;s._autoScrollAttenuate&&(h=a,a=(h-=1)*h*h*h*h+1);const r=s._autoScrollTargetDelta.clone();r.multiplyScalar(a);const c=s._autoScrollStartPosition.clone();c.add(r);let _=Math.abs(a-1)<=e;if(Math.abs(a-1)<=s.getScrollEndedEventTiming()&&!s._isScrollEndedWithThresholdEventFired&&(s._dispatchEvent(o.EventType.SCROLL_ENG_WITH_THRESHOLD),s._isScrollEndedWithThresholdEventFired=!0),s.elastic){const t=c.clone();t.subtract(s._autoScrollBrakingStartPosition),l&&t.multiplyScalar(n),c.set(s._autoScrollBrakingStartPosition),c.add(t)}else{const t=c.clone();t.subtract(s._getContentPosition());const o=s._getHowMuchOutOfBoundary(t);o.equals(i,e)||(c.add(o),_=!0)}_&&(s._autoScrolling=!1);const d=new y(c);d.subtract(s._getContentPosition()),s._clampDelta(d),s._moveContent(d,_),s._dispatchEvent(o.EventType.SCROLLING),s._autoScrolling||(s._isBouncing=!1,s._scrolling=!1,s._dispatchEvent(o.EventType.SCROLL_ENDED))}setTemplateItem(t){if(!t)return;let e=this;if(e._itemTmp=t,e._itemTmpUt=t.getComponent(g),e._resizeMode==m.ResizeMode.CHILDREN)e._itemSize=e._layout.cellSize;else{let i=t.getComponent(g);e._itemSize=new T(i.width,i.height)}let i=t.getComponent(N),s=!1;switch(i||(s=!0),s&&(e.selectedMode=bt.NONE),i=t.getComponent(S),i&&i.enabled&&(e._needUpdateWidget=!0),e.selectedMode==bt.MULT&&(e.multSelected=[]),e._align){case m.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case m.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case m.Type.GRID:switch(e._startAxis){case m.AxisDirection.HORIZONTAL:let t=e._contentUt.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((t+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case m.AxisDirection.VERTICAL:let i=e._contentUt.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((i+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}checkInited(t=!0){return!!this._inited||(t&&console.error("List initialization not completed!"),!1)}_resizeContent(){let t,e=this;switch(e._align){case m.Type.HORIZONTAL:if(e._customSize){let i=e._getFixedSize(null);t=e._leftGap+i.val+e._itemSize.width*(e._numItems-i.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case m.Type.VERTICAL:if(e._customSize){let i=e._getFixedSize(null);t=e._topGap+i.val+e._itemSize.height*(e._numItems-i.count)+e._lineGap*(e._numItems-1)+e._bottomGap}else t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case m.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case m.AxisDirection.HORIZONTAL:let i=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*i+e._lineGap*(i-1)+e._bottomGap;break;case m.AxisDirection.VERTICAL:let s=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*s+e._columnGap*(s-1)+e._rightGap}}let i=e.content.getComponent(m);if(i&&(i.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){let t=e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width;e._cyclicPos1=0,t-=e._cyclicPos1,e._cyclicNum=Math.ceil(t/e._allItemSizeNoEdge)+1;let i=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+i,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+i*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=i*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width);let s=e._lack&&e.lackCenter||!e.lackSlide?.1:0,o=e._lack?(e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width)-s:e.cyclic?e._cyclicAllItemSize:e._allItemSize;o<0&&(o=0),e._sizeType?e._contentUt.height=o:e._contentUt.width=o}_onScrolling(t=null){if(null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)return void this.frameCount--;if(this.frameCount=this._updateRate,this._aniDelRuning)return;if(this.cyclic){let t=this.content.getPosition();t=this._sizeType?t.y:t.x;let e=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),i=this._sizeType?new y(0,e,0):new y(e,0,0),s=this.content.getPosition();switch(this._alignCalcType){case 1:t>-this._cyclicPos1?(s.set(-this._cyclicPos2,s.y,s.z),this.content.setPosition(s),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(i))):t<-this._cyclicPos2&&(s.set(-this._cyclicPos1,s.y,s.z),this.content.setPosition(s),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)));break;case 2:t<this._cyclicPos1?(s.set(this._cyclicPos2,s.y,s.z),this.content.setPosition(s),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):t>this._cyclicPos2&&(s.set(this._cyclicPos1,s.y,s.z),this.content.setPosition(s),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(i)));break;case 3:t<this._cyclicPos1?(s.set(s.x,this._cyclicPos2,s.z),this.content.setPosition(s),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):t>this._cyclicPos2&&(s.set(s.x,this._cyclicPos1,s.z),this.content.setPosition(s),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(i)));break;case 4:t>-this._cyclicPos1?(s.set(s.x,-this._cyclicPos2,s.z),this.content.setPosition(s),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(i))):t<-this._cyclicPos2&&(s.set(s.x,-this._cyclicPos1,s.z),this.content.setPosition(s),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)))}}let e,i,s,o;if(this._calcViewPos(),this._sizeType?(e=this.viewTop,s=this.viewBottom):(i=this.viewRight,o=this.viewLeft),this._virtual){let t;this.displayData=[];let l=0,n=this._numItems-1;if(this._customSize){let a=!1;for(;l<=n&&!a;l++)switch(t=this._calcItemPos(l),this._align){case m.Type.HORIZONTAL:t.right>=o&&t.left<=i?this.displayData.push(t):0!=l&&this.displayData.length>0&&(a=!0);break;case m.Type.VERTICAL:t.bottom<=e&&t.top>=s?this.displayData.push(t):0!=l&&this.displayData.length>0&&(a=!0);break;case m.Type.GRID:switch(this._startAxis){case m.AxisDirection.HORIZONTAL:t.bottom<=e&&t.top>=s?this.displayData.push(t):0!=l&&this.displayData.length>0&&(a=!0);break;case m.AxisDirection.VERTICAL:t.right>=o&&t.left<=i?this.displayData.push(t):0!=l&&this.displayData.length>0&&(a=!0)}}}else{let t=this._itemSize.width+this._columnGap,a=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:l=(o-this._leftGap)/t,n=(i-this._leftGap)/t;break;case 2:l=(-i-this._rightGap)/t,n=(-o-this._rightGap)/t;break;case 3:l=(-e-this._topGap)/a,n=(-s-this._topGap)/a;break;case 4:l=(s-this._bottomGap)/a,n=(e-this._bottomGap)/a}for(l=Math.floor(l)*this._colLineNum,n=Math.ceil(n)*this._colLineNum,n--,l<0&&(l=0),n>=this._numItems&&(n=this._numItems-1);l<=n;l++)this.displayData.push(this._calcItemPos(l))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;let a=this._lastDisplayData.length,h=this.displayItemNum!=a;if(h&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(((t,e)=>t-e)),h=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[a-1]),this._forceUpdate||h)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(let t=0;t<this.displayItemNum;t++)this._createOrUpdateItem(this.displayData[t]);this._forceUpdate=!1}this._calcNearestItem()}}_calcViewPos(){let t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this._thisNodeUt.width,this.elasticRight=this.viewRight>this._contentUt.width?Math.abs(this.viewRight-this._contentUt.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this._thisNodeUt.width,this.elasticLeft=this.viewLeft<-this._contentUt.width?Math.abs(this.viewLeft+this._contentUt.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this._thisNodeUt.height,this.elasticBottom=this.viewBottom<-this._contentUt.height?Math.abs(this.viewBottom+this._contentUt.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this._thisNodeUt.height,this.elasticTop=this.viewTop>this._contentUt.height?Math.abs(this.viewTop-this._contentUt.height):0,this.viewTop-=this.elasticTop}}_calcItemPos(t){let e,i,s,o,l,n,a,h;switch(this._align){case m.Type.HORIZONTAL:switch(this._horizontalDir){case m.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){let i=this._getFixedSize(t);l=this._leftGap+(this._itemSize.width+this._columnGap)*(t-i.count)+(i.val+this._columnGap*i.count);let s=this._customSize[t];e=s>0?s:this._itemSize.width}else l=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(this.lackCenter){l-=this._leftGap,l+=this._contentUt.width/2-this._allItemSizeNoEdge/2}return n=l+e,{id:t,left:l,right:n,x:l+this._itemTmpUt.anchorX*e,y:this._itemTmp.y};case m.HorizontalDirection.RIGHT_TO_LEFT:if(this._customSize){let i=this._getFixedSize(t);n=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-i.count)-(i.val+this._columnGap*i.count);let s=this._customSize[t];e=s>0?s:this._itemSize.width}else n=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(this.lackCenter){n+=this._rightGap,n-=this._contentUt.width/2-this._allItemSizeNoEdge/2}return l=n-e,{id:t,right:n,left:l,x:l+this._itemTmpUt.anchorX*e,y:this._itemTmp.y}}break;case m.Type.VERTICAL:switch(this._verticalDir){case m.VerticalDirection.TOP_TO_BOTTOM:if(this._customSize){let e=this._getFixedSize(t);s=-this._topGap-(this._itemSize.height+this._lineGap)*(t-e.count)-(e.val+this._lineGap*e.count);let o=this._customSize[t];i=o>0?o:this._itemSize.height}else s=-this._topGap-(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(this.lackCenter){s+=this._topGap,s-=this._contentUt.height/2-this._allItemSizeNoEdge/2}return o=s-i,{id:t,top:s,bottom:o,x:this._itemTmp.x,y:o+this._itemTmpUt.anchorY*i};case m.VerticalDirection.BOTTOM_TO_TOP:if(this._customSize){let e=this._getFixedSize(t);o=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-e.count)+(e.val+this._lineGap*e.count);let s=this._customSize[t];i=s>0?s:this._itemSize.height}else o=this._bottomGap+(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(this.lackCenter){o-=this._bottomGap,o+=this._contentUt.height/2-this._allItemSizeNoEdge/2}return s=o+i,{id:t,top:s,bottom:o,x:this._itemTmp.x,y:o+this._itemTmpUt.anchorY*i}}case m.Type.GRID:{let e=Math.floor(t/this._colLineNum);switch(this._startAxis){case m.AxisDirection.HORIZONTAL:switch(this._verticalDir){case m.VerticalDirection.TOP_TO_BOTTOM:s=-this._topGap-(this._itemSize.height+this._lineGap)*e,o=s-this._itemSize.height,h=o+this._itemTmpUt.anchorY*this._itemSize.height;break;case m.VerticalDirection.BOTTOM_TO_TOP:o=this._bottomGap+(this._itemSize.height+this._lineGap)*e,s=o+this._itemSize.height,h=o+this._itemTmpUt.anchorY*this._itemSize.height}switch(a=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case m.HorizontalDirection.LEFT_TO_RIGHT:a+=this._itemTmpUt.anchorX*this._itemSize.width,a-=this._contentUt.anchorX*this._contentUt.width;break;case m.HorizontalDirection.RIGHT_TO_LEFT:a+=(1-this._itemTmpUt.anchorX)*this._itemSize.width,a-=(1-this._contentUt.anchorX)*this._contentUt.width,a*=-1}return{id:t,top:s,bottom:o,x:a,y:h};case m.AxisDirection.VERTICAL:switch(this._horizontalDir){case m.HorizontalDirection.LEFT_TO_RIGHT:l=this._leftGap+(this._itemSize.width+this._columnGap)*e,n=l+this._itemSize.width,a=l+this._itemTmpUt.anchorX*this._itemSize.width,a-=this._contentUt.anchorX*this._contentUt.width;break;case m.HorizontalDirection.RIGHT_TO_LEFT:n=-this._rightGap-(this._itemSize.width+this._columnGap)*e,l=n-this._itemSize.width,a=l+this._itemTmpUt.anchorX*this._itemSize.width,a+=(1-this._contentUt.anchorX)*this._contentUt.width}switch(h=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case m.VerticalDirection.TOP_TO_BOTTOM:h-=(1-this._itemTmpUt.anchorY)*this._itemSize.height,h+=(1-this._contentUt.anchorY)*this._contentUt.height;break;case m.VerticalDirection.BOTTOM_TO_TOP:h-=this._itemTmpUt.anchorY*this._itemSize.height,h+=this._contentUt.anchorY*this._contentUt.height,h*=-1}return{id:t,left:l,right:n,x:a,y:h}}break}}}_calcExistItemPos(t){let e=this.getItemByListId(t);if(!e)return null;let i=e.getComponent(g),s=e.getPosition(),o={id:t,x:s.x,y:s.y};return this._sizeType?(o.top=s.y+i.height*(1-i.anchorY),o.bottom=s.y-i.height*i.anchorY):(o.left=s.x-i.width*i.anchorX,o.right=s.x+i.width*(1-i.anchorX)),o}getItemPos(t){return this._virtual||this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)}_getFixedSize(t){if(!this._customSize)return null;null==t&&(t=this._numItems);let e=0,i=0;for(let s in this._customSize)parseInt(s)<t&&(e+=this._customSize[s],i++);return{val:e,count:i}}_onScrollBegan(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft}_onScrollEnded(){let t=this;if(t._curScrollIsTouch=!1,null!=t.scrollToListId){let e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&v(e).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}t._onScrolling(),t._slideMode!=zt.ADHERING||t.adhering?t._slideMode==zt.PAGE&&(null!=t._beganPos&&t._curScrollIsTouch?this._pageAdhere():t.adhere()):t.adhere()}_onTouchStart(t,e){if(this._scrollView._hasNestedViewGroup(t,e))return;if(this._curScrollIsTouch=!0,!(t.eventPhase===Event.AT_TARGET&&t.target===this.node)){let e=t.target;for(;null==e._listId&&e.parent;)e=e.parent;this._scrollItem=null!=e._listId?e:t.target}}_onTouchUp(){let t=this;t._scrollPos=null,t._slideMode==zt.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==zt.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null}_onTouchCancelled(t,e){let i=this;i._scrollView._hasNestedViewGroup(t,e)||t.simulate||(i._scrollPos=null,i._slideMode==zt.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==zt.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)}_onSizeChanged(){this.checkInited(!1)&&this._onScrolling()}_onItemAdaptive(t){let e=t.getComponent(g);if(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height){this._customSize||(this._customSize={});let i=this._sizeType?e.height:e.width;this._customSize[t._listId]!=i&&(this._customSize[t._listId]=i,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}}_pageAdhere(){let t=this;if(!t.cyclic&&(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0))return;let e=t._sizeType?t.viewTop:t.viewLeft,i=(t._sizeType?t._thisNodeUt.height:t._thisNodeUt.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>i){let i=.5;switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(i):t.nextPage(i);break;case 2:case 3:t._beganPos<e?t.prePage(i):t.nextPage(i)}}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}adhere(){let t=this;if(!t.checkInited())return;if(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)return;t.adhering=!0,t._calcNearestItem();let e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t._thisNodeUt.height:t._thisNodeUt.width);t.scrollTo(t.nearestListId,.7,e)}update(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){let t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum;for(let e=this._updateCounter;e<t;e++){let t=this.displayData[e];t&&this._createOrUpdateItem(t)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==zt.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){let t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum;for(let e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==zt.PAGE&&(this.curPageNum=this.nearestListId)}_createOrUpdateItem(t){let e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(new y(t.x,t.y,0)),this._resetItemSize(e),this.renderEvent&&r.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{let i=this._pool.size()>0;if(e=i?this._pool.get():f(this._itemTmp),i&&p(e)||(e=f(this._itemTmp),i=!1),e._listId!=t.id){e._listId=t.id,e.getComponent(g).setContentSize(this._itemSize)}if(e.setPosition(new y(t.x,t.y,0)),this._resetItemSize(e),this.content.addChild(e),i&&this._needUpdateWidget){let t=e.getComponent(S);t&&t.updateAlignment()}e.setSiblingIndex(this.content.children.length-1);let s=e.getComponent(N);e.listItem=s,s&&(s.listId=t.id,s.list=this,s._registerEvent()),this.renderEvent&&r.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)}_createOrUpdateItem2(t){let e,i=this.content.children[t];i?this._forceUpdate&&this.renderEvent&&(i._listId=t,e&&(e.listId=t),this.renderEvent&&r.emitEvents([this.renderEvent],i,t%this._actualNumItems)):(i=f(this._itemTmp),i._listId=t,this.content.addChild(i),e=i.getComponent(N),i.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&r.emitEvents([this.renderEvent],i,t%this._actualNumItems)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)}_updateListItem(t){if(t&&this.selectedMode>bt.NONE){let e=t.node;switch(this.selectedMode){case bt.SINGLE:t.selected=this.selectedId==e._listId;break;case bt.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}}_resetItemSize(t){}_updateItemPos(t){let e=isNaN(t)?t:this.getItemByListId(t),i=this.getItemPos(e._listId);e.setPosition(i.x,i.y)}setMultSelected(t,e){let i=this;if(i.checkInited()){if(Array.isArray(t)||(t=[t]),null==e)i.multSelected=t;else{let s,o;if(e)for(let e=t.length-1;e>=0;e--)s=t[e],o=i.multSelected.indexOf(s),o<0&&i.multSelected.push(s);else for(let e=t.length-1;e>=0;e--)s=t[e],o=i.multSelected.indexOf(s),o>=0&&i.multSelected.splice(o,1)}i._forceUpdate=!0,i._onScrolling()}}getMultSelected(){return this.multSelected}hasMultSelected(t){return this.multSelected&&this.multSelected.indexOf(t)>=0}updateItem(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(let e=0,i=t.length;e<i;e++){let i=t[e],s=this.getItemByListId(i);s&&r.emitEvents([this.renderEvent],s,i%this._actualNumItems)}}}updateAll(){this.checkInited()&&(this.numItems=this.numItems)}getItemByListId(t){if(this.content)for(let e=this.content.children.length-1;e>=0;e--){let i=this.content.children[e];if(i._listId==t)return i}}_getOutsideItem(){let t,e=[];for(let i=this.content.children.length-1;i>=0;i--)t=this.content.children[i],this.displayData.find((e=>e.id==t._listId))||e.push(t);return e}_delRedundantItem(){if(this._virtual){let t=this._getOutsideItem();for(let e=t.length-1;e>=0;e--){let i=t[e];if(!this._scrollItem||i._listId!=this._scrollItem._listId){i.isCached=!0,this._pool.put(i);for(let t=this._lastDisplayData.length-1;t>=0;t--)if(this._lastDisplayData[t]==i._listId){this._lastDisplayData.splice(t,1);break}}}}else for(;this.content.children.length>this._numItems;)this._delSingleItem(this.content.children[this.content.children.length-1])}_delSingleItem(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null}aniDelItem(t,e,i){let s=this;if(!s.checkInited()||s.cyclic||!s._virtual)return console.error("This function is not allowed to be called!");if(!e)return console.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(s._aniDelRuning)return console.warn("Please wait for the current deletion to finish!");let o,l=s.getItemByListId(t);if(!l)return void e(t);o=l.getComponent(N),s._aniDelRuning=!0,s._aniDelCB=e,s._aniDelItem=l,s._aniDelBeforePos=l.position,s._aniDelBeforeScale=l.scale;let n=s.displayData[s.displayData.length-1].id,a=o.selected;o.showAni(i,(()=>{let i;if(n<s._numItems-2&&(i=n+1),null!=i){let t=s._calcItemPos(i);s.displayData.push(t),s._virtual?s._createOrUpdateItem(t):s._createOrUpdateItem2(i)}else s._numItems--;if(s.selectedMode==bt.SINGLE)a?s._selectedId=-1:s._selectedId-1>=0&&s._selectedId--;else if(s.selectedMode==bt.MULT&&s.multSelected.length){let e=s.multSelected.indexOf(t);e>=0&&s.multSelected.splice(e,1);for(let e=s.multSelected.length-1;e>=0;e--){s.multSelected[e]>=t&&s.multSelected[e]--}}if(s._customSize){s._customSize[t]&&delete s._customSize[t];let e,i={};for(let o in s._customSize){e=s._customSize[o];let l=parseInt(o);i[l-(l>=t?1:0)]=e}s._customSize=i}let o,h;for(let a=null!=i?i:n;a>=t+1;a--)if(l=s.getItemByListId(a),l){let i=s._calcItemPos(a-1);o=v(l).to(.2333,{position:new y(i.x,i.y,0)}),a<=t+1&&(h=!0,o.call((()=>{s._aniDelRuning=!1,e(t),delete s._aniDelCB}))),o.start()}h||(s._aniDelRuning=!1,e(t),s._aniDelCB=null)}),!0)}scrollTo(t,e=.5,i=null,s=!1){let o=this;if(!o.checkInited(!1))return;null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=o._numItems&&(t=o._numItems-1),!o._virtual&&o._layout&&o._layout.enabled&&o._layout.updateLayout();let l,n,a=o.getItemPos(t);if(!a)return D;switch(o._alignCalcType){case 1:l=a.left,l-=null!=i?o._thisNodeUt.width*i:o._leftGap,a=new y(l,0,0);break;case 2:l=a.right-o._thisNodeUt.width,l+=null!=i?o._thisNodeUt.width*i:o._rightGap,a=new y(l+o._contentUt.width,0,0);break;case 3:n=a.top,n+=null!=i?o._thisNodeUt.height*i:o._topGap,a=new y(0,-n,0);break;case 4:n=a.bottom+o._thisNodeUt.height,n-=null!=i?o._thisNodeUt.height*i:o._bottomGap,a=new y(0,-n+o._contentUt.height,0)}let h=o.content.getPosition();h=Math.abs(o._sizeType?h.y:h.x);let r=o._sizeType?a.y:a.x;Math.abs((null!=o._scrollPos?o._scrollPos:h)-r)>.5&&(o._scrollView.scrollToOffset(a,e),o._scrollToListId=t,o._scrollToEndTime=(new Date).getTime()/1e3+e,o._scrollToSo=o.scheduleOnce((()=>{if(o._adheringBarrier||(o.adhering=o._adheringBarrier=!1),o._scrollPos=o._scrollToListId=o._scrollToEndTime=o._scrollToSo=null,s){let e=o.getItemByListId(t);e&&v(e).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}}),e+.1),e<=0&&o._onScrolling())}_calcNearestItem(){let t,e,i,s,o,l,n=this;n.nearestListId=null,n._virtual&&n._calcViewPos(),i=n.viewTop,s=n.viewRight,o=n.viewBottom,l=n.viewLeft;let a=!1;for(let h=0;h<n.content.children.length&&!a;h+=n._colLineNum)if(t=n._virtual?n.displayData[h]:n._calcExistItemPos(h),t)switch(e=n._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,n._alignCalcType){case 1:t.right>=l&&(n.nearestListId=t.id,l>e&&(n.nearestListId+=n._colLineNum),a=!0);break;case 2:t.left<=s&&(n.nearestListId=t.id,s<e&&(n.nearestListId+=n._colLineNum),a=!0);break;case 3:t.bottom<=i&&(n.nearestListId=t.id,i<e&&(n.nearestListId+=n._colLineNum),a=!0);break;case 4:t.top>=o&&(n.nearestListId=t.id,o>e&&(n.nearestListId+=n._colLineNum),a=!0)}if(t=n._virtual?n.displayData[n.displayItemNum-1]:n._calcExistItemPos(n._numItems-1),t&&t.id==n._numItems-1)switch(e=n._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,n._alignCalcType){case 1:s>e&&(n.nearestListId=t.id);break;case 2:l<e&&(n.nearestListId=t.id);break;case 3:o<e&&(n.nearestListId=t.id);break;case 4:i>e&&(n.nearestListId=t.id)}}prePage(t=.5){this.checkInited()&&this.skipPage(this.curPageNum-1,t)}nextPage(t=.5){this.checkInited()&&this.skipPage(this.curPageNum+1,t)}skipPage(t,e){let i=this;if(i.checkInited())return i._slideMode!=zt.PAGE?console.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=i._numItems||i.curPageNum!=t&&(i.curPageNum=t,i.pageChangeEvent&&r.emitEvents([i.pageChangeEvent],t),i.scrollTo(t,e)))}calcCustomSize(t){let e=this;if(!e.checkInited())return;if(!e._itemTmp)return console.error("Unset template item!");if(!e.renderEvent)return console.error("Unset Render-Event!");e._customSize={};let i=f(e._itemTmp),s=i.getComponent(g);e.content.addChild(i);for(let o=0;o<t;o++)r.emitEvents([e.renderEvent],i,o),s.height==e._itemSize.height&&s.width==e._itemSize.width||(e._customSize[o]=e._sizeType?s.height:s.width);return Object.keys(e._customSize).length||(e._customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),e._customSize}registerScroll2TopEvent(t){this.node.on("scroll-to-top",t,this,!0)}registerScroll2BottomEvent(t){this.node.on("scroll-to-bottom",t,this,!0)}registerBounceBottomEvent(t){this.node.on("bounce-bottom",t,this,!0)}registerBounceTopEvent(t){this.node.on("bounce-top",t,this,!0)}registerDropRefreshEvent(t,e){this._refresh=!0,this._target=t,this._refreshHandler=e;var i=new n;i.setPosition(0,2*this.node.getComponent(g).height);var s=(new n).addComponent(w);s.string="下拉刷新",s.node.color=color(119,119,119),s.fontSize=28,i.addChild(s.node);var o=(new n).addComponent(z);assetManager.loadBundle("common",((t,e)=>{t||e.load("res/texture/common/c_loading",b,((t,e)=>{p(this.node)&&(o.spriteFrame=e)}))})),o.node.scale=.6,i.addChild(o.node),this._scrollView.content.parent.addChild(i),i.zIndex=-1e3,this._nodeRefresh=i,this._labRefresh=s,this._spRefresh=o}_onScrolling4Refresh(){if(this._refresh){let t=this.content.getPosition().y;if(this._refreshing||t>0)return;this._waitRefresh=-t>150,this._nodeRefresh.setPosition(0,t+60),this._spRefresh.node.active=this._refreshing||this._waitRefresh,this._labRefresh.node.active=!this._spRefresh.node.active}}_onTouchUp4Refresh(){this._refresh&&this._waitRefresh&&(this._offset=120,this._refreshing=!0,this._waitRefresh=!1,this.node.pauseSystemEvents(!0),v(this._nodeRefresh).to(.1,{y:-60}).delay(.1).call((()=>{this._refreshHandler&&this._refreshHandler.call(this._target)})).start(),this._refreshTween?this._refreshTween.start():this._refreshTween=v(this._spRefresh.node).repeatForever(v().by(0,{angle:-30}).delay(.07)).start())}stopDropRefresh(){this._refreshing&&(this._refreshing=!1,this._offset=0,this._scrollView.scrollToOffset(v2(0,0),0,!0),this._scrollView.bounceDuration=.3,this.node.resumeSystemEvents(!0),this._refreshTween.stop(),this._spRefresh.node.angle=0,this._spRefresh.node.active=!1)}registerPullInsertEvent(t,e){this._insert=!0,this._target=t,this._insertHandler=e;var i=new n;i.setPosition(0,2*this.node.height);var s=(new n).addComponent(w);s.string="Pull up loading",s.node.color=color(119,119,119),s.fontSize=28,i.addChild(s.node);var o=(new n).addComponent(z);assetManager.loadBundle("common",((t,e)=>{t||e.load("texture/common/common_loading",b,((t,e)=>{p(this.node)&&(o.spriteFrame=e)}))})),o.node.scale=.6,i.addChild(o.node),this._scrollView.content.parent.addChild(i),i.zIndex=1e3,this._nodeInsert=i,this._labInsert=s,this._spInsert=o}_onScrolling4Insert(){if(this._insert){let t=this.content.getPosition().y;if(this._inserting||t<this.content.height-this.node.height)return;this._waitInsert=t-(this.content.height-this.node.height)>150,this._nodeInsert.setPosition(0,-this.node.height+(t-(this.content.height-this.node.height))-60),this._spInsert.node.active=this._inserting||this._waitInsert,this._labInsert.node.active=!this._spInsert.node.active}}_onTouchUp4Insert(){this._insert&&this._waitInsert&&(this._offset=-120,this._inserting=!0,this._waitInsert=!1,this.node.pauseSystemEvents(!0),v(this._nodeInsert).to(.1,{y:60-this.node.height}).delay(.1).call((()=>{this._insertHandler&&this._insertHandler.call(this._target)})).start(),this._insertTween?this._insertTween.start():this._insertTween=v(this._spInsert.node).repeatForever(v().by(0,{angle:-30}).delay(.07)).start())}stopPullInsert(){this._inserting&&(this._inserting=!1,this._offset=0,this._nodeInsert.setPosition(0,2*this.node.height),this._insertTween.stop(),this._spInsert.node.angle=0,this._scrollView.bounceDuration=.3,this.node.resumeSystemEvents(!0))}_flattenVectorByDirection(){let t=this;this._scrollView._flattenVectorByDirection=function(e){const i=e;return i.x=t._scrollView.horizontal?i.x:0,i.y=t._scrollView.vertical?i.y:0,t._offset&&t._offset>0&&i.y>t._offset&&(i.y-=t._offset),t._offset&&t._offset<0&&i.y<t._offset&&(i.y-=t._offset),i}}_adjustContentOutOfBoundary(){let t=this,e=t._scrollView._adjustContentOutOfBoundary.bind(t._scrollView);this._scrollView._adjustContentOutOfBoundary=function(){if(!t._scrollView.content)return;t._scrollView.content.width;var i;t._scrollView.content.height<t._scrollView.node.height&&(null==(i=t._scrollView.getComponent(S))||i.updateAlignment(),t._scrollView.content.height=t._scrollView.node.height);e()}}}).prototype,"templateType",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wt.NODE}}),et=e($.prototype,"tmpNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e($.prototype,"tmpPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e($.prototype,"_slideMode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zt.NORMAL}}),e($.prototype,"slideMode",[A],Object.getOwnPropertyDescriptor($.prototype,"slideMode"),$.prototype),ot=e($.prototype,"pageDistance",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),lt=e($.prototype,"pageChangeEvent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),nt=e($.prototype,"_virtual",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e($.prototype,"virtual",[k],Object.getOwnPropertyDescriptor($.prototype,"virtual"),$.prototype),at=e($.prototype,"cyclic",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=e($.prototype,"lackCenter",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rt=e($.prototype,"lackSlide",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ct=e($.prototype,"_updateRate",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e($.prototype,"updateRate",[Y],Object.getOwnPropertyDescriptor($.prototype,"updateRate"),$.prototype),_t=e($.prototype,"frameByFrameRenderNum",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dt=e($.prototype,"renderEvent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),ut=e($.prototype,"selectedMode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bt.NONE}}),mt=e($.prototype,"selectedEvent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),pt=e($.prototype,"repeatEventSingle",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gt=e($.prototype,"_numItems",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=$))||Q)||Q)||Q)||Q)||Q));s._RF.pop()}}}));

System.register("chunks:///_virtual/ListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){"use strict";var t,i,n,s,o,l,r,a,c,d,h,p,u,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.Sprite,o=e.Node,l=e.Enum,r=e.SpriteFrame,a=e._decorator,c=e.Component,d=e.Button,h=e.EventHandler,p=e.UITransform,u=e.tween,m=e.Vec3},function(e){b=e.DEV}],execute:function(){var g,f,v,y,_,C,S,w,E,F,I,N,z,T,k,D,H;n._RF.push({},"74b67YdSgpHjZoNVjlfU9Lg","ListItem",void 0);const{ccclass:L,property:M,disallowMultiple:G,menu:O,executionOrder:R}=a;var W;!function(e){e[e.NONE=0]="NONE",e[e.TOGGLE=1]="TOGGLE",e[e.SWITCH=2]="SWITCH"}(W||(W={}));e("default",(g=G(),f=O("List Item"),v=R(-5001),y=M({type:s,tooltip:b}),_=M({type:o,tooltip:b}),C=M({type:l(W),tooltip:b}),S=M({type:o,tooltip:b,visible(){return this.selectedMode>W.NONE}}),w=M({type:r,tooltip:b,visible(){return this.selectedMode==W.SWITCH}}),E=M({tooltip:b}),L(F=g(F=f(F=v((N=t((I=class extends c{constructor(...e){super(...e),i(this,"icon",N,this),i(this,"title",z,this),i(this,"selectedMode",T,this),i(this,"selectedFlag",k,this),i(this,"selectedSpriteFrame",D,this),this._unselectedSpriteFrame=null,i(this,"adaptiveSize",H,this),this._selected=!1,this._btnCom=void 0,this.list=void 0,this._eventReg=!1,this.listId=void 0}set selected(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case W.TOGGLE:this.selectedFlag.active=e;break;case W.SWITCH:let t=this.selectedFlag.getComponent(s);t&&(t.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame)}}get selected(){return this._selected}get btnCom(){return this._btnCom||(this._btnCom=this.node.getComponent(d)),this._btnCom}onLoad(){if(this.selectedMode==W.SWITCH){let e=this.selectedFlag.getComponent(s);this._unselectedSpriteFrame=e.spriteFrame}}onDestroy(){this.node.off(o.EventType.SIZE_CHANGED,this._onSizeChange,this)}_registerEvent(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(o.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)}_onSizeChange(){this.list._onItemAdaptive(this.node)}createEvt(e,t,i=null){if(!e.isValid)return;e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");let n=new h;return n.target=i||e.node,n.component=e.comName,n.handler=t,n}showAni(e,t,i){let n,s=this,o=s.node.getComponent(p);switch(e){case 0:n=u(s.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(0,2*o.height)});break;case 1:n=u(s.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(2*o.width,0)});break;case 2:n=u(s.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(0,-2*o.height)});break;case 3:n=u(s.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(-2*o.width,0)});break;default:n=u(s.node).to(.3,{scale:new m(.1,.1)})}(t||i)&&n.call((()=>{if(i){s.list._delSingleItem(s.node);for(let e=s.list.displayData.length-1;e>=0;e--)if(s.list.displayData[e].id==s.listId){s.list.displayData.splice(e,1);break}}t()})),n.start()}onClickThis(){this.list.selectedId=this.listId}}).prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(I.prototype,"title",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(I.prototype,"selectedMode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.NONE}}),k=t(I.prototype,"selectedFlag",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(I.prototype,"selectedSpriteFrame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(I.prototype,"adaptiveSize",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=I))||F)||F)||F)||F));n._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["cc","./Config.ts","./ILoading.ts"],(function(e){"use strict";var t,n,r,i,o,u;return{setters:[function(e){t=e.find,n=e.Label,r=e.cclegacy},function(e){i=e.ViewZOrder,o=e.Config},function(e){u=e.ILoading}],execute:function(){r._RF.push({},"2db47kDx9lIeLy2MbGZbrmp","Loading",void 0);class a extends u{get zOrder(){return i.Loading}findText(){var e;return null==(e=t("content/text",this.node))?void 0:e.getComponent(n)}get interval(){return o.LOADING_CONTENT_CHANGE_INTERVAL}get timeout(){return o.LOADING_TIME_OUT}get prefab(){return App.uiManager.getScenePrefab("Loading")}}e("default",a),a.module="【Loading】",r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorage.ts",["cc","./BitEncrypt.ts"],(function(t){"use strict";var e,r;return{setters:[function(t){e=t.cclegacy},function(t){r=t.BitEncrypt}],execute:function(){e._RF.push({},"ecf54s/MtVLRIrjjIqrRIjp","LocalStorage",void 0);class c{constructor(){this.module=null,this.key="VuxiAKihQ0VR9WRe"}encrypt(t){return r.encode(JSON.stringify(t),this.key)}decryption(t){return r.decode(t,this.key)}getItem(t,e=null){let r=this.storage.getItem(t);if(!r)return e;try{let t=this.decryption(r),e=JSON.parse(t);return e.type?e.value:r}catch(t){return r}}setItem(t,e){let r=typeof e;if("number"==r||"string"==r||"boolean"==r||"object"==r){let c={type:r,value:e};try{let e=this.encrypt(c);this.storage.setItem(t,e)}catch(t){}}}removeItem(t){this.storage.removeItem(t)}get storage(){return window.localStorage}}t("LocalStorage",c),c.module="【本地仓库】",e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorageUtils.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"bc79caE5ZpMaZMlSRctlEWX","LocalStorageUtils",void 0);class a{static _getLocalStorageName(e){return a._localStorageName+e}static _saveKey(e){a._keys=a.getKeys(),-1==a._keys.indexOf(e)&&(a._keys.push(e),localStorage.setItem(a._localStorageKeysName,JSON.stringify(a._keys)))}static _removeKey(e){a._keys=a.getKeys(),a._keys.remove(e),localStorage.setItem(a._localStorageKeysName,JSON.stringify(a._keys))}static set(e,t){a._saveKey(e),null!=t?null!=t?"string"!=typeof t?"number"!=typeof t?"boolean"!=typeof t?localStorage.setItem(a._getLocalStorageName(e),JSON.stringify(t)+a._KEY_OBJECT):localStorage.setItem(a._getLocalStorageName(e),t+a._KEY_BOOLEAN):localStorage.setItem(a._getLocalStorageName(e),t+a._KEY_NUMBER):localStorage.setItem(a._getLocalStorageName(e),t):localStorage.setItem(a._getLocalStorageName(e),t+a._KEY_NULL):localStorage.removeItem(a._getLocalStorageName(e))}static get(e){let t=localStorage.getItem(a._getLocalStorageName(e));if("string"!=typeof t)return t;try{if(t.lastIndexOf(a._KEY_OBJECT)==t.length-a._KEY_OBJECT.length)return JSON.parse(t.substring(0,t.length-a._KEY_OBJECT.length));if(t.lastIndexOf(a._KEY_NULL)==t.length-a._KEY_NULL.length&&t.length>=a._KEY_NULL.length)return null;if(t.lastIndexOf(a._KEY_NUMBER)==t.length-a._KEY_NUMBER.length){let e=t.substring(0,t.length-a._KEY_NUMBER.length);return-1!=e.indexOf(".")?parseFloat(e):parseInt(e)}if(t.lastIndexOf(a._KEY_BOOLEAN)==t.length-a._KEY_BOOLEAN.length){return"true"==t.substring(0,t.length-a._KEY_BOOLEAN.length)}return t}catch(e){return t}}static remove(e){let t=a.get(e);return-1!=a._keys.indexOf(e)&&a._removeKey(e),localStorage.removeItem(a._getLocalStorageName(e)),t}static getKeys(){if(0==a._keys.length){let e=localStorage.getItem(a._localStorageKeysName);null!=e?a._keys=JSON.parse(e):localStorage.setItem(a._localStorageKeysName,JSON.stringify(a._keys))}return JSON.parse(JSON.stringify(a._keys))}static clear(){a.getKeys().forEach((e=>{a.remove(e)}))}static has(e){return-1!=a.getKeys().indexOf(e)}}e("default",a),a._localStorageName="LocalStorageUtils_",a._localStorageKeysName="$__$LocalStorageUtils_Keys",a._KEY_NUMBER="[number]",a._KEY_NULL="[null]",a._KEY_OBJECT="[object]",a._KEY_BOOLEAN="[boolean]",a._keys=[],t._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc","./Enums.ts"],(function(t){"use strict";var e,r,i;return{setters:[function(t){e=t.cclegacy,r=t.sys},function(t){i=t.LogLevel}],execute:function(){e._RF.push({},"1373dsNcepOQKt3JH5pmlPC","Logger",void 0);class n{constructor(){this.logger=console,this._level=i.ALL,this.module=null,this.isResident=!0,this.update()}get level(){return this._level}set level(t){this._level=t,this.update()}attach(t){this.isValid(t)||(this.level=this.level|t,this.update())}detach(t){this.isValid(t)&&(this.level=this.level^t,this.update())}isValid(t){return!!(this.level&t)}update(){this.isValid(i.DUMP)?r.isBrowser?this.logger.dump=console.debug:this.logger.dump=this.dump.bind(this):this.logger.dump=()=>{},this.isValid(i.ERROR)?this.logger.e=console.error:this.logger.e=()=>{},this.isValid(i.DEBUG)?this.logger.d=console.log:this.logger.d=()=>{},this.isValid(i.WARN)?this.logger.w=console.warn:this.logger.w=()=>{}}dump(){if(this.isValid(i.DUMP)){let t=arguments[2];if(null==t&&(t=5),Number.isNaN(t)&&(t=10),t>10&&(t=10),t<=0)return void(t=1);let e=arguments[0];e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());let r=this._dump(e,arguments[1],t,0);this.logger.d(r)}}convertName(t,e="="){return t.length>0?`${t} ${e} `:" "}toBoolean(t,e){return`${this.convertName(t)}${e};`}toNumber(t,e){return`${this.convertName(t)}${e}`}toStringForDump(t,e){return`${this.convertName(t)}"${e}"`}toOther(t,e){return`${this.convertName(t)}${typeof e}`}toUnknown(t){return`${t.length>0?`${t} `:" "}is unknown type!`}get indentFormat(){return"    "}get halfIndentFormat(){return"   "}toArray(t,e,r,i){let n="",s=0,o="";s=e.length;let l=this.convertName(t,"");for(let t=0;t<i;++t)o+=" ";n=l+"[";for(let t=0;t<s;++t)n+="\n"+(0===o.length?"":""+o)+`${this.indentFormat}[${t}]:`+this._dump(e[t],"",r,i+1);return n+="\n"+(0===o.length?"":""+o+this.halfIndentFormat)+"]",n}toObject(t,e,r,i){let n="";if(null===e)return n="null",n;let s="";if(e instanceof Object){for(let t=0;t<i;++t)s+=" ";n="{";for(let t in e)n+="\n"+(0===s.length?"":""+s)+`${this.indentFormat}${t}:`+this._dump(e[t],"",r,i+1);return n+="\n"+(0===s.length?"":""+s+this.halfIndentFormat)+"}",n}return n="Unknown Object Type!",n}_dump(t,e="unkown",r,i){if(i>r)return"...";e=void 0===e?"":e;let n="";switch(typeof t){case"boolean":n+=this.toBoolean("",t);break;case"number":n+=this.toNumber("",t);break;case"string":n+=this.toStringForDump("",t);break;case"object":Array.isArray(t)?n+=this.toArray(e,t,r,i):n+=this.toObject(e,t,r,i);break;case"function":case"undefined":n+=this.toOther(e,t);break;default:n+=this.toUnknown(e)}return n}}t("LoggerImpl",n),n.module="【日志管理器】",e._RF.pop()}}}));

System.register("chunks:///_virtual/Logic.ts",["cc","./EventProcessor.ts","./Macros.ts"],(function(e){"use strict";var t,s,n,r;return{setters:[function(e){t=e.cclegacy,s=e.js},function(e){n=e.EventProcessor},function(e){r=e.Macro}],execute:function(){t._RF.push({},"4b9a0iaVZFD/KeijOJgJv2B","Logic",void 0);class o extends n{constructor(...e){super(...e),this.module=r.UNKNOWN,this._view=null}get view(){return this._view}reset(e){}onLoad(e){this._view=e,super.onLoad(e)}update(e){}destory(...e){this.onDestroy()}debug(){Log.d(`${this.module} : ${s.getClassName(this)}`)}enterBundle(e,t){Log.d(`print Logic enterBundle: ${e}, userData: ${t}`),App.entryManager.enterBundle(e,t)}backBundle(e){App.entryManager.backBundle(e)}}e("Logic",o),o.module=r.UNKNOWN,t._RF.pop()}}}));

System.register("chunks:///_virtual/LogicManager.ts",["cc","./SingletonT.ts","./UIView.ts"],(function(e){"use strict";var t,n,u;return{setters:[function(e){t=e.cclegacy},function(e){n=e.SingletonT},function(e){u=e.default}],execute:function(){t._RF.push({},"ed32aE8EBlBeKkWhJ7/xI6h","LogicManager",void 0);class r extends n{constructor(...e){super(...e),this.module=null}get(e,t){if(null==t&&(t=!1),"string"==typeof e)return super.get(e,t);if(e instanceof u){let n=e,u=App.uiManager.getViewType(n);if(u&&u.logicType){return u.logicType.module=n.bundle,super.get(u.logicType,t)}return null}return super.get(e,t)}}e("LogicManager",r),r.module="【逻辑管理器】",t._RF.pop()}}}));

System.register("chunks:///_virtual/LoginEntry.ts",["cc","./Entry.ts","./Decorators.ts","./Macros.ts","./LoginView.ts"],(function(){"use strict";var e,t,a,s,n,r;return{setters:[function(a){e=a.cclegacy,t=a.sys},function(e){a=e.Entry},function(e){s=e.registerEntry},function(e){n=e.Macro},function(e){r=e.default}],execute:function(){var o;e._RF.push({},"47c35I6YOhD07Qer7OZbFer","LoginEntry",void 0);s("LoginEntry",n.BUNDLE_RESOURCES,r)(o=class extends a{constructor(...e){super(...e),this.isMain=!0}addNetHandler(){}removeNetHandler(){}loadResources(e){e()}openGameView(){super.openGameView(),App.stageData.HOT_UPDATE_URL?App.entryManager.onCheckUpdate():(App.stageData.BASE_HTTP_URL="http://8.137.149.75:80/api",t.os==t.OS.ANDROID&&t.isNative?App.stageData.HOT_UPDATE_URL="https://hotcocos.vercel.app":t.os==t.OS.IOS&&t.isNative&&(App.stageData.HOT_UPDATE_URL="https://up.mongolianarts.org/ios"),App.updateManager.hotUpdateUrl=App.stageData.HOT_UPDATE_URL)}initData(){}pauseMessageQueue(){}resumeMessageQueue(){}onEnter(e){super.onEnter(e),Log.d("--------------onEnterLogin--------------")}});e._RF.pop()}}}));

System.register("chunks:///_virtual/LoginLogic.ts",["cc","./Logic.ts","./Macros.ts","./Utils.ts","./UserInfo.ts","./UserData.ts","./ConfigInfo.ts","./Config.ts","./RegisterView.ts"],(function(t){"use strict";var e,a,o,s,i,n,p,g,r,c,l,A;return{setters:[function(t){e=t.sys,a=t.cclegacy},function(t){o=t.Logic},function(t){s=t.Macro},function(t){i=t.default},function(t){n=t.default},function(t){p=t.UserDataEn},function(t){g=t.ConfigInfoEn,r=t.EmConfigData},function(t){c=t.Config,l=t.ViewZOrder},function(t){A=t.default}],execute:function(){a._RF.push({},"876f0yJIntBtZke1wJSQk0E","LoginLogic",void 0);t("default",class extends o{constructor(...t){super(...t),this.configApi=App.apis.config,this.userApi=App.apis.user}async onLoad(t){super.onLoad(t);const a=()=>{App.loading.show(""),this.gameReReady().then((()=>{App.loading.hide()})).catch((t=>{App.loading.hide(),App.alert.show({text:t.message,confirmString:"重试",confirmCb:a})}))};App.stageData.BASE_HTTP_URL||(App.stageData.BASE_HTTP_URL="http://8.137.149.75:80/api",e.os==e.OS.ANDROID&&e.isNative?App.stageData.HOT_UPDATE_URL="https://hotcocos.vercel.app":e.os==e.OS.IOS&&e.isNative&&(App.stageData.HOT_UPDATE_URL="https://up.mongolianarts.org/ios"),App.updateManager.hotUpdateUrl=App.stageData.HOT_UPDATE_URL),a(),Log.d("loadurl:"+App.stageData.HOT_UPDATE_URL),App.tips.show(App.stageData.HOT_UPDATE_URL)}async gameReReady(){g.clearConfig(r.PACKAGE),g.clearConfig(r.CONFIG),g.clearConfig(r.CONFIG_NOTICE);let t=3;return new Promise((async(e,a)=>{for(;t>0;){try{await this.configApi.getPackage(),await this.configApi.reqConfigs()}catch(t){}if(g.getConfig(r.PACKAGE)&&g.getConfig(r.CONFIG))return t=0,void e();t--}a(new Error("获取初始配置失败，请稍后重试。"))}))}onLogin(t,e,a){i.isEmpty(t)?App.tips.show("请输入手机号"):i.isEmpty(e)?App.tips.show("请输入密码"):(a?n.instance.setUserLoginConfig({isSavePassword:a,password:e,phone:t}):n.instance.clearUserLoginConfig(),App.loading.show(""),this.userApi.login(t,e).then((t=>{App.loading.hide(),console.log("====>>>>userApi: ",t),p.setUserData(t.data.account),p.getUserData().token=t.data.token,p.getUserData().jwt=t.data.jwt,this.onGetLoginToken()})).catch((t=>{App.alert.show(t.message),App.loading.hide()})))}onWxLoginClick(){App.globalAudio.playGlobalEffect(c.audioPath.button),e.os===e.OS.ANDROID&&e.isNative||App.tips.show("仅支持安卓真机环境")}getRobotConfig(){App.loading.show(""),this.userApi.getRobotConfig().then((t=>{App.loading.hide(),console.log("====>>>>userApi: ",t),p.setUserData(t.data.account),p.getUserData().token=t.data.token,p.getUserData().jwt=t.data.jwt,this.onGetLoginToken()})).catch((t=>{App.alert.show(t.message),App.loading.hide()}))}onGetLoginToken(){this.userApi.gameLogin(p.getUserData().token).then((t=>{p.getUserData().hallAddress=t.data.address,p.getUserData().hallProtocol=t.data.protocol,p.getUserData().hallToken=t.data.token,this.enterBundle(s.BUNDLE_HALL)}))}toRegister(t){App.globalAudio.playGlobalEffect(c.audioPath.button),App.uiManager.open({type:A,bundle:t,zIndex:l.UI})}toService(t){App.globalAudio.playGlobalEffect(c.audioPath.button);const e=g.getConfig(r.CONFIG);e&&e.chat_url?App.nativeBridge.openUrl(e.chat_url):App.tips.show("获取聊天链接地址失败！")}onDestroy(...t){super.onDestroy(...t)}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/LoginView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorators.ts","./LoginLogic.ts","./UserInfo.ts","./GameView.ts","./Config.ts","./PokerUtils.ts"],(function(i){"use strict";var t,e,o,n,s,r,a,l,u,c,p,g,h,d,f,b;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){o=i.cclegacy,n=i.Node,s=i.Sprite,r=i.EditBox,a=i.Label,l=i._decorator,u=i.native,c=i.sys},function(i){p=i.inject},function(i){g=i.default},function(i){h=i.default},function(i){d=i.default},function(i){f=i.Config},function(i){b=i.PokerUtils}],execute:function(){var w,v,y,L,m,P,S,N,E,_,A,C,z,I,R,T,x,D,U,O,V;o._RF.push({},"9b6e4Gzd2hJRZ81MAza9m0u","LoginView",void 0);const{ccclass:k,property:H}=l;i("default",(w=p({type:g,name:"logic"}),v=p("login",n),y=p("login-001",n),L=p("register",n),m=p("radio",s),P=p("phoneLayout/input",r),S=p("passwordLayout/input",r),N=p("customerService",n),E=p("versions",a),k(((V=class extends d{constructor(...i){super(...i),e(this,"logic",C,this),e(this,"login",z,this),e(this,"wxLogin",I,this),e(this,"register",R,this),e(this,"radio",T,this),e(this,"phoneInput",x,this),e(this,"passwordInput",D,this),e(this,"nService",U,this),e(this,"versions",O,this),this.isSavePassword=!1}static getPrefabUrl(){return"@LoginView"}onLoad(){super.onLoad(),this.onN(this.login,n.EventType.TOUCH_END,this.onLogin),this.onN(this.wxLogin,n.EventType.TOUCH_END,this.onWxLoginClick),u.bridge.onNative=(i,t)=>{if("wx_login_result"===i){const i=JSON.parse(t);"success"===i.status?App.tips.show("微信登录成功："+i.uid):App.tips.show("微信登录失败")}else"location"===i&&App.tips.show(""+t)},this.onN(this.register,n.EventType.TOUCH_END,(()=>this.logic.toRegister(this.bundle))),this.onN(this.nService,n.EventType.TOUCH_END,(()=>this.logic.toService(this.bundle))),this.onN(this.radio.node,n.EventType.TOUCH_END,this.toggleRadio),this.initView(),b.startCache(),this.onWxLoginClick()}initView(){var i=h.instance.getUserLoginConfig();if(console.log("userLoginConfig",i),!i)return this.isSavePassword=!1,void this.changeRadio();this.isSavePassword=i.isSavePassword,this.changeRadio(),this.phoneInput.string=i.phone,this.passwordInput.string=i.password,this.versions.string="版本："+f.APP_VERSION}addEvents(){}onLogin(){App.globalAudio.playGlobalEffect(f.audioPath.button),this.logic.onLogin(this.phoneInput.string,this.passwordInput.string,this.isSavePassword)}onWxLoginClick(){console.log("点击了微信登录按钮"),App.globalAudio.playGlobalEffect(f.audioPath.button),c.isNative&&c.os===c.OS.ANDROID?(console.log("发送微信登录请求到原生"),u.bridge.sendToNative("wx_login")):(console.warn("当前平台不支持微信登录（仅限 Android 原生）"),App.tips.show("当前平台不支持微信登录"))}toggleRadio(){App.globalAudio.playGlobalEffect(f.audioPath.button),this.isSavePassword=!this.isSavePassword,this.changeRadio()}changeRadio(){this.radio.loadImage({url:this.isSavePassword?"common/images/select_icon_select":"common/images/select_icon",view:this})}}).logicType=g,C=t((A=V).prototype,"logic",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(A.prototype,"login",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(A.prototype,"wxLogin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(A.prototype,"register",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(A.prototype,"radio",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(A.prototype,"phoneInput",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(A.prototype,"passwordInput",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(A.prototype,"nService",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(A.prototype,"versions",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/Macros.ts",["cc","./ByteArray.ts"],(function(_){"use strict";var N,E;return{setters:[function(_){N=_.cclegacy},function(_){E=_.Endian}],execute:function(){let A;var O;_("Macro",void 0),N._RF.push({},"e9733sUI9xL5obHtAPUvMhj","Macros",void 0),(O=A||(A=_("Macro",{}))).USING_LITTLE_ENDIAN=E.BIG_ENDIAN,O.BUNDLE_RESOURCES="resources",O.BUNDLE_REMOTE="Remote",O.ENABLE_CHANGE_LANGUAGE=!0,O.USING_LAN_KEY="i18n.",O.UNKNOWN="UNKNOWN",O.ON_CUSTOM_CLOSE="ON_CUSTOM_CLOSE",O.MAIN_PACK_BUNDLE_NAME="main",O.BUNDLE_HALL="hall",O.BUNDLE_CheXuan="chexuan",O.BUNDLE_ClubRoom="room",O.SHOW_DEBUG_INFO_KEY="SHOW_DEBUG_INFO_KEY",O.RECONNECT_ALERT_TAG="RECONNECT_ALERT_TAG",O.DYNAMIC_LOAD_GARBAGE="DYNAMIC_LOAD_GARBAGE",O.DYNAMIC_LOAD_RETAIN_MEMORY="DYNAMIC_LOAD_RETAIN_MEMORY",O.ON_UPDATE_FAILED="ON_UPDATE_FAILED",O.ON_UPDATE_DOWNLOADING="ON_UPDATE_DOWNLOADING",N._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Application.ts","./emitter.mjs_cjs=&original=.js","./pomelo-client.mjs_cjs=&original=.js","./protobuf.mjs_cjs=&original=.js","./protocol.mjs_cjs=&original=.js","./Alert.ts","./Broadcast.ts","./CheXuanPoker.ts","./CustomerService.ts","./DropDown.ts","./FrameAnimation.ts","./GameRecordDetails.ts","./GameRecordItem.ts","./Loading.ts","./PlayerBasicInfoView.ts","./RoomSettle.ts","./SettingView.ts","./SliderEx.ts","./SoundSet.ts","./Tips.ts","./UILoading.ts","./UIReconnect.ts","./UpdateLoading.ts","./WalletRechargePage.ts","./Config.ts","./GameDefine.ts","./CommonData.ts","./CommonEvent.ts","./CommonLanguage.ts","./CommonLanguageEN.ts","./CommonLanguageZH.ts","./ClubInfoData.ts","./ConfigInfo.ts","./UserData.ts","./UserInfo.ts","./BaseData.ts","./LocalStorageUtils.ts","./MemoryUtils.ts","./SaveDataUtils.ts","./AgentApi.ts","./ApiExport.ts","./BaseApi.ts","./BaseApiProj.ts","./BaseHttpInterceptor.ts","./BaseModel.ts","./BaseResponse.ts","./ClubApi.ts","./ConfigApi.ts","./HttpInterceptor.ts","./NetEventModel.ts","./RankApi.ts","./RoomApi.ts","./UserApi.ts","./WalletApi.ts","./Platform.ts","./CmdDefines.ts","./HeartbetBinary.ts","./HeartbetJson.ts","./HeartbetProto.ts","./EventEmitter.ts","./FileUtils.ts","./PokerUtils.ts","./Utils.ts","./LoginEntry.ts","./LoginLogic.ts","./LoginView.ts","./RegisterView.ts","./Framework.ts","./MainController.ts","./AudioComponent.ts","./EventComponent.ts","./GlobalAudio.ts","./Snapshot.ts","./Adapter.ts","./AdapterSafeArea.ts","./AdapterSprite.ts","./AdapterView.ts","./AssetManager.ts","./BundleManager.ts","./CacheManager.ts","./NativeBridge.ts","./ReleaseManager.ts","./Resource.ts","./ResourceLoader.ts","./ViewAsset.ts","./Entry.ts","./EntryDelegate.ts","./EntryManager.ts","./Dispatcher.ts","./EventProcessor.ts","./Language.ts","./LanguageDelegate.ts","./LayoutDefines.ts","./LayoutManager.ts","./Logger.ts","./Logic.ts","./LogicManager.ts","./Net.ts","./Http.ts","./HttpClient.ts","./BinaryStreamMessage.ts","./DefaultCodec.ts","./JsonMessage.ts","./Message.ts","./ProtoMessage.ts","./Handler.ts","./HandlerManager.ts","./Process.ts","./ProtoManager.ts","./ReconnectHandler.ts","./Sender.ts","./SenderManager.ts","./Service.ts","./ServiceManager.ts","./ServerConnector.ts","./WebSocketClient.ts","./NodePoolManager.ts","./StateMachine.ts","./LocalStorage.ts","./EventManager.ts","./GameView.ts","./LayerManager.ts","./List.ts","./ListItem.ts","./StageManager.ts","./TableView.ts","./TableViewCell.ts","./UIDropdownList.ts","./UILabel.ts","./UIManager.ts","./UIQRCode.ts","./UIRichText.ts","./UISprite.ts","./UIView.ts","./Update.ts","./UpdateItem.ts","./UpdateManager.ts","./DataCenter.ts","./GameData.ts","./Lang.ts","./StageData.ts","./DebugView.ts","./Decorators.ts","./Enums.ts","./Macros.ts","./IAlert.ts","./ILoading.ts","./ITips.ts","./IUILoading.ts","./Platform2.ts","./BitEncrypt.ts","./ByteArray.ts","./CocosExtention.ts","./CocosUtils.ts","./BundleUpdate.ts","./EntryImpl.ts","./HallUpdate.ts","./MainUpdate.ts","./CanvasHelper.ts","./Singleton.ts","./SingletonT.ts","./Utils2.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(e){"use strict";var o,t,n,r,s,i,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Asset,s=e._decorator,i=e.Game},function(e){c=e.default}],execute:function(){var u,a,p,l,d;n._RF.push({},"8c7cfOZmplNMbf54sZ3NMG6","MainController",void 0);const{ccclass:h,property:E,menu:g}=s;e("default",(u=g("Quick公共组件/MainController"),a=E(r),h(p=u((d=o((l=class extends c{constructor(...e){super(...e),t(this,"wssCacert",d,this),this.debugView=null}onLoad(){super.onLoad(),App.onLoad(this.node),this.wssCacert&&(App.wssCacertUrl=this.wssCacert.nativeUrl),this.onG(i.EVENT_HIDE,this.onEnterBackground),this.onG(i.EVENT_SHOW,this.onEnterForgeground),this.onG(i.EVENT_LOW_MEMORY,this.onLowMemory)}update(e){App.update(this.node)}onDestroy(){App.onDestroy(this.node),super.onDestroy()}onEnterBackground(){App.onEnterBackground()}onEnterForgeground(){App.onEnterForgeground()}onLowMemory(){App.onLowMemory()}}).prototype,"wssCacert",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=l))||p)||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/MainUpdate.ts",["cc","./Macros.ts"],(function(e){"use strict";var a,o;return{setters:[function(e){a=e.cclegacy},function(e){o=e.Macro}],execute:function(){a._RF.push({},"c5a6bRTlXFFXYIfAVayOeNW","MainUpdate",void 0);class n{constructor(){this.module=null,this.isResident=!0}onNewVersionFund(e){e.doUpdate()}onUpdateFailed(e){let a=App.getLanguage("downloadFailed");App.alert.show({text:a,confirmCb:a=>{e.checkUpdate()}}),App.updateLoading.hide()}onPreVersionFailed(e){let a=App.getLanguage("downloadFailed");App.alert.show({text:a,confirmCb:a=>{e.checkUpdate()}}),App.updateLoading.hide()}onShowUpdating(e){App.updateLoading.show(App.getLanguage("loading"))}onNeedUpdateMain(e){}onOther(e){}onDownloading(e,a){App.updateLoading.updateProgress(.3*a.progress)}onAreadyUpToData(e){let a=App.entryManager.delegate.getEntryConfig(o.BUNDLE_HALL);a?a.handler?App.updateManager.dowonLoad(a):console.log("updateItem.handler is Empty"):console.log("Could not find entry")}onStarCheckUpdate(e){App.updateLoading.show(App.getLanguage("loading"))}onStartLoadBundle(e){}onLoadBundleError(e,a){App.updateLoading.hide(),App.tips.show(App.getLanguage("loadFailed",[e.name])),Log.dump(a,"onLoadBundleError")}onLoadBundleComplete(e){App.updateLoading.hide(),App.entryManager.onLoadBundleComplete(e)}onLoadBundle(e){App.updateLoading.hide()}onDownloadComplete(e){let a=App.entryManager.delegate.getEntryConfig(o.BUNDLE_HALL);a?a.handler?App.updateManager.dowonLoad(a):console.log("updateItem.handler is Empty"):console.log("Could not find entry")}onNeedRestartApp(e,a){a(!0)}}e("MainUpdate",n),n.module="【主包热更新】",a._RF.pop()}}}));

System.register("chunks:///_virtual/MemoryUtils.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"bb01cJoyEFGlIsfhW2Bj7r0","MemoryUtils",void 0);class r{static set(e,t){r._memory[e]=t}static get(e){return r._memory[e]}static remove(e){let t=r._memory[e];return r._memory[e]=null,delete r._memory[e],t}static getKeys(){let e=[];for(let t in r._memory)e.push(t);return e}static clear(){r._memory={}}static has(e){return-1!=r.getKeys().indexOf(e)}}e("default",r),r._memory={},t._RF.pop()}}}));

System.register("chunks:///_virtual/Message.ts",["cc"],(function(s){"use strict";var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"9cc72ae641Axan45m+M6GpV","Message",void 0);class c{constructor(){this.buffer=void 0}}s("IMessage",c);s("Codec",class extends c{});s("Message",class extends c{}),e._RF.pop()}}}));

System.register("chunks:///_virtual/NativeBridge.ts",["cc","./FileUtils.ts"],(function(e){"use strict";var t,s,i,a,l;return{setters:[function(e){t=e.cclegacy,s=e._decorator,i=e.sys,a=e.native},function(e){l=e.default}],execute:function(){var r,c;e("EmNativeCallCodes",void 0),t._RF.push({},"2fcf8WYggtFarJAHAaMhLuB","NativeBridge",void 0);const{ccclass:n,property:o}=s;let h;!function(e){e.GETAPPINFO="`getAppInfo``",e.SELECTIMAGE="selectImage",e.SETCLIPBOARD="setClipboard"}(h||(h=e("EmNativeCallCodes",{})));e("NativeBridge",n(((c=class{constructor(){this.module=null,this.websdk=new v(this.nativeTrigger.bind(this)),this._listeners=new Map,i.isNative&&(a.bridge.onNative=(e,t)=>{this.nativeTrigger(e,t)})}nativeTrigger(e,t){this._listeners.forEach((s=>s.code==e&&s.trigger(t)))}_getListener(e){let t=this._listeners.get(e);return null==t&&(t=new d(e),this._listeners.set(e,t)),t}addListener(e,t){return this._getListener(e).addCallback(t)}removeListener(e){var t;e instanceof g?this._listeners.forEach((t=>t.remove(e))):null==(t=this._listeners.get(e))||t.clear()}callNative(e,t){return new Promise(((s,l)=>{if(i.isBrowser){const i="__"+e;if(!this.websdk[i])return void l(new Error("网页版本应用不支持该方法。"));if(t.async){const t=this.addListener(e,(e=>{s(e),this.removeListener(t)}));this.websdk[i]()}else s(this.websdk[i]())}else{if(t.async){const t=this.addListener(e,(e=>{s(e),this.removeListener(t)}))}let l;l="iOS"==i.os?a.reflection.callStaticMethod("Native",e+":",JSON.stringify(t.args||{})):a.reflection.callStaticMethod("com/cocos/game/Native",e,"(Ljava/lang/String;)Ljava/lang/String;",JSON.stringify(t.args||{})),t.async||s(l)}}))}getSelectedImageData(e){const t=i.isNative?a.fileUtils.getWritablePath():"Head/";this.callNative(h.SELECTIMAGE,{async:!0,args:{path:t}}).then((t=>{e(t)})).catch((e=>{console.log("调用原生发生错误（方法： getSelectedImageData  错误：）"+e.message)}))}setClipboard(e){if(i.isBrowser){const t=e,s=document.createElement("input");document.body.appendChild(s),s.value=t,s.setAttribute("readOnly","readOnly"),s.select(),document.execCommand("Copy"),document.body.removeChild(s),App.tips.show("复制成功。")}else i.os==i.OS.ANDROID?a.reflection.callStaticMethod("com/cocos/game/AppActivity","JavaCopy","(Ljava/lang/String;)V",e):i.os==i.OS.IOS&&a.reflection.callStaticMethod("AppDelegate","IosCopy:",e)}openUrl(e){i.openURL(e)}}).module="平台工具类",r=c))||r);class g{constructor(e,t={}){this.arg=null,this.cb=null,this.cb=e,this.arg=t}}e("CallObject",g);class d{constructor(e){this.code=void 0,this.once=!1,this.callbacks=void 0,this.code=e,this.callbacks=[]}addCallback(e){let t=new g(e);return this.callbacks.push(t),t}remove(e){for(let t=0;t<this.callbacks.length;t++){if(this.callbacks[t]==e){this.callbacks.splice(t,1);break}}}clear(){this.callbacks=[]}trigger(e){for(let t=0;t<this.callbacks.length;t++){this.callbacks[t].cb(e)}}}class v{constructor(e){this._nativeTrigger=void 0,this._nativeTrigger=e}__selectImage(){l.uploadImage((e=>{this._nativeTrigger(h.SELECTIMAGE,e)}))}}t._RF.pop()}}}));

System.register("chunks:///_virtual/Net.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){let o,n;t({Net:void 0,Proto:void 0}),e._RF.push({},"5d6ecXdPidA1pmDJolUfMzo","Net",void 0),function(t){let e;!function(t){t[t.Unknown=0]="Unknown",t[t.Json=1]="Json",t[t.Proto=2]="Proto",t[t.BinaryStream=3]="BinaryStream"}(e||(e={})),t.ServiceType=e}(o||(o=t("Net",{}))),n||(n=t("Proto",{})),e._RF.pop()}}}));

System.register("chunks:///_virtual/NetEventModel.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8c806EL82hGrpLgEzgxZPM0","NetEventModel",void 0);t("NetEventModel",class{constructor(){this.netEventMap={}}registerEvent(t,e){this.netEventMap[t]=e,App.pomelo.on(t,e)}request(t,e,n){App.pomelo.request(t,e,n)}initEvents(){this.reset()}reset(){for(const t in this.netEventMap)if(this.netEventMap.hasOwnProperty(t)){const e=this.netEventMap[t];App.pomelo.off(t,e)}this.netEventMap={}}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/NodePoolManager.ts",["cc","./Macros.ts"],(function(o){"use strict";var t,e,s,l;return{setters:[function(o){t=o.cclegacy,e=o.isValid,s=o.instantiate},function(o){l=o.Macro}],execute:function(){t._RF.push({},"98d8dJBeClOv4kRv+WtZ/mZ","NodePoolManager",void 0);class n{get cloneNode(){return this.node}set cloneNode(o){o&&e(o)&&(this.node=o,this.node.removeFromParent())}constructor(o){this.name=l.UNKNOWN,this.pool=[],this.node=null,this.name=o}get size(){return this.pool.length}clear(){let o=this.pool.length;for(let t=0;t<o;++t)this.pool[t].destroy();this.pool=[],this.node&&e(this.node)&&this.node.destroy(),this.node=null}put(o){o&&-1===this.pool.indexOf(o)&&(o.removeFromParent(),this.pool.push(o))}get(){if(this.pool.length<=0){if(this.node){return s(this.node)}return null}let o=this.pool.length-1,t=this.pool[o];return this.pool.length=o,t}}o("NodePool",n);class i{constructor(){this.module=null,this.pools=new Map}createPool(o){return this.pools.has(o)||this.pools.set(o,new n(o)),this.pools.get(o)}deletePool(o){if("string"==typeof o){if(this.pools.has(o)){let t=this.pools.get(o);t&&t.clear(),this.pools.delete(o)}}else o&&o instanceof n&&this.deletePool(o.name)}getPool(o,t=!0){return this.pools.has(o)?this.pools.get(o):t?this.createPool(o):null}debug(){Log.d("-------对象池节点缓存信息-------"),this.pools.forEach(((o,t)=>{Log.d(t)}))}}o("NodePoolManager",i),i.module="【对象池】",t._RF.pop()}}}));

System.register("chunks:///_virtual/Platform.ts",["cc","./CommonEvent.ts","./CommonData.ts","./env"],(function(){"use strict";var e,t,o,a,i;return{setters:[function(a){e=a.cclegacy,t=a.sys,o=a.native},function(e){a=e.UserInfoEvent},function(e){i=e.AudioEvent},function(e){e.DEBUG}],execute:function(){e._RF.push({},"54942DnsHdPTYbaxf65rv71","Platform",void 0);class c{static getInatance(){return null==this._instance&&(this._instance=new c),this._instance}OpenCameraOrAlbum(e){t.os==t.OS.ANDROID&&t.isNative?o.reflection.callStaticMethod("com/cocos/game/AppActivity","OpenCameraOrAlbum","(I)V",e):t.os==t.OS.IOS&&t.isNative&&o.reflection.callStaticMethod("AppDelegate","openCameraOrAlbum:isChat:",e,0)}GetCurLocation(){t.os==t.OS.ANDROID&&t.isNative?o.reflection.callStaticMethod("com/cocos/game/AppActivity","GetCurLocation","()V"):t.os==t.OS.IOS&&t.isNative?o.reflection.callStaticMethod("AppDelegate","getCurLocation"):App.stageData.GPSLocation={latitude:105.063996+10*Math.random(),longitude:31.547576+10*Math.random()}}onCheckReocrdPermission(){t.isNative&&(t.os==t.OS.ANDROID?o.reflection.callStaticMethod("com/cocos/game/AppActivity","onCheckReocrdPermission","()V"):t.os==t.OS.IOS&&o.reflection.callStaticMethod("AppDelegate","onCheckReocrdPermission"))}onRecordAudio(e){t.isNative&&(t.os==t.OS.ANDROID?(Log.d("====>>>>Cocos开始原生录音 "+JSON.stringify(e)),o.reflection.callStaticMethod("com/cocos/game/AppActivity","onRecordAudio","(Ljava/lang/String;)V",e)):t.os==t.OS.IOS&&o.reflection.callStaticMethod("AppDelegate","onRecordAudio:",e))}onPlayAudio(e){t.isNative&&(t.os==t.OS.ANDROID?o.reflection.callStaticMethod("com/cocos/game/AppActivity","onPlayAudio","(Ljava/lang/String;)V",e):t.os==t.OS.IOS&&o.reflection.callStaticMethod("AppDelegate","onPlayAudio:",e))}onJumpSetting(){t.isNative&&(t.os==t.OS.ANDROID||t.os==t.OS.IOS&&o.reflection.callStaticMethod("AppDelegate","onJumpSetting"))}getNetworkType(){return t.getNetworkType()}isConnect(){return this.getNetworkType()!=t.NetworkType.NONE}getNetworkLevel(){let e=0;return t.isNative&&(t.os==t.OS.ANDROID?e=o.reflection.callStaticMethod("com/cocos/game/AppActivity","getNetWorkLevel","()I"):(t.os,t.OS.IOS)),e}getBatteryLevel(){let e=t.getBatteryLevel();return e<0&&(e=-e),e>1&&(e=1),e}copyText(e){if(t.isNative)t.os==t.OS.ANDROID?o.reflection.callStaticMethod("com/cocos/game/AppActivity","JavaCopy","(Ljava/lang/String;)V",e):t.os==t.OS.IOS&&o.reflection.callStaticMethod("AppDelegate","IosCopy:",e);else if(t.isBrowser){var a=e+"";const t=document.createElement("textarea");t.value=a,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const o=getSelection();var i;o.rangeCount>0&&(i=o.getRangeAt(0)),document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=a.length;var c=!1;try{c=document.execCommand("copy")}catch(e){}document.body.removeChild(t),i&&(o.removeAllRanges(),o.addRange(i)),c?App.tips.show("复制成功！"):App.tips.show("复制失败！")}}backHead(e){Log.d("====>>>>backHead: ",e),App.event.emitCustom(a.HEAD_BACK_UPLOAD,e),App.event.emit(a.HEAD_BACK_UPLOAD,e)}copySuccess(){App.tips.show("复制成功。")}curLocation(e){Log.d("====>>>>返回的位置信息 ：",e);let t=e.split("|");t&&t[0]&&t[1]?App.stageData.GPSLocation={latitude:parseFloat(t[0]),longitude:parseFloat(t[1])}:App.alert.show("请开启定位权限！")}sendHeartBeat(){Log.d("====>>>>切后台后发心跳,Pinus用不上!!!")}backAudio(e){if(console.log("==========backAudio===============",e),e){t.os==t.OS.IOS&&(e=e.replace("Code",'"Code"')).indexOf("URL")>-1&&(e=(e=(e=e.replace("URL",'"URL"')).replace(":h",':"h')).replace("wav}",'wav"}'));let o=JSON.parse(e);switch(Log.d("====>>>>jsonCB.Code: ",o.Code),o.Code){case 1:App.event.emitCustom(i.audioRecordEnd,o);break;case 10:App.event.emitCustom(i.audioRecordPlay,null);break;case 11:App.event.emitCustom(i.audioRecordPlayEnd,null);break;case 12:App.event.emitCustom(i.audioRecordPause,null);break;case 100:App.event.emitCustom(i.audioRecordPermission,null);break;case 101:App.event.emitCustom(i.audioRecordStart,null),Log.d("====>>>>audioRecordStart===== ");break;case 102:App.event.emitCustom(i.audioGetPermission,null);break;case 103:App.event.emitCustom(i.audioPermissionBack,null)}}}}c._instance=null,window.Platform=c.getInatance(),e._RF.pop()}}}));

System.register("chunks:///_virtual/Platform2.ts",["cc","./Snapshot.ts"],(function(t){"use strict";var e,s,r,o,i;return{setters:[function(t){e=t.cclegacy,s=t.sys,r=t.native,o=t.isValid},function(t){i=t.Snapshot}],execute:function(){e._RF.push({},"98f4cJugxNCmLLz8qfpsjAJ","Platform",void 0);class n{constructor(){this.module=null,this._screenshotsPath=null}openURL(t){s.openURL(t)}copyText(t){r.copyTextToClipboard(t)}getNetworkType(){return s.getNetworkType()}getBatteryLevel(){return s.getBatteryLevel()}snapshot(t,e){if(o(t)){t.addComponent(i).onCaptureComplete=e}}get screenshotsPath(){return this._screenshotsPath||s.isNative&&(this._screenshotsPath=r.fileUtils.getWritablePath()+"Screenshots",r.fileUtils.isDirectoryExist(this._screenshotsPath)||r.fileUtils.createDirectory(this._screenshotsPath)),this._screenshotsPath}}t("Platform",n),n.module="【平台管理器】",e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBasicInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts"],(function(e){"use strict";var t,i,r,s,a,n,o,c,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,s=e.Label,a=e.Node,n=e.Sprite,o=e.UIOpacity,c=e._decorator},function(e){l=e.default},function(e){p=e.inject}],execute:function(){var u,d,h,f,b,m,y,g,H,B,v;r._RF.push({},"c2758R3HGJGqbNpf+Dri/QW","PlayerBasicInfoView",void 0);const{ccclass:w,property:N}=c;e("default",(u=w("PlayerBasicInfoView"),d=p("txtName",s),h=p("border",a),f=p("sprHeadBg/mask/sprHead",n),b=p("sprHeadBg/mask/sprHead",o),u((g=t((y=class extends l{constructor(...e){super(...e),i(this,"txtName",g,this),i(this,"border",H,this),i(this,"sprHead",B,this),i(this,"opacityComp",v,this),this.inited=!1}init(){this.inited||(this.inited=!0,this.txtName=this.node.getChildByPath("txtName").getComponent(s),this.sprHead=this.node.getChildByPath("sprHeadBg/mask/sprHead").getComponent(n))}buffer2Base64(e){let t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(e),s=r.byteLength,a=s%3,n=s-a;let o,c,l,p,u;for(let e=0;e<n;e+=3)u=r[e]<<16|r[e+1]<<8|r[e+2],o=(16515072&u)>>18,c=(258048&u)>>12,l=(4032&u)>>6,p=63&u,t+=i[o]+i[c]+i[l]+i[p];return 1===a?(u=r[n],o=(252&u)>>2,c=(3&u)<<4,t+=`${i[o]}${i[c]}==`):2===a&&(u=r[n]<<8|r[n+1],o=(64512&u)>>10,c=(1008&u)>>4,l=(15&u)<<2,t+=`${i[o]}${i[c]}${i[l]}=`),console.log(t),t}setBasicInfo(e,t,i=8){Log.d("[PlayerBasicInfoView] setBasicInfo: ",e,t),this.init(),this.clean(),this.setActive(!0),e&&i&&(this.txtName.string=App.utils.contentSubRe(e,"...",i)),t&&(this.sprHead.loadRemoteImage({url:t+"?t="+(new Date).getTime(),view:this,defaultBundle:this.bundle,isNeedCache:!0}),this.border&&(this.border.active=!0))}clean(){this.txtName.string="",this.sprHead.spriteFrame=null,this.border&&(this.border.active=!1)}empty(){this.setActive(!1)}setGray(e){this.sprHead.grayscale=e,this.opacityComp.opacity=e?108:255}setActive(e){this.txtName.node.active=e,this.sprHead.node.active=e}}).prototype,"txtName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(y.prototype,"border",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(y.prototype,"sprHead",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"opacityComp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/PokerUtils.ts",["cc","./GameDefine.ts","./Macros.ts","./SaveDataUtils.ts"],(function(e){"use strict";var i,t,n,s,a,r,o,u,l,p,h,d,g,_,S;return{setters:[function(e){i=e.cclegacy,t=e.Prefab,n=e.instantiate,s=e.Vec3,a=e.sp,r=e.Color},function(e){o=e.PokerRank,u=e.PokerColorvalue,l=e.GamePrizeType,p=e.PokerSuit,h=e.PokerCardId,d=e.CardGroupNameInfo},function(e){g=e.Macro},function(e){_=e.default,S=e.SaveDataType}],execute:function(){i._RF.push({},"8e40eqd//lD75m4Oko9gOfV","PokerUtils",void 0);class c{constructor(){this.diwangPaixing={},this.normalPaixing={},this.prizePool=null,this.pokerCache=new Map,this.pokerList=["p_0_1","p_2_2","p_2_3","p_3_3","p_4_1","p_4_2","p_4_3","p_4_4","p_5_1","p_5_4","p_6_1","p_6_2","p_6_3","p_6_4","p_7_1","p_7_2","p_7_3","p_7_4","p_8_1","p_8_2","p_8_3","p_8_4","p_9_1","p_9_4","p_10_1","p_10_2","p_10_3","p_10_4","p_11_1","p_11_4","p_12_2","p_12_3"],this.isCached=!1,this.diwangPaixing=this.initPaiXing(!0),this.normalPaixing=this.initPaiXing(!1)}startCache(){if(!this.isCached){this.isCached=!0,this.prizePool=App.pool.createPool("prize"),App.asset.load(g.BUNDLE_RESOURCES,"common/prefabs/PrizeType",t,(()=>{}),(e=>{if(e&&e.data){const i=n(e.data);this.prizePool.cloneNode=i}}));for(let e=0;e<this.pokerList.length;e++){const i=this.pokerList[e];App.asset.loadSF(g.BUNDLE_RESOURCES,"common/images/poker/"+i,(e=>{null!=e&&this.pokerCache.set(i,e)}))}}}getPaixingConfig(e){return e?this.diwangPaixing:this.normalPaixing}isSanHua(e){if(e.length<3)return!1;var i=0;return e.forEach((e=>i+=e.getRank())),!(i<28)&&(!!this.isSanhuaLiu(e)||!!this.isSanhuaTen(e))}isSanhuaLiu(e){return!this.hasSameColorPoker(e)&&!!(this.isPokerExist(e,o.JokerRed,u.Red)&&this.isPokerExist(e,o.Six,u.Red)&&this.isPokerExist(e,o.Six,u.Black))}loadPokerBack(e){var i=_.get("poker_back",S.ALL);i||(i="p_bei_4"),this.loadPoker(e,i)}loadPoker(e,i){e&&e.isValid&&(this.pokerCache.has(i)?e.spriteFrame=this.pokerCache.get(i):App.asset.loadSF(g.BUNDLE_RESOURCES,"common/images/poker/"+i,((t,n)=>{e.isValid&&(!n&&t?(e.spriteFrame=t,this.pokerCache.set(i,t)):console.error(`加载牌面纹理失败: ${i}`,n))})))}loadCuoPoker(e,i){App.asset.loadSF(g.BUNDLE_CheXuan,"images/pai/"+i,(i=>{null!=i&&(e.spriteFrame=i)}))}showPrizeEffect(e,i,t){if(!e)return null;let n=this.prizePool.get();e.addChild(n),n.active=!0,n.setPosition(t??s.ZERO);let r=n.getComponent(a.Skeleton);if(r){r.clearTracks();let e="";i==l.DD?e="duoduo":i==l.DD_KING?e="duohuang":i==l.SKY_KING&&(e="tianhuang"),e&&r.setAnimation(0,e,!1)}return n}releasePrizeEffect(e){return this.prizePool.put(e)}isSanhuaTen(e){return!this.hasSameColorPoker(e)&&!!(this.isPokerExist(e,o.Jack,u.Black)&&this.isPokerExist(e,o.Ten,u.Red)&&this.isPokerExist(e,o.Ten,u.Black))}hasSameColorPoker(e){for(var i=0;i<e.length;i++)for(var t=i+1;t<e.length;t++)if(e[i].getRank()==e[t].getRank()&&e[i].getColorValue()==e[t].getColorValue())return!0;return!1}isPokerExist(e,i,t){for(var n=0;n<e.length;n++)if(e[n].getRank()==i)if(t==u.Black){if(e[n].getSuit()==p.Clubs||e[n].getSuit()==p.Spades)return!0}else if(e[n].getSuit()==p.Diamonds||e[n].getSuit()==p.Hearts)return!0;return!1}isPair(e){return 2==e.length&&(e[0].getRank()==e[1].getRank()&&e[0].getColorValue()==e[1].getColorValue())}isDingHuang(e){if(2!=e.length)return!1;let i=e[0].getCardId(),t=e[1].getCardId();return i==h.ThreeHearts&&t==h.JokerRed||i==h.JokerRed&&t==h.ThreeHearts}getPrizeTypeName(e){let i="";return e==l.DD?i="朵朵":e==l.DD_KING?i="朵皇":e==l.SKY_KING?i="天皇":e==l.Ding_KING&&(i="丁皇"),i}getPrizeTypeByPoker(e){if(!e||4!==e.length)return l.NONE;let i=e.slice(0,2),t=e.slice(2),n=this.isPair(i),s=this.isPair(t);if(!n&&!s)return l.NONE;if(n&&s)return l.DD;if(n){if(this.isDingHuang(t))return i[0].getRank()==o.Queen?l.SKY_KING:l.DD_KING}else if(s&&this.isDingHuang(i))return t[0].getRank()==o.Queen?l.SKY_KING:l.DD_KING;return l.NONE}getCombinationString(e,i){if(2!=e.length)return new d("散牌");let t=this.getPaiTypeInfo(e,i);if(!t){var n=e[0].getRank()+e[1].getRank(),s="";return 0==(n%=10)?s="0点":1==n?s="1点":2==n?s="2点":3==n?s="3点":4==n?s="4点":5==n?s="5点":6==n?s="6点":7==n?s="7点":8==n?s="8点":9==n&&(s="9点"),new d(s)}return t}getPaiTypeInfo(e,i){if(2!=e.length)return null;var t=this.getPaixingConfig(i);let n=e[0].getCardId(),s=e[1].getCardId();var a=t[`${n}_${s}`];if(a)return a;return t[`${s}_${n}`]}initPaiXing(e){var i={},t=function(e,t,n,s,a=r.WHITE){for(const o of e)for(const e of t){let t=`${o}_${e}`;i[t]?Log.e("重复定义了 旧的 ",i[t],"新的",n):i[t]={typeName:n,compPoint:s,color:a||r.WHITE}}};return t([h.ThreeHearts],[h.JokerRed],"丁皇",60,new r("FF0000")),t([h.QueenHearts],[h.QueenDiamonds],"天牌",59,new r("F1F303")),t([h.TwoHearts],[h.TwoDiamonds],"地牌",58,new r("F1F303")),t([h.EightDiamonds],[h.EightHearts],"人牌",57,new r("F1F303")),t([h.FourDiamonds],[h.FourHearts],"和牌",56,new r("F1F303")),t([h.TenClubs],[h.TenSpades],"梅十",55,new r("CC660F")),t([h.FourSpades],[h.FourClubs],"板凳",55,new r("CC660F")),t([h.SixClubs],[h.SixSpades],"长三",55,new r("CC660F")),t([h.JackClubs],[h.JackSpades],"虎头",54,new r("B274D7")),t([h.TenDiamonds],[h.TenHearts],"苕十",54,new r("B274D7")),t([h.SixDiamonds],[h.SixHearts],"猫猫",54,new r("B274D7")),t([h.SevenDiamonds],[h.SevenHearts],"膏药",54,new r("B274D7")),t([h.NineClubs],[h.NineSpades],"黑9对",53,new r("B274D7")),t([h.EightClubs],[h.EightSpades],"黑8对",53,new r("B274D7")),t([h.SevenClubs],[h.SevenSpades],"黑7对",53,new r("B274D7")),t([h.FiveClubs],[h.FiveSpades],"黑5对",53,new r("B274D7")),t([h.QueenDiamonds,h.QueenHearts],[h.NineClubs,h.NineSpades],"天九王",52,new r("62F4F4")),e&&t([h.TwoDiamonds,h.TwoHearts],[h.NineSpades,h.NineClubs],"地九王",51,new r("62F4F4")),t([h.QueenDiamonds,h.QueenHearts],[h.EightDiamonds,h.EightHearts],"天红杠",50,new r("62F4F4")),t([h.QueenDiamonds,h.QueenHearts],[h.EightClubs,h.EightSpades],"天黑杠",50,new r("62F4F4")),t([h.TwoDiamonds,h.TwoHearts],[h.EightDiamonds,h.EightHearts],"地红杠",49,new r("62F4F4")),t([h.TwoDiamonds,h.TwoHearts],[h.EightClubs,h.EightSpades],"地黑杠",49,new r("62F4F4")),t([h.QueenDiamonds,h.QueenHearts],[h.SevenClubs,h.SevenDiamonds,h.SevenHearts,h.SevenSpades],"天官九",48,new r("02E308")),t([h.TwoDiamonds,h.TwoHearts],[h.SevenClubs,h.SevenDiamonds,h.SevenHearts,h.SevenSpades],"地官九",47,new r("02E308")),t([h.EightDiamonds,h.EightHearts],[h.JackClubs,h.JackSpades],"灯笼九",46,new r("02E308")),t([h.FourDiamonds,h.FourHearts],[h.FiveClubs,h.FiveSpades],"和五九",45,new r("02E308")),t([h.TenClubs,h.TenSpades],[h.NineClubs,h.NineSpades],"梅十九",44,new r("02E308")),t([h.FourClubs,h.FourSpades],[h.FiveClubs,h.FiveSpades],"板五九",44,new r("02E308")),t([h.ThreeHearts],[h.SixClubs,h.SixSpades],"丁长九",44,new r("02E308")),t([h.JackClubs,h.JackSpades],[h.EightClubs,h.EightSpades],"乌龙九",43,new r("02E308")),t([h.TenHearts,h.TenDiamonds],[h.NineClubs,h.NineSpades],"苕十九",42,new r("02E308")),t([h.ThreeHearts],[h.SixDiamonds,h.SixHearts],"丁猫九",41,new r("02E308")),i}}c.instance=new c;e("PokerUtils",c.instance);i._RF.pop()}}}));

System.register("chunks:///_virtual/pomelo-client.js",["./cjs-loader.mjs","./protocol.js"],(function(e,o){"use strict";var t,n;return{setters:[function(e){t=e.default},function(e){n=e.__cjsMetaURL}],execute:function(){let r;e("default",void 0);const i=e("__cjsMetaURL",o.meta.url);t.define(i,(function(o,t,n,i,c){!function(){var e=t("./protocol"),o=e.Package,r=e.Message;"undefined"!=typeof window&&"undefined"!=typeof sys&&sys.localStorage&&(window.localStorage=sys.localStorage);"function"!=typeof Object.create&&(Object.create=function(e){function o(){}return o.prototype=e,new o});var i=window,c=Object.create(window.EventEmitter.prototype);i.pomelo=c;var s=null,a=0,d={},u={},l={},f=0,p=0,y=0,b=null,v=null,m=null,T={sys:{type:"js-websocket",version:"0.0.1"},user:{}},E=null,g=!1,A=0;c.init=function(e,o){E=()=>{g&&(g=!1,A=0,c.emit("on-reconnected")),o()};var t="ws://"+e.host;T.user=e.user,m=e.handshakeCallback,Log.d("pomelo.init "+t),S(t)};var S=function(t){Log.d("WebSocket "+t),(s=new WebSocket(t)).binaryType="arraybuffer",s.onopen=function(t){if(s&&!s.isDisposed){var n=o.encode(o.TYPE_HANDSHAKE,e.strencode(JSON.stringify(T)));_(n)}},s.onmessage=function(e){s&&!s.isDisposed&&(P(o.decode(e.data)),p&&(y=Date.now()+p))},s.onerror=function(e){s&&!s.isDisposed&&(c.emit("io-error",e),cc.error("socket error: ",e))},s.onclose=function(e){if(s&&!s.isDisposed){if(cc.error("socket close: ",e),g=!0,A++,s.isDisposed=!0,A>3)return g=!1,A=0,void c.emit("on-netdown");1==A?c.emit("on-reconnect"):S(t)}}};c.disconnect=function(){s&&(s.isDisposed=!0,s.disconnect&&s.disconnect(),s.close&&s.close(),cc.log("disconnect"),s=null),b&&(clearTimeout(b),b=null),v&&(clearTimeout(v),v=null)},c.request=function(e,o,t){2===arguments.length&&"function"==typeof o?(t=o,o={}):o=o||{},(e=e||o.route)&&(cc.log("[pomelo]发送消息:",e,o),a++,w(a,e,o),d[a]=t,l[a]=e)},c.notify=function(e,o){o=o||{},cc.log("[pomelo]notify:",e,o),w(0,e,o)},c.isConnected=function(){return s&&s.readyState===WebSocket.OPEN};var w=function(t,n,i){var s=t?r.TYPE_REQUEST:r.TYPE_NOTIFY;i=(c.data.protos?c.data.protos.client:{})[n]?protobuf.encode(n,i):e.strencode(JSON.stringify(i));var a=0;c.dict&&c.dict[n]&&(n=c.dict[n],a=1),i=r.encode(t,s,a,n,i);var d=o.encode(o.TYPE_DATA,i);_(d)},_=function(e){s&&s.send(e.buffer)},D=function(){var e=y-Date.now();e>100?v=setTimeout(D,e):(cc.error("server heartbeat timeout"),c.emit("heartbeat timeout"),c.disconnect())};u[o.TYPE_HANDSHAKE]=function(t){if(501!==(t=JSON.parse(e.strdecode(t))).code)if(200===t.code){Y(t);var n=o.encode(o.TYPE_HANDSHAKE_ACK);_(n),E&&(E(s),E=null)}else c.emit("error","handshake fail");else c.emit("error","client version not fullfill")},u[o.TYPE_HEARTBEAT]=function(e){if(f){var t=o.encode(o.TYPE_HEARTBEAT);v&&(clearTimeout(v),v=null),b||(b=setTimeout((function(){b=null,_(t),y=Date.now()+p,v=setTimeout(D,p)}),f))}},u[o.TYPE_DATA]=function(e){var o=r.decode(e);o.id>0&&(o.route=l[o.id],delete l[o.id],!o.route)||(o.body=h(o),k(c,o))},u[o.TYPE_KICK]=function(o){o=JSON.parse(e.strdecode(o)),c.emit("onKick",o)};var P=function(e){if(Array.isArray(e))for(var o=0;o<e.length;o++){var t=e[o];u[t.type](t.body)}else u[e.type](e.body)},k=function(e,o){if(cc.log("[pomelo] 收到消息:",o.id,o),o.id){var t=d[o.id];delete d[o.id],"function"==typeof t?t(o.body):Log.e("[pomelo] no callback found for msg:",o.route)}else e.emit(o.route,o.body)},h=function(o){var t=c.data.protos?c.data.protos.server:{},n=c.data.abbrs,r=o.route;if(o.compressRoute){if(!n[r])return{};r=o.route=n[r]}return t[r]?protobuf.decode(r,o.body):JSON.parse(e.strdecode(o.body))},Y=function(e){e.sys&&e.sys.heartbeat?(f=1e3*e.sys.heartbeat,p=2*f):(f=0,p=0),j(e),"function"==typeof m&&m(e.user)},j=function(e){if(e&&e.sys){c.data=c.data||{};var o=e.sys.dict,t=e.sys.protos;if(o)for(var n in c.data.dict=o,c.data.abbrs={},o)c.data.abbrs[o[n]]=n;t&&(c.data.protos={server:t.server||{},client:t.client||{}},protobuf&&protobuf.init({encoderProtos:t.client,decoderProtos:t.server}))}};n.exports=c}(),r=e("default",n.exports)}),(()=>({"./protocol":n})))}}}));

System.register("chunks:///_virtual/Process.ts",["cc","./DefaultCodec.ts","./Net.ts"],(function(e){"use strict";var s,t,i;return{setters:[function(e){s=e.cclegacy},function(e){t=e.DefaultCodec},function(e){i=e.Net}],execute:function(){s._RF.push({},"a6a00CX5l9GkrM01dGgc/x0","Process",void 0);e("Process",class{constructor(){this.Codec=t,this._listeners={},this._masseageQueue=new Array,this._isDoingMessage=!1,this.isPause=!1,this.serviceType=null}pauseMessageQueue(){this.isPause=!0}resumeMessageQueue(){this.isPause=!1}handMessage(){if(this.isPause)return;if(this._isDoingMessage)return;if(0==this._masseageQueue.length)return;let e=this._masseageQueue.shift();if(null==e)return;if(0==e.length)return;this._isDoingMessage=!0;let s=0;for(let t=0;t<e.length;t++){let i=e[t];if(i.func instanceof Function)try{let e=i.func.call(i.target,i.data);"number"==typeof e&&(s=Math.max(s,e))}catch(e){Log.e(e)}}var t;0==s?this._isDoingMessage=!1:null==(t=App.uiManager.mainController)||t.scheduleOnce((()=>{this._isDoingMessage=!1}),s)}onMessage(e){Log.d(`recv data main cmd : ${e.cmd}`);let s=String(e.cmd);this._listeners[s]?this._listeners[s].length<=0||this.addMessageQueue(s,e,!0):Log.w(`no find listener data main cmd : ${e.cmd}`)}reset(){this._isDoingMessage=!1,this._listeners={},this._masseageQueue=[],this.resumeMessageQueue()}close(){this._masseageQueue=[],this._isDoingMessage=!1}addListener(e,s,t,i,r){let n=e;if(this._listeners[n]){let u=!1;for(let e=0;e<this._listeners[n].length;e++)if(this._listeners[n][e].target===r){u=!0;break}if(u)return;this._listeners[n].push({cmd:e,func:t,type:s,isQueue:i,target:r})}else this._listeners[n]=[],this._listeners[n].push({cmd:e,func:t,type:s,isQueue:i,target:r})}removeListeners(e,s){if(s){let t=this;Object.keys(this._listeners).forEach((i=>{let r=t._listeners[i],n=r.length;for(;n--;)r[n].target==e&&r[n].cmd==s&&r.splice(n,1);0==r.length&&delete t._listeners[i]}));let i=this._masseageQueue.length;for(;i--;){let t=this._masseageQueue[i],r=t.length;for(;r--;)t[r].target==e&&t[i].cmd==s&&t.splice(r,1);0==t.length&&this._masseageQueue.splice(i,1)}}else{let s=this;Object.keys(this._listeners).forEach(((t,i,r)=>{let n=s._listeners[t],u=n.length;for(;u--;)n[u].target==e&&n.splice(u,1);0==n.length&&delete s._listeners[t]}));let t=this._masseageQueue.length;for(;t--;){let s=this._masseageQueue[t],i=s.length;for(;i--;)s[i].target==e&&s.splice(i,1);0==s.length&&this._masseageQueue.splice(t,1)}}}decode(e,s){let t=null;if(this.serviceType==i.ServiceType.Proto){if(e.type&&"string"==typeof e.type){t=App.protoManager.lookup(e.type)?App.protoManager.decode({className:e.type,buffer:s.buffer}):s.buffer}else t=s.buffer;return t}return e.type&&"string"!=typeof e.type?(t=new e.type,t.decode(s.buffer)):t=s.buffer,t}addMessageQueue(e,s,t){if(this._listeners[e].length<=0)return;let i=this._listeners[e],r=[];for(let e=0;e<i.length;e++){let n=s;if(t&&(n=this.decode(i[e],s)),i[e].isQueue)r.push(this.copyListenerData(i[e],n));else try{i[e].func&&i[e].func.call(i[e].target,n)}catch(e){Log.e(e)}}r.length>0&&this._masseageQueue.push(r)}copyListenerData(e,s){return{type:e.type,func:e.func,isQueue:e.isQueue,data:s,target:e.target,cmd:e.cmd}}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/protobuf.js",["./cjs-loader.mjs"],(function(e,t){"use strict";var n;return{setters:[function(e){n=e.default}],execute:function(){let r;e("default",void 0);const o=e("__cjsMetaURL",t.meta.url);n.define(o,(function(t,n,o,u,i){!function(e,t){var n=e;n.init=function(e){n.encoder.init(e.encoderProtos),n.decoder.init(e.decoderProtos)},n.encode=function(e,t){return n.encoder.encode(e,t)},n.decode=function(e,t){return n.decoder.decode(e,t)},o.exports=n,"undefined"!=typeof window&&(window.protobuf=n)}("undefined"==typeof window?o.exports:{}),function(e,t){(e.constants={}).TYPES={uInt32:0,sInt32:0,int32:0,double:1,string:2,message:2,float:5}}("undefined"!=typeof protobuf?protobuf:o.exports),function(e,t){(e.util={}).isSimpleType=function(e){return"uInt32"===e||"sInt32"===e||"int32"===e||"uInt64"===e||"sInt64"===e||"float"===e||"double"===e}}("undefined"!=typeof protobuf?protobuf:o.exports),function(e,t){var n=e.codec={},r=new ArrayBuffer(8),o=new Float32Array(r),u=new Float64Array(r),i=new Uint8Array(r);function a(e){return e<=127?[e]:e<=2047?[192|e>>6,128|63&e]:[224|e>>12,128|(4032&e)>>6,128|63&e]}function c(e){return e<=127?1:e<=2047?2:3}n.encodeUInt32=function(e){e=parseInt(e);if(isNaN(e)||e<0)return null;var t=[];do{var n=e%128,r=Math.floor(e/128);0!==r&&(n+=128),t.push(n),e=r}while(0!==e);return t},n.encodeSInt32=function(e){e=parseInt(e);return isNaN(e)?null:(e=e<0?2*Math.abs(e)-1:2*e,n.encodeUInt32(e))},n.decodeUInt32=function(e){for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n]);if(t+=(127&r)*Math.pow(2,7*n),r<128)return t}return t},n.decodeSInt32=function(e){var t=this.decodeUInt32(e);return t=(t%2+t)/2*(t%2==1?-1:1)},n.encodeFloat=function(e){return o[0]=e,i},n.decodeFloat=function(e,t){if(!e||e.length<t+4)return null;for(var n=0;n<4;n++)i[n]=e[t+n];return o[0]},n.encodeDouble=function(e){return u[0]=e,i.subarray(0,8)},n.decodeDouble=function(e,t){if(!e||e.length<8+t)return null;for(var n=0;n<8;n++)i[n]=e[t+n];return u[0]},n.encodeStr=function(e,t,n){for(var r=0;r<n.length;r++)for(var o=a(n.charCodeAt(r)),u=0;u<o.length;u++)e[t]=o[u],t++;return t},n.decodeStr=function(e,t,n){for(var r=[],o=t+n;t<o;){var u=0;e[t]<128?(u=e[t],t+=1):e[t]<224?(u=((63&e[t])<<6)+(63&e[t+1]),t+=2):(u=((15&e[t])<<12)+((63&e[t+1])<<6)+(63&e[t+2]),t+=3),r.push(u)}for(var i="",a=0;a<r.length;)i+=String.fromCharCode.apply(null,r.slice(a,a+1e4)),a+=1e4;return i},n.byteLength=function(e){if("string"!=typeof e)return-1;for(var t=0,n=0;n<e.length;n++){t+=c(e.charCodeAt(n))}return t}}("undefined"!=typeof protobuf?protobuf:o.exports),function(e,t){var n=e,r=e.encoder={},o=n.codec,u=n.constants,i=n.util;function a(e,t){if(!t)return!1;for(var n in t){var r=t[n];switch(r.option){case"required":if(void 0===e[n])return!1;case"optional":void 0!==e[n]&&t.__messages[r.type]&&a(e[n],t.__messages[r.type]);break;case"repeated":if(e[n]&&t.__messages[r.type])for(var o=0;o<e[n].length;o++)if(!a(e[n][o],t.__messages[r.type]))return!1}}return!0}function c(e,t,n,r){for(var o in r)if(n[o]){var u=n[o];switch(u.option){case"required":case"optional":t=d(e,t,p(u.type,u.tag)),t=s(r[o],u.type,t,e,n);break;case"repeated":r[o].length>0&&(t=f(r[o],u,t,e,n))}}return t}function s(e,t,n,r,u){switch(t){case"uInt32":n=d(r,n,o.encodeUInt32(e));break;case"int32":case"sInt32":n=d(r,n,o.encodeSInt32(e));break;case"float":d(r,n,o.encodeFloat(e)),n+=4;break;case"double":d(r,n,o.encodeDouble(e)),n+=8;break;case"string":var i=o.byteLength(e);n=d(r,n,o.encodeUInt32(i)),o.encodeStr(r,n,e),n+=i;break;default:if(u.__messages[t]){var a=new ArrayBuffer(o.byteLength(JSON.stringify(e)));i=c(a,i=0,u.__messages[t],e),n=d(r,n,o.encodeUInt32(i));for(var s=0;s<i;s++)r[n]=a[s],n++}}return n}function f(e,t,n,r,u){var a=0;if(i.isSimpleType(t.type))for(n=d(r,n,p(t.type,t.tag)),n=d(r,n,o.encodeUInt32(e.length)),a=0;a<e.length;a++)n=s(e[a],t.type,n,r);else for(a=0;a<e.length;a++)n=d(r,n,p(t.type,t.tag)),n=s(e[a],t.type,n,r,u);return n}function d(e,t,n){for(var r=0;r<n.length;r++,t++)e[t]=n[r];return t}function p(e,t){var n=u.TYPES[e]||2;return o.encodeUInt32(t<<3|n)}r.init=function(e){this.protos=e||{}},r.encode=function(e,t){var n=this.protos[e];if(!a(t,n))return null;var r=o.byteLength(JSON.stringify(t)),u=new ArrayBuffer(r),i=new Uint8Array(u),s=0;return n&&(s=c(i,s,n,t))>0?i.subarray(0,s):null}}("undefined"!=typeof protobuf?protobuf:o.exports),function(e,t){var n,r=e,o=e.decoder={},u=r.codec,i=r.util,a=0;function c(e,t,n){for(;a<n;){var r=s(),o=(r.type,r.tag),u=t.__tags[o];switch(t[u].option){case"optional":case"required":e[u]=f(t[u].type,t);break;case"repeated":e[u]||(e[u]=[]),d(e[u],t[u].type,t)}}return e}function s(){var e=u.decodeUInt32(p());return{type:7&e,tag:e>>3}}function f(e,t){switch(e){case"uInt32":return u.decodeUInt32(p());case"int32":case"sInt32":return u.decodeSInt32(p());case"float":var r=u.decodeFloat(n,a);return a+=4,r;case"double":var o=u.decodeDouble(n,a);return a+=8,o;case"string":var i=u.decodeUInt32(p()),s=u.decodeStr(n,a,i);return a+=i,s;default:if(t&&t.__messages[e]){i=u.decodeUInt32(p());var f={};return c(f,t.__messages[e],a+i),f}}}function d(e,t,n){if(i.isSimpleType(t))for(var r=u.decodeUInt32(p()),o=0;o<r;o++)e.push(f(t));else e.push(f(t,n))}function p(e){var t,r=[],o=a;e=e||!1;do{t=n[o],r.push(t),o++}while(t>=128);return e||(a=o),r}o.init=function(e){this.protos=e||{}},o.setProtos=function(e){e&&(this.protos=e)},o.decode=function(e,t){var r=this.protos[e];return n=t,a=0,r?c({},r,n.length):null}}("undefined"!=typeof protobuf?protobuf:o.exports),r=e("default",o.exports),o.exports.constants,o.exports.util,o.exports.codec,o.exports.encoder,o.exports.decoder}),{})}}}));

System.register("chunks:///_virtual/protocol.js",["./cjs-loader.mjs"],(function(e,n){"use strict";var r;return{setters:[function(e){r=e.default}],execute:function(){let t;e("default",void 0);const o=e("__cjsMetaURL",n.meta.url);r.define(o,(function(n,r,o,u,f){!function(e,n,r){var t=e,u=t.Package={},f=t.Message={};u.TYPE_HANDSHAKE=1,u.TYPE_HANDSHAKE_ACK=2,u.TYPE_HEARTBEAT=3,u.TYPE_DATA=4,u.TYPE_KICK=5,f.TYPE_REQUEST=0,f.TYPE_NOTIFY=1,f.TYPE_RESPONSE=2,f.TYPE_PUSH=3,t.strencode=function(e){for(var r=new n(3*e.length),t=0,o=0;o<e.length;o++){var u=e.charCodeAt(o),f=null;f=u<=127?[u]:u<=2047?[192|u>>6,128|63&u]:[224|u>>12,128|(4032&u)>>6,128|63&u];for(var l=0;l<f.length;l++)r[t]=f[l],++t}var c=new n(t);return i(c,0,r,0,t),c},t.strdecode=function(e){for(var r=new n(e),t=[],o=0,u=0,f=r.length;o<f;)r[o]<128?(u=r[o],o+=1):r[o]<224?(u=((63&r[o])<<6)+(63&r[o+1]),o+=2):(u=((15&r[o])<<12)+((63&r[o+1])<<6)+(63&r[o+2]),o+=3),t.push(u);return t.reduce(((e,n)=>e+String.fromCharCode.apply(null,[n])),"")},u.encode=function(e,r){var t=r?r.length:0,o=new n(4+t),u=0;return o[u++]=255&e,o[u++]=t>>16&255,o[u++]=t>>8&255,o[u++]=255&t,r&&i(o,4,r,0,t),o},u.decode=function(e){for(var r=0,t=new n(e),o=0,u=[];r<t.length;){var f=t[r++],l=(o=(t[r++]<<16|t[r++]<<8|t[r++])>>>0)?new n(o):null;i(l,0,t,r,o),r+=o,u.push({type:f,body:l})}return 1===u.length?u[0]:u},f.encode=function(e,r,o,u,f){var i=1+(l(r)?a(e):0);if(c(r))if(o){if("number"!=typeof u)throw new Error("error flag for number route!");i+=2}else if(i+=1,u){if((u=t.strencode(u)).length>255)throw new Error("route maxlength is overflow");i+=u.length}f&&(i+=f.length);var h=new n(i),T=0;return T=E(r,o,h,T),l(r)&&(T=d(e,h,T)),c(r)&&(T=s(o,u,h,T)),f&&(T=w(f,h,T)),h},f.decode=function(e){var r=new n(e),o=r.length||r.byteLength,u=0,f=0,a=null,E=r[u++],d=1&E,s=E>>1&7;if(l(s)){var w=parseInt(r[u]),h=0;do{f+=(127&(w=parseInt(r[u])))*Math.pow(2,7*h),u++,h++}while(w>=128)}if(c(s))if(d)a=r[u++]<<8|r[u++];else{var T=r[u++];T?(a=new n(T),i(a,0,r,u,T),a=t.strdecode(a)):a="",u+=T}var P=o-u,g=new n(P);return i(g,0,r,u,P),{id:f,type:s,compressRoute:d,route:a,body:g}};var i=function(e,n,r,t,o){if("function"==typeof r.copy)r.copy(e,n,t,t+o);else for(var u=0;u<o;u++)e[n++]=r[t++]},l=function(e){return e===f.TYPE_REQUEST||e===f.TYPE_RESPONSE},c=function(e){return e===f.TYPE_REQUEST||e===f.TYPE_NOTIFY||e===f.TYPE_PUSH},a=function(e){var n=0;do{n+=1,e>>=7}while(e>0);return n},E=function(e,n,r,t){if(e!==f.TYPE_REQUEST&&e!==f.TYPE_NOTIFY&&e!==f.TYPE_RESPONSE&&e!==f.TYPE_PUSH)throw new Error("unkonw message type: "+e);return r[t]=e<<1|(n?1:0),t+1},d=function(e,n,r){do{var t=e%128,o=Math.floor(e/128);0!==o&&(t+=128),n[r++]=t,e=o}while(0!==e);return r},s=function(e,n,r,t){if(e){if(n>65535)throw new Error("route number is overflow");r[t++]=n>>8&255,r[t++]=255&n}else n?(r[t++]=255&n.length,i(r,t,n,0,n.length),t+=n.length):r[t++]=0;return t},w=function(e,n,r){return i(n,r,e,0,e.length),r+e.length};o.exports=t,"undefined"!=typeof window&&(window.Protocol=t)}("undefined"==typeof window?o.exports:{},"undefined"==typeof window?Buffer:Uint8Array),t=e("default",o.exports)}),{})}}}));

System.register("chunks:///_virtual/ProtoManager.ts",["cc"],(function(o){"use strict";var t,r,e;return{setters:[function(o){t=o.cclegacy,r=o.TextAsset,e=o.sys}],execute:function(){t._RF.push({},"647b9mLXKhEYLYv4tkuN2zn","ProtoManager",void 0);class s{constructor(){this._loadDir={},this._root=null,this.module=null,this._root=new protobuf.Root}destory(){this.unload()}load(o,t="proto"){return new Promise(((e,s)=>{this._loadDir[`${o}/${t}`]?e(!0):(this._loadDir[`${o}/${t}`]=!1,App.asset.loadDir(o,t,r,((o,t,r)=>{}),(r=>{if(r&&r.data&&Array.isArray(r.data)){for(let o=0;o<r.data.length;o++){let t=r.data[o];protobuf.parse(t.text,this._root)}App.asset.releaseAsset(r),this._loadDir[`${o}/${t}`]=!0,e(!0)}else e(!1)})))}))}unload(){this._loadDir={},this._root=new protobuf.Root}lookup(o){return this._root?this._root.lookup(o):null}decode(o){let t=this.lookup(o.className);return t?t.decode(o.buffer):null}debug(){Log.d("-------Proto文件加载信息,所有proto文件都加载在同一个root下,文件加载完成后，资源文件就会初释放-------"),e.isNative?Log.dump(this._loadDir):Log.d(this._loadDir)}}o("ProtoManager",s),s.module="【Protobuf协议管理器】",t._RF.pop()}}}));

System.register("chunks:///_virtual/ProtoMessage.ts",["cc","./Net.ts","./Message.ts"],(function(e){"use strict";var t,s,o,r;return{setters:[function(e){t=e.cclegacy},function(e){s=e.Net},function(e){o=e.Message,r=e.Codec}],execute:function(){t._RF.push({},"2a060dCqolHUa5KS4cGgWCi","ProtoMessage",void 0);e("ProtoMessage",class extends o{constructor(e){super(),this.buffer=null,this.type=null,this.data=null,this.type=e}encode(){return this.buffer=this.type.encode(this.data).finish(),!!this.buffer}decode(e){return!!e&&(this.buffer=e,this.data=this.type.decode(this.buffer),!0)}});e("ProtoCodec",class extends r{});class c extends o{}e("ProtoMessageHeartbeat",c),c.type=s.ServiceType.Proto,t._RF.pop()}}}));

System.register("chunks:///_virtual/RankApi.ts",["cc","./BaseApi.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.default}],execute:function(){e._RF.push({},"0e13cKKEpxNq6lbbQyYkhdB","RankApi",void 0);t("default",class extends n{reqAgentRank(){return this.post("/rank/agentRank",{},{})}reqRank(t){return this.post("/rank/gameRank",t,{})}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/ReconnectHandler.ts",["cc","./Handler.ts","./Macros.ts"],(function(t){"use strict";var e,n,i,s,c;return{setters:[function(t){e=t.cclegacy,n=t.Tween,i=t.tween},function(t){s=t.Handler},function(t){c=t.Macro}],execute:function(){e._RF.push({},"2aac1yI2aBLi64ZG5EB3lv6","ReconnectHandler",void 0);t("ReconnectHandler",class extends s{get module(){return this.service.module}constructor(t){super(),this._service=null,this._enabled=!1,this._connectCount=0,this._maxConnectCount=3,this.isConnecting=!1,this.connectID=1,this.connectTimeOutID=2,this._service=t}get service(){return this._service}get data(){return App.stageData}get enabled(){return this._enabled}set enabled(t){this._enabled=t}reconnect(){this.isInvalid||(this.service.close(),this.stop(),this.delayConnect())}stop(){this.stopActions(),this.isConnecting=!1,this._connectCount=0,App.alert.close(c.RECONNECT_ALERT_TAG)}delayConnect(){if(this.isInvalid)return;if(this.isConnecting)return void Log.w(`${this.service.module} 正在连接中...`);let t=.3;this._connectCount>0&&(t=(this._connectCount+1)*t,t>3&&(t=3),Log.d(`${this.service.module}${t}秒后尝试重连`)),this.stopAction(this.connectID),this.delayCall(this.connectID,t,(()=>{this.connect()}))}connect(){if(!this.isInvalid){if(App.alert.close(c.RECONNECT_ALERT_TAG),this.data.isLoginStage())return App.uiReconnect.hide(),void Log.w("重连处于登录界面，停止重连");this._connectCount++,this._connectCount>this._maxConnectCount?this.showReconnectDialog():(App.uiReconnect.show(App.getLanguage("tryReconnect",[this.service.module,this._connectCount])),this.service.connect(),this.stopAction(this.connectTimeOutID),this.delayCall(this.connectTimeOutID,this.service.reconnectTimeout,(()=>{this.connectTimeOut()})))}}connectTimeOut(){this.isInvalid||(this.stopAction(this.connectID),this.isConnecting=!1,this.service.close(),this.showReconnectDialog())}showReconnectDialog(){this.isInvalid||(App.uiReconnect.hide(),Log.d(`${this.service.module} 断开`),this.stopAction(this.connectTimeOutID),App.alert.show({tag:c.RECONNECT_ALERT_TAG,isRepeat:!1,text:App.getLanguage("warningReconnect",[this.service.module]),confirmCb:t=>{var e,n;t?(Log.d(`${null==(e=this.service)?void 0:e.module} 重连连接网络`),this.stop(),App.serviceManager.reconnect(this.service)):(Log.d(`${null==(n=this.service)?void 0:n.module} 玩家网络不好，不重连，退回到登录界面`),App.entryManager.enterBundle(c.BUNDLE_RESOURCES))},cancelCb:()=>{var t;Log.d(`${null==(t=this.service)?void 0:t.module} 玩家网络不好，不重连，退回到登录界面`),App.entryManager.enterBundle(c.BUNDLE_RESOURCES)}}))}onOpen(t){this.isInvalid||(this._connectCount=0,this.isConnecting=!1,this.stop(),Log.d(`${this.service.module}服务器重连成功`))}onClose(t){this.isInvalid||(this.isConnecting=!1,this.delayConnect())}onError(t){this.isInvalid||(this.service.close(),this.isConnecting=!1,this.delayConnect())}get isInvalid(){return!(this.service&&this.enabled&&!this.data.isLoginStage())}stopActions(){this.stopAction(this.connectID),this.stopAction(this.connectTimeOutID)}stopAction(t){n.stopAllByTag(t,this)}delayCall(t,e,n){i(this).tag(t).delay(e).call(n).start()}onDestroy(){this.stopActions(),super.onDestroy()}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/RegisterView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CommonEvent.ts","./Config.ts","./Utils.ts","./UserApi.ts","./CommonData.ts","./FileUtils.ts"],(function(t){"use strict";var e,i,a,n,o,r,s,u,p,l,c,d,h,f,b,m,g,v,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,n=t.Node,o=t.Sprite,r=t.EditBox,s=t._decorator,u=t.sys,p=t.Texture2D,l=t.ImageAsset,c=t.SpriteFrame},function(t){d=t.default},function(t){h=t.inject},function(t){f=t.UserInfoEvent},function(t){b=t.Config},function(t){m=t.default},function(t){g=t.RegisterDevice},function(t){v=t.OpenType},function(t){w=t.default}],execute:function(){var y,A,N,I,C,E,_,S,L,U,D,z,P,R,T,B,k,O,H,F,G,x,V,j,K,J;a._RF.push({},"7cc37JIobBKPZzah5L/lfas","RegisterView",void 0);const{ccclass:M,property:Z}=s;t("default",(y=h("back",n),A=h("bottomNode/avatarLayout/content/addAvatarNode",n),N=h("bottomNode/avatarLayout/content/addAvatarNode/head",n),I=h("bottomNode/avatarLayout/content/avatar1",n),C=h("bottomNode/avatarLayout/content/avatar1/avatar/bg",o),E=h("bottomNode/nicknameLayout/content/input",r),_=h("bottomNode/phoneLayout/content/input",r),S=h("bottomNode/passwordLayout/content/input",r),L=h("bottomNode/confirmPasswordLayout/content/input",r),U=h("bottomNode/InvitationCodeLayout/content/input",r),D=h("register",n),z=h("customerService",n),M((T=e((R=class extends d{constructor(...t){super(...t),i(this,"back",T,this),i(this,"addAvatarNode",B,this),i(this,"addAvatarNode11",k,this),i(this,"avatarLayout",O,this),i(this,"avatarSprite",H,this),i(this,"nicknameInput",F,this),i(this,"phoneInput",G,this),i(this,"passwordInput",x,this),i(this,"confirmPasswordInput",V,this),i(this,"inviteCodeInput",j,this),i(this,"registerBtn",K,this),i(this,"nService",J,this),this.buffer=void 0,this.userApi=App.apis.user}static getPrefabUrl(){return"main/prefabs/RegisterView"}onLoad(){super.onLoad(),this.onCustom(f.HEAD_BACK_UPLOAD,this.onUploadHead),this.onN(this.back,n.EventType.TOUCH_END,this.onClose),this.onN(this.addAvatarNode11,n.EventType.TOUCH_END,this.upload),this.onN(this.registerBtn,n.EventType.TOUCH_END,this.register),this.onN(this.nService,n.EventType.TOUCH_END,(()=>this.toService(this.bundle))),this.onCustom(f.REGISTER_SUCC,(()=>{this.close()}))}upload(){App.globalAudio.playGlobalEffect(b.audioPath.button),this.loadImage(this.avatarLayout,this.avatarSprite)}register(){App.globalAudio.playGlobalEffect(b.audioPath.button),this.toRegister({username:this.nicknameInput.string||"",phone:Number(this.phoneInput.string)||0,password:this.passwordInput.string||"",password_confirmation:this.confirmPasswordInput.string||"",invite_code:this.inviteCodeInput.string||""})}toRegister(t){m.isEmpty(t.username)?App.tips.show("请输入昵称"):0!=t.phone?m.isEmpty(t.password)?App.tips.show("请输入密码"):m.isEmpty(t.password_confirmation)?App.tips.show("请输入确认密码"):this.userApi.register({avatar:this.buffer,username:t.username,password:t.password,password_confirmation:t.password_confirmation,invite_code:t.invite_code||"",phone:t.phone,register_device:g.ANDROID}).then((t=>{App.event.emitCustom(f.REGISTER_SUCC),App.tips.show("注册成功")})).catch((t=>{App.tips.show(t.message)})):App.tips.show("请输入手机号")}onClose(){App.globalAudio.playGlobalEffect(b.audioPath.close),this.close()}loadImage(t,e){u.isNative?window.Platform.OpenCameraOrAlbum(v.Album):App.nativeBridge.getSelectedImageData((async i=>{t.active=!0,this.buffer=new Uint8Array(await i.arrayBuffer()),t.active=!0,w.fileToSpriteFrame(i).then((t=>{e.spriteFrame=t}))}))}toService(t){App.globalAudio.playGlobalEffect(b.audioPath.button);App.nativeBridge.openUrl("https://api.mongolianarts.org/chat.html")}onUploadHead(t){if(this.avatarLayout.active=!0,u.isNative){let e=new Image;e.src=`data:image/png;base64,${t}`;let i=atob(t),a=new Uint8Array(i.length);for(let t=0;t<i.length;t++)a[t]=i.charCodeAt(t);this.buffer=a,e.width=e.height=100;let n=new p;e.onload=()=>{n.image=new l(e);let t=new c;t.texture=n,this.avatarSprite.spriteFrame=t}}}}).prototype,"back",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(R.prototype,"addAvatarNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(R.prototype,"addAvatarNode11",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(R.prototype,"avatarLayout",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(R.prototype,"avatarSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(R.prototype,"nicknameInput",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(R.prototype,"phoneInput",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(R.prototype,"passwordInput",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(R.prototype,"confirmPasswordInput",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(R.prototype,"inviteCodeInput",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(R.prototype,"registerBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(R.prototype,"nService",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=R))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/ReleaseManager.ts",["cc","./Macros.ts","./Resource.ts"],(function(e){"use strict";var t,s,a,l,n,o,i,r,u,d,h,c,g,m;return{setters:[function(e){t=e.cclegacy,s=e.assetManager,a=e.SpriteFrame,l=e.Texture2D,n=e.sp,o=e.JsonAsset,i=e.TextAsset,r=e.Asset,u=e.tween,d=e.Tween,h=e.isValid,c=e.Prefab},function(e){g=e.Macro},function(e){m=e.Resource}],execute:function(){t._RF.push({},"1d61cDX3/lKf7zhBed0DyS1","ReleaseManager",void 0);const f="【释放管理器】 : ";class p{constructor(e){this.name="",this._caches=new Map,this.name=e}add(e){if(Array.isArray(e.data)){e.refCount++,Log.d(`【释放管理器】 : 向${this.name}加入待释放目录:${e.key}`);for(let t=0;t<e.data.length;t++)e.data[t]&&e.data[t].addRef()}else e.data&&(Log.d(`【释放管理器】 : 向${this.name}加入待释放资源:${e.key}`),e.data.addRef());e.stamp=Date.timeNow(),this._caches.set(e.key,e)}get(e){let t=this._caches.get(e);if(t){if(Array.isArray(t.data)){for(let e=0;e<t.data.length;e++)t.data[e]&&t.data[e].decRef(!1);return Log.d(`【释放管理器】 : 向${this.name}获取待释放目录:${t.key}`),this._caches.delete(e),t}return h(t.data)?(t.data.decRef(!1),Log.d(`【释放管理器】 : 向${this.name}获取待释放资源:${t.key}`),this._caches.delete(e),t):(Log.w(`【释放管理器】 : 向${this.name}获取待释放资源时，资源${t.key}已经释放`),this._caches.delete(e),null)}return null}toRelease(e){if(this.name==g.BUNDLE_REMOTE)return e.data instanceof r&&(Log.d(`【释放管理器】 : bundle : ${this.name} 释放远程加载资源${e.url}`),s.releaseAsset(e.data)),void this._caches.delete(e.key);let t=App.bundleManager.getBundle(e.bundle);this.release(e,t),this._caches.delete(e.key)}toReleasePrefab(e){Array.isArray(e.data)?e.type==c&&this.toRelease(e):e.data instanceof c&&this.toRelease(e)}onLowMemory(){if(this._caches.size>0){if(Log.d(`【释放管理器】 : bundle : ${this.name} 释放加载的资源`),this.name==g.BUNDLE_REMOTE)return void this._caches.forEach(((e,t,s)=>{this.toRelease(e)}));let e=s.getBundle(this.name);e?(this._caches.forEach(((e,t)=>{this.toReleasePrefab(e)})),this._caches.forEach((t=>{this.release(t,e)})),this._caches.clear()):(Log.w(`【释放管理器】 : 释放bundle : ${this.name} 时，Bundle已经被释放，直接清空待释放数据`),this._caches.clear())}}tryRemove(e){this.name==e&&this.onLowMemory()}release(e,t){if(Array.isArray(e.data)){Log.d(`【释放管理器】 : bundle : ${this.name} 释放加载目录${e.fullUrl}`);for(let s=0;s<e.data.length;s++)if(e.data[s]){e.data[s].decRef(!1);let a=`${e.fullUrl}/${e.data[s].name}`;e.data[s].refCount<=0?(null==t||t.release(a,e.type),Log.d(`【释放管理器】 : bundle : ${this.name} 释放加载资源${a}`)):Log.w(`【释放管理器】 : bundle : ${this.name} 资源${a}正使用中引用计数为:${e.data[s].refCount}`)}}else h(e.data)&&(e.data.decRef(!1),e.data.refCount<=0?(null==t||t.release(e.url,e.type),Log.d(`【释放管理器】 : bundle : ${this.name} 释放加载资源${e.url}`)):Log.w(`【释放管理器】 : bundle : ${this.name} 资源${e.url}正使用中引用计数为:${e.data.refCount}`))}tryRemoveTimeoutResources(){App.isLazyRelease&&App.isAutoReleaseUnuseResources&&(this._caches.forEach(((e,t,s)=>{if(e.retain)return;if(null==e.stamp)return;Date.timeNow()-e.stamp>=App.autoReleaseUnuseResourcesTimeout&&this.toReleasePrefab(e)})),this._caches.forEach(((e,t,s)=>{if(e.retain)return;if(null==e.stamp)return;Date.timeNow()-e.stamp>=App.autoReleaseUnuseResourcesTimeout&&this.toRelease(e)})))}get assets(){return this._caches}}class y{constructor(){this.isResident=!0,this.module=null,this._lazyInfos=new Map,this._bundles=new Map,this._remote=new p(g.BUNDLE_REMOTE),this._uiDatas=new Map,this._actionTag=999}getBundle(e){return App.bundleManager.getBundle(e)}getBundleName(e){return App.bundleManager.getBundleName(e)}release(e){let t=this.getBundle(e.bundle);if(t)if(App.isLazyRelease){let s,a=t.name;this._lazyInfos.has(a)?s=this._lazyInfos.get(a):(s=new p(a),this._lazyInfos.set(a,s)),App.cache.removeWithInfo(e,t)&&(s&&s.add(e),App.cache.remove(e))}else App.cache.removeWithInfo(e,t);else Log.e(`【释放管理器】 : ${e.bundle} no found`)}get(e,t){let s=this.getBundle(e);if(s){let e=this._lazyInfos.get(s.name);if(e)return e.get(t)}else{Log.w(`【释放管理器】 : ${e}不存在，删除释放管理器中的缓存`);let t=this.getBundleName(e);this.onLoadBundle(t),this._lazyInfos.delete(t)}return null}removeBundle(e){let t=this.getBundle(e);App.isLazyRelease?t&&(Log.d(`【释放管理器】 : 向释放管理器中添加待释放bundle : ${null==t?void 0:t.name}`),this._bundles.set(null==t?void 0:t.name,Date.timeNow())):(Log.d(`【释放管理器】 : 释放Bundle : ${null==t?void 0:t.name}`),null==t||t.releaseAll(),t&&s.removeBundle(t))}onLoadBundle(e){this._bundles.delete(e)}isExistBunble(e){if(App.isLazyRelease){let t=this.getBundleName(e);return!!this._bundles.has(t)}return!1}debugUselessBundleAssets(e){}releaseUselessBundles(e=!1){Log.d("【释放管理器】 : -------------释放无用bundle-------------");let t=[],a=Date.timeNow();return this._bundles.forEach(((l,n)=>{let o=s.getBundle(n);if(o){if(App.bundleManager.isEngineBundle(n))return void Log.d(`${n} : 引擎bundle，跳过处理`);if(e){a-l>=App.autoReleaseUnuseResourcesTimeout&&(Log.d(`释放长时间无用bundle : ${n}`),this.debugUselessBundleAssets(n),o.releaseAll(),s.removeBundle(o),t.push(n),this._bundles.delete(n),this._lazyInfos.delete(n))}else Log.d(`释放无用bundle : ${n}`),this.debugUselessBundleAssets(n),o.releaseAll(),s.removeBundle(o),this._bundles.delete(n),this._lazyInfos.delete(n)}})),t}destroyUI(e,t){if(e){if(!t)return e.destroy(),this._uiDatas.delete(e.name),!0;if(t-e.cache.stamp>=App.autoReleaseUnuseResourcesTimeout)return e.destroy(),this._uiDatas.delete(e.name),!0}return!1}releaseUselessUI(e=!1,t){let s=Date.timeNow();this._uiDatas.forEach(((a,l)=>{t?a.bundle==t&&this.destroyUI(a):e?this.destroyUI(a,s):this.destroyUI(a)}))}onLowMemory(){Log.d("【释放管理器】 : ------------收到内存警告，释放无用资源------------"),this.releaseUselessUI(),this.releaseUselessBundles(),this._lazyInfos.forEach(((e,t,s)=>{e.onLowMemory()})),Log.d("【释放管理器】 : -------------释放无用远程资源-------------"),this._remote.onLowMemory()}onAutoReleaseUnuseResources(){Log.d("【释放管理器】 : ------------释放长时间未使用资源开始------------");let e=App.stageData.where,t=this.releaseUselessBundles(!0);this.releaseUselessUI(!0);let s=Date.timeNow(),a=App.bundleManager;this._uiDatas.forEach(((e,l)=>{this.destroyUI(e,s)||-1!=t.indexOf(a.getBundleName(e.bundle))&&this.destroyUI(e)})),this._lazyInfos.forEach(((t,s,a)=>{s!=e&&t.tryRemoveTimeoutResources()})),Log.d("【释放管理器】 : -------------释放无用远程资源-------------"),this._remote.tryRemoveTimeoutResources(),Log.d("【释放管理器】 : ------------释放长时间未使用资源结束------------")}tryRemoveBundle(e){Log.d(`【释放管理器】 : --------------尝试释放${e}加载资源------------`),this.releaseUselessUI(!1,e),this._lazyInfos.forEach(((t,s,a)=>{t.tryRemove(e)}));let t=this.getBundleName(e),a=s.getBundle(t);a&&(Log.d(`释放无用bundle : ${t}`),a.releaseAll(),s.removeBundle(a),this._bundles.delete(t),this._lazyInfos.delete(t))}getRemote(e,t){let s=[];if(t==a){let a=this._remote.get(m.getKey(e,t)),n=this._remote.get(m.getKey(e,l));s.push(a),s.push(n)}else if(t==n.SkeletonData){let a=`${e}.atlas`,n=`${e}.png`,r=`${e}.json`,u=this._remote.get(m.getKey(e,t)),d=this._remote.get(m.getKey(n,l)),h=this._remote.get(m.getKey(r,o)),c=this._remote.get(m.getKey(a,i));s.push(u),s.push(d),s.push(h),s.push(c)}else{let a=this._remote.get(m.getKey(e,t));s.push(a)}return s}releaseRemote(e,t=!1){App.isLazyRelease&&!t?this._remote.add(e):e.data instanceof r&&s.releaseAsset(e.data)}onLoad(e){App.isAutoReleaseUnuseResources&&App.isLazyRelease&&u(e).repeatForever(u(e).delay(App.autoReleaseUnuseResourcesTimeout).call((()=>{this.onAutoReleaseUnuseResources()}))).tag(this._actionTag).start()}onDestroy(e){d.stopAllByTag(this._actionTag)}debug(){let e=[];this._bundles.forEach(((t,s,a)=>{e.push(s)}));let t={lazyInfo:this._lazyInfos,bundles:e,remote:this._remote};Log.d(`--------------${this.module}调试信息如下--------------`),App.isLazyRelease?(this._uiDatas.forEach(((e,t)=>{Log.d(`待释放UI ${t}`)})),t.bundles.length>0&&Log.d(`待释放Bundle : ${t.bundles.toString()}`),t.lazyInfo.size>0&&t.lazyInfo.forEach(((e,t,s)=>{Log.d(`--------------${t}待释放资源--------------`),e.assets.forEach(((e,t,s)=>{Log.d(JSON.stringify(e.debug()))}))})),Log.d("远程待释放资源"),t.remote.assets.forEach(((e,t,s)=>{Log.d(JSON.stringify(e.debug()))}))):Log.w("未开户懒释放功能!!!!")}}e("ReleaseManager",y),y.module=f,t._RF.pop()}}}));

System.register("chunks:///_virtual/Resource.ts",["cc"],(function(t){"use strict";var e,s,i;return{setters:[function(t){e=t.cclegacy,s=t.js,i=t.isValid}],execute:function(){let r;t("Resource",void 0),e._RF.push({},"86fa3hsHP1My5zJYrNKRvgr","Resource",void 0),function(t){let e,l,u;!function(t){t[t.LOADING=0]="LOADING",t[t.NO_FOUND_LOAD_RESOURCE=1]="NO_FOUND_LOAD_RESOURCE",t[t.SUCCESS=2]="SUCCESS"}(e||(e={})),t.LoaderError=e,function(t){t[t.NONE=0]="NONE",t[t.WAITTING_FOR_RELEASE=1]="WAITTING_FOR_RELEASE"}(l||(l={})),t.CacheStatus=l,function(t){t[t.Local=0]="Local",t[t.Remote=1]="Remote"}(u||(u={})),t.Type=u;function h(t,e){return t.indexOf(s.getClassName(e))>=0?t:`${t}(${s.getClassName(e)})`}t.Cache=class{constructor(t,e,s){this.url="",this.type=null,this.bundle=null,this._retain=!1,this.refCount=0,this.data=null,this.resourceType=u.Local,this.stamp=null,this.isLoaded=!1,this.status=l.NONE,this.getCb=[],this.finishCb=[],this.url=t,this.type=e,this.bundle=s}get key(){return h(this.url,this.type)}get description(){let t=s.getClassName(this.type);return this.resourceType==r.Type.Local?`本地 : ${Array.isArray(this.data)?"目录":""}[${t}]${this.fullUrl}`:`远程 : [${t}]${this.fullUrl}`}get fullUrl(){return this.resourceType==r.Type.Local?`${this.bundle}/${this.url}`:this.url}set retain(t){this._retain?Log.w(`${this.fullUrl}已经是常驻资源，无需要重复设置`):this._retain=t}get retain(){return this._retain}doGet(){for(let t=0;t<this.getCb.length;t++)this.getCb[t]&&this.getCb[t]([this,this.data]);this.getCb=[]}doFinish(t){for(let e=0;e<this.finishCb.length;e++)this.finishCb[e]&&this.finishCb[e](t);this.finishCb=[]}get isInvalid(){return this.isLoaded&&this.data&&!i(this.data)}debug(){let t=s.getClassName(this.type);return{isLoaded:this.isLoaded,info:(t=>{if(!t)return[{url:this.fullUrl,isValid:!1,refCount:-1}];if(Array.isArray(t)){let e=[];return t.forEach((t=>{let s=i(t);e.push({url:`${this.fullUrl}/${s?t.name:"unknown"}`,isValid:s,refCount:s?t.refCount:-1})})),e}{let e=i(t);return[{url:this.fullUrl,isValid:e,refCount:e?t.refCount:-1}]}})(this.data),status:this.status,type:t}}},t.getKey=h}(r||(r=t("Resource",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceLoader.ts",["cc","./Resource.ts"],(function(e){"use strict";var o,s,t;return{setters:[function(e){o=e.Asset,s=e.cclegacy},function(e){t=e.Resource}],execute:function(){s._RF.push({},"37b44dS6xRMXKLsf0jg21ne","ResourceLoader",void 0);e("default",class{constructor(){this._resources=[],this._loadedCount=0,this._loadedResource=new Map,this._isLoading=!1,this._tag=null,this._onLoadComplete=void 0,this._onLoadProgress=void 0,this._getLoadResource=void 0}get tag(){return this._tag}set tag(e){this._tag=e}set onLoadComplete(e){this._onLoadComplete=e}get onLoadComplete(){return this._onLoadComplete}set onLoadProgress(e){this._onLoadProgress=e}get onLoadProgress(){return this._onLoadProgress}set getLoadResources(e){this._getLoadResource=e}get getLoadResources(){return this._getLoadResource}loadResources(){if(!this.getLoadResources)return void(this.onLoadComplete&&this.onLoadComplete(t.LoaderError.NO_FOUND_LOAD_RESOURCE));let e=this.getLoadResources();if(e)if(e.length<=0)this.onLoadComplete&&this.onLoadComplete(t.LoaderError.NO_FOUND_LOAD_RESOURCE);else if(this._isLoading)this.onLoadComplete&&this.onLoadComplete(t.LoaderError.LOADING);else{if(this._resources.length>0&&this.isLoadComplete())return this.onLoadComplete&&this.onLoadComplete(t.LoaderError.SUCCESS),void this.onLoadResourceComplete();this._isLoading=!0,this._resources=e,this._loadedCount=0,this._resources.forEach(((e,o,s)=>{e.preloadView?App.uiManager.preload(e.preloadView,e.bundle,e.isCache).then((o=>{let s=new t.Cache(e.url,e.type,e.bundle);s.isLoaded=!0,s.data=o,e.preloadView&&(s.url=e.preloadView.getPrefabUrl()),s.bundle=e.bundle,this._onLoadResourceComplete(s)})):e.dir?App.asset.loadDir(e.bundle,e.dir,e.type,null,this._onLoadResourceComplete.bind(this)):App.asset.load(e.bundle,e.url,e.type,null,this._onLoadResourceComplete.bind(this))}))}else this.onLoadComplete&&this.onLoadComplete(t.LoaderError.NO_FOUND_LOAD_RESOURCE)}unLoadResources(){this._unLoadResources()}_unLoadResources(){this._isLoading||this._resources.length<=0?this._isLoading&&Log.d("resources is loading , waiting for unload!!!"):(this._resources.forEach((e=>{if(e.url){let o=t.getKey(e.url,e.type);if(o=`${e.bundle}/${o}`,this._loadedResource.has(o)){let e=this._loadedResource.get(o);e&&App.asset.releaseAsset(e),this._loadedResource.delete(o)}}else if(e.dir){let o=t.getKey(e.dir,e.type);if(o=`${e.bundle}/${o}`,this._loadedResource.has(o)){let e=this._loadedResource.get(o);e&&App.asset.releaseAsset(e),this._loadedResource.delete(o)}}})),this._isLoading=!1,this._loadedCount=0,this._resources=[])}_onLoadResourceComplete(e){this._loadedCount++,this._onLoadProgress&&(this._loadedCount>this._resources.length&&(this._loadedCount=this._resources.length),this._onLoadProgress(this._loadedCount,this._resources.length,e)),e&&(Array.isArray(e.data)||e.data instanceof o)&&(App.asset.retainAsset(e),this._loadedResource.set(`${e.bundle}/${e.key}`,e)),this.checkLoadResourceComplete()}checkLoadResourceComplete(){this.isLoadComplete()&&(this._isLoading=!1,this.onLoadComplete&&this.onLoadComplete(t.LoaderError.SUCCESS),this.onLoadResourceComplete())}onLoadResourceComplete(){}isLoadComplete(){return this._loadedCount>=this._resources.length}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/RoomApi.ts",["cc","./ConfigInfo.ts","./BaseApi.ts"],(function(o){"use strict";var e,t,n,i;return{setters:[function(o){e=o.cclegacy},function(o){t=o.ConfigInfoEn,n=o.EmConfigData},function(o){i=o.default}],execute:function(){o({ConfigRoomReq:void 0,CreateRoomReq:void 0}),e._RF.push({},"d1c27rPYedBQJQTxgpHAX0y","RoomApi",void 0);let r,s;o("default",class extends i{reqRoomConfig(){return new Promise(((o,e)=>{this.post("/room/config",{},{}).then((e=>{t.setConfig(n.CONFIG_ROOM,e.data),o(e.data)})).catch((o=>{e(o)}))}))}reqCreateRoom(o){return new Promise(((e,t)=>{this.post("/room/create",o,{}).then((o=>{e(o)})).catch((o=>{t(o)}))}))}}),r||(r=o("CreateRoomReq",{})),s||(s=o("ConfigRoomReq",{})),e._RF.pop()}}}));

System.register("chunks:///_virtual/RoomSettle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./List.ts","./Utils.ts","./Macros.ts","./PlayerBasicInfoView.ts","./GameRecordDetails.ts","./UserData.ts","./Config.ts"],(function(t){"use strict";var e,i,o,n,r,a,s,l,c,u,p,h,f,d,m,g,b,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Node,r=t.Label,a=t._decorator,s=t.find,l=t.RichText,c=t.Sprite},function(t){u=t.default},function(t){p=t.inject},function(t){h=t.default},function(t){f=t.default},function(t){d=t.Macro},function(t){m=t.default},function(t){g=t.GameRecordDetails},function(t){b=t.UserDataEn},function(t){x=t.ViewZOrder}],execute:function(){var R,T,D,I,w,S,A,y,v,C,k,B,L,N,_,E,U,z,F,M,V,O;o._RF.push({},"a05dcnuGZFOH7m45A4CnS2G","RoomSettle",void 0);const{ccclass:P,property:G}=a;t("RoomSettle",(R=p("safeArea/topLayout/btnBack",n),T=p("safeArea/topLayout/btnRecord",n),D=p("safeArea/content/roomInfo/txtRoomNum",r),I=p("safeArea/content/roomInfo/modebg/txtMode",r),w=p("safeArea/content/roomInfo/txtTime",r),S=p("safeArea/content/title/txtdipi",r),A=p("safeArea/content/title/txtTotalTurn",r),y=p("safeArea/content/title/txtTotalDaiRu",r),v=p("safeArea/content/title/txtTotalTax",r),C=p("safeArea/content/records",h),P((L=e((B=class extends u{constructor(...t){super(...t),this.userApi=App.apis.user,i(this,"btnBack",L,this),i(this,"btnRecord",N,this),i(this,"txtRoomNum",_,this),i(this,"txtMode",E,this),i(this,"txtTime",U,this),i(this,"labDipi",z,this),i(this,"txtTotalTurn",F,this),i(this,"txtTotalDaiRu",M,this),i(this,"txtTotalTax",V,this),i(this,"scrollViewRecord",O,this),this.recordData=[],this.from=null,this.tableInfo=null,this.closeCallback=null}static getPrefabUrl(){return"common/prefabs/RoomSettle"}onLoad(){super.onLoad(),this.btnRecord.active=!1}addEvents(){this.onN(this.btnBack,n.EventType.TOUCH_END,this.onBtnBack,this),this.onN(this.btnRecord,n.EventType.TOUCH_END,this.onBtnRecord,this),App.utils.addListRule(this.node,this.scrollViewRecord,"RoomSettle","onShowItemList","","renderEvent")}onShow(){if(this.args){Log.d("RoomSettle:",this.args),this.from=this.args.from;var t=this.args.data;this.tableInfo=this.args.tableInfo,this.closeCallback=this.args.closeCallback,this.showContent(t),this.btnRecord.active="hall"==this.from}}showContent(t){if(!t)return;var e=t.data.room;this.txtRoomNum.string=f.padLeft(e.tableNo),this.txtMode.string=this.tableInfo.diwang?"地九王":"普通",this.txtTime.string=App.utils.transferDataTime(e.start_at||e.startAt)+" ---- "+App.utils.transferDataTime(e.end_at||e.endAt);let i=0,o=0;for(let e=0;e<t.data.record.length;e++){let n=t.data.record[e];i+=Number(n.takein)||0,o+=Number(n.taxes)||0}this.txtTotalTax.string="总奖池:"+f.getScoreImplicit(o),this.txtTotalDaiRu.string="总带入："+f.getScoreImplicit(i),this.txtTotalTurn.string="总手数："+e.hands,this.labDipi.string=`底皮: ${f.getScoreImplicit(e.pi)} / ${f.getScoreImplicit(e.mango)}`,this.recordData=t.data.record.sort(((t,e)=>e.profit-t.profit)),this.scrollViewRecord.numItems=this.recordData.length}onShowItemList(t,e){let i=s("icon_rank",t),o=s("lab_rank",t).getComponent(r),n=s("txtZhanji",t).getComponent(l),a=s("playerIcon",t),u=s("txtPlayerID",t).getComponent(r),p=s("txtTurn",t).getComponent(r),h=s("txtDairu",t).getComponent(r),g=s("txtPunish",t).getComponent(l);e<3?(i.active=!0,o.node.active=!1,i.getComponent(c).loadImage({url:"common/images/roomSettle/icon_"+(e+1),view:this,bundle:d.BUNDLE_RESOURCES})):(i.active=!1,o.node.active=!0,o.string=String(e+1));var b=this.recordData[e];a.addComponent(m).setBasicInfo(b.username,b.avatar),b.profit>0?n.string="战绩:<color=#FF0000>"+f.getScore(b.profit,0)+"</color>":n.string="战绩:<color=#00FF00>"+f.getScore(b.profit,0)+"</color>",u.string="ID:"+b.id,p.string="手数："+b.total_times,h.string="带入："+f.getScoreImplicit(b.takein),b.fscore?(g.node.active=!0,b.fscore>0?g.string="逃跑赔偿:<color=#FF0000>"+f.getScoreImplicit(b.fscore)+"</color>":g.string="逃跑惩罚:<color=#00FF00>"+f.getScoreImplicit(b.fscore)+"</color>"):g.node.active=!1}onBtnBack(){this.close(),"game"==this.from&&this.closeCallback&&this.closeCallback()}onBtnRecord(){App.loading.show("");var t=b.getUserData();this.userApi.tableUserReplay(this.tableInfo.tableId+"",t.id+"",1).then((t=>{App.loading.hide(),0!=t.code?App.tips.show("获取数据失败"):App.uiManager.open({type:g,bundle:d.BUNDLE_RESOURCES,zIndex:x.Default,args:{data:t,tableInfo:this.tableInfo},name:"游戏记录详情"})})).catch((t=>{App.tips.show(t.message),App.loading.hide()}))}}).prototype,"btnBack",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(B.prototype,"btnRecord",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(B.prototype,"txtRoomNum",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(B.prototype,"txtMode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(B.prototype,"txtTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(B.prototype,"labDipi",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(B.prototype,"txtTotalTurn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(B.prototype,"txtTotalDaiRu",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(B.prototype,"txtTotalTax",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(B.prototype,"scrollViewRecord",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=B))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/SaveDataUtils.ts",["cc","./LocalStorageUtils.ts","./MemoryUtils.ts"],(function(e){"use strict";var t,a,s;return{setters:[function(e){t=e.cclegacy},function(e){a=e.default},function(e){s=e.default}],execute:function(){let r;e("SaveDataType",void 0),t._RF.push({},"2abc87cLDNBDpbWehpVtpI3","SaveDataUtils",void 0),function(e){e[e.MEMORY=0]="MEMORY",e[e.LOCAL_STORAGE=1]="LOCAL_STORAGE",e[e.ALL=2]="ALL"}(r||(r=e("SaveDataType",{})));e("default",class{static get(e,t=r.MEMORY){switch(t){case r.MEMORY:return s.get(e);case r.LOCAL_STORAGE:return a.get(e);default:let t=s.get(e);return null==t||null==t?a.get(e):t}}static set(e,t,c=r.MEMORY){switch(c){case r.MEMORY:s.set(e,t);break;case r.LOCAL_STORAGE:a.set(e,t);break;default:s.set(e,t),a.set(e,t)}}static remove(e,t=r.MEMORY){switch(t){case r.MEMORY:return s.remove(e);case r.LOCAL_STORAGE:return a.remove(e);default:let t=s.remove(e),c=a.remove(e);return null!=t?t:c}}static clear(e=r.MEMORY){switch(e){case r.MEMORY:s.clear();break;case r.LOCAL_STORAGE:a.clear();break;default:s.clear(),a.clear()}}static has(e,t=r.MEMORY){switch(t){case r.MEMORY:return s.has(e);case r.LOCAL_STORAGE:return a.has(e);default:let t=s.has(e);return null==t?a.has(e):t}}static getKeys(e=r.MEMORY){switch(e){case r.MEMORY:return s.getKeys();case r.LOCAL_STORAGE:return a.getKeys();default:let e=s.getKeys(),t=a.getKeys();for(let a=0;a<t.length;a++)e.includes(t[a])||e.push(t[a]);return e}}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/Sender.ts",["cc","./EventProcessor.ts","./Macros.ts"],(function(e){"use strict";var s,t,n;return{setters:[function(e){s=e.cclegacy},function(e){t=e.EventProcessor},function(e){n=e.Macro}],execute:function(){s._RF.push({},"88af3+km/JPIL5D0tRyJFj+","Sender",void 0);class r extends t{constructor(...e){super(...e),this.module=""}send(e){this.service&&this.service.send&&this.service.send(e)}debug(){Log.d(this.module)}destory(){this.onDestroy()}init(){this.onLoad()}}e("Sender",r),r.module=n.UNKNOWN,s._RF.pop()}}}));

System.register("chunks:///_virtual/SenderManager.ts",["cc","./SingletonT.ts"],(function(e){"use strict";var n,t;return{setters:[function(e){n=e.cclegacy},function(e){t=e.SingletonT}],execute:function(){n._RF.push({},"99dfadiQCtCWbS1VuSqD4iM","SenderManager",void 0);class r extends t{constructor(...e){super(...e),this.module=null}}e("SenderManager",r),r.module="【Sender管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/ServerConnector.ts",["cc","./WebSocketClient.ts"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.default}],execute:function(){e._RF.push({},"8f212tIZJxBPJFQ22wpaqRR","ServerConnector",void 0);t("ServerConnector",class{constructor(){this._wsClient=null,this._sendHartId=-1,this._curRecvHartTimeOutCount=0,this._enabled=!0,this._wsClient=new s,this._wsClient.onClose=this.onClose.bind(this),this._wsClient.onError=this.onError.bind(this),this._wsClient.onMessage=this.onMessage.bind(this),this._wsClient.onOpen=this.onOpen.bind(this)}getMaxHeartbeatTimeOut(){return 5}getHeartbeatInterval(){return 5e3}isHeartBeat(t){return!1}onOpen(t){this.recvHeartbeat(),this.stopSendHartSchedule(),this.sendHeartbeat(),this.startSendHartSchedule()}onClose(t){this.stopSendHartSchedule()}onError(t){this.stopSendHartSchedule()}onMessage(t){this.recvHeartbeat()}recvHeartbeat(){this._curRecvHartTimeOutCount=0}get enabled(){return this._enabled}set enabled(t){this._enabled=t,0==t&&this.close()}connect_server(t,e=null,s="wss"){this.enabled&&(e?"string"==typeof e&&e.length>0?this._wsClient&&this._wsClient.initWebSocket(t,e,s):"number"==typeof e&&e>0?this._wsClient&&this._wsClient.initWebSocket(t,e.toString(),s):this._wsClient&&this._wsClient.initWebSocket(t,null,s):this._wsClient&&this._wsClient.initWebSocket(t,null,s))}stopSendHartSchedule(){-1!=this._sendHartId&&(clearInterval(this._sendHartId),this._sendHartId=-1)}startSendHartSchedule(){let t=this;this._sendHartId=setInterval((()=>{if(t._curRecvHartTimeOutCount=t._curRecvHartTimeOutCount+1,t._curRecvHartTimeOutCount>t.getMaxHeartbeatTimeOut())return t.stopSendHartSchedule(),void t.onHeartbeatTimeOut();t.sendHeartbeat()}),t.getHeartbeatInterval())}sendBuffer(t){this._wsClient&&this._wsClient.send(t)}close(){this.stopSendHartSchedule(),this._wsClient&&this._wsClient.close()}get isConnected(){return!!this._wsClient&&this._wsClient.isConnected}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/Service.ts",["cc","./Macros.ts","./Net.ts","./ServerConnector.ts","./Process.ts","./ReconnectHandler.ts"],(function(e){"use strict";var s,t,r,o,n,i;return{setters:[function(e){s=e.cclegacy},function(e){t=e.Macro},function(e){r=e.Net},function(e){o=e.ServerConnector},function(e){n=e.Process},function(e){i=e.ReconnectHandler}],execute:function(){s._RF.push({},"526ef9AI7RPRo6k9vx5gbA2","Service",void 0);class c extends o{constructor(){super(),this.module=t.UNKNOWN,this._data=null,this.maxEnterBackgroundTime=30,this.reconnectTimeout=30,this._backgroundTimeOutId=-1,this.reconnectHandler=null,this._Process=new n,this._Heartbeat=null,this.priority=0,this.serviceType=r.ServiceType.Unknown,this.reconnectHandler=new i(this)}get data(){return this._data||(this._data=App.stageData),this._data}set Process(e){null!=e&&(this._Process=new e,this._Process.serviceType=this.serviceType)}set Codec(e){this._Process.Codec=e}get heartbeat(){return this._Heartbeat}set heartbeat(e){this._Heartbeat=e,this.serviceType=e.type,this._Process.serviceType=e.type}onOpen(e){super.onOpen(e),App.serviceManager.onOpen(e,this)}onClose(e){super.onClose(e),App.serviceManager.onClose(e,this)}onError(e){super.onError(e),App.serviceManager.onError(e,this)}onMessage(e){this.recvHeartbeat();let s=new this._Process.Codec;s.unPack(e)?this.isHeartBeat(s)?this.onRecvHeartBeat():(super.onMessage(e),this._Process.onMessage(s)):Log.e("decode header error")}onRecvHeartBeat(){}onHeartbeatTimeOut(){Log.w(`${this.module} 心跳超时，您已经断开网络`),this.close(),App.serviceManager.reconnect(this)}addListener(e,s,t,r,o){this._Process.addListener(e,s,t,r,o)}removeListeners(e,s){this._Process.removeListeners(e,s)}addMessageQueue(e,s,t=!1){this._Process.addMessageQueue(e,s,t)}pauseMessageQueue(){this._Process.isPause=!0}resumeMessageQueue(){this._Process.isPause=!1}handMessage(){this._Process.handMessage()}reset(){this._Process.reset()}close(){this._Process.close(),super.close()}send(e){if(this._Process.Codec)if(e.encode()){let s=new this._Process.Codec;s.pack(e),this.isHeartBeat(e)||Log.d(`send request main cmd : ${e.cmd} `),this.sendBuffer(s.buffer)}else Log.e("encode error");else Log.e("请求指定数据包头处理类型")}destory(){this.reconnectHandler&&this.reconnectHandler.onDestroy()}onEnterBackground(){if(this.data.isLoginStage())return;let e=this;e._backgroundTimeOutId=setTimeout((()=>{Log.d("进入后台时间过长，主动关闭网络，等玩家切回前台重新连接网络"),e.close(),App.alert.close(t.RECONNECT_ALERT_TAG)}),1e3*e.maxEnterBackgroundTime)}onEnterForgeground(e){if(-1!=this._backgroundTimeOutId){if(Log.d("清除进入后台的超时关闭网络定时器"),clearTimeout(this._backgroundTimeOutId),Log.d(`在后台时间${e} , 最大时间为: ${this.maxEnterBackgroundTime}`),this.data.isLoginStage())return;e>this.maxEnterBackgroundTime&&(Log.d("从回台切换，显示重新连接网络"),this.close(),App.alert.close(t.RECONNECT_ALERT_TAG))}}}e("Service",c),c.module=t.UNKNOWN,s._RF.pop()}}}));

System.register("chunks:///_virtual/ServiceManager.ts",["cc","./Macros.ts"],(function(e){"use strict";var n,c;return{setters:[function(e){n=e.cclegacy},function(e){c=e.Macro}],execute:function(){n._RF.push({},"de02fmAhktFqrVNko/wmjAM","ServiceManager",void 0);class t{constructor(){this.module=null,this.services=[],this.waitReconnect=[],this.curReconnect=void 0}get(e,n=!1){let t=this.getModule(e);if(t==c.UNKNOWN)return null;let r=this.getService(t);return r||("string"!=typeof e&&n?(r=new e,r.module=t,this.services.push(r),r):null)}destory(e){if(e){let n=this.getModule(e),c=this.services.length;for(;c--;)this.services[c].module==n&&(this.services[c].close(),this.services[c].destory(),this.services.splice(c,1))}else this.clear()}clear(e){let n=this.services.length;for(;n--;)this.isInExclude(this.services[n],e)||(this.services[n].close(),this.services[n].destory(),this.services.splice(n,1))}isInExclude(e,n){if(!n)return!1;for(let c=0;c<n.length;c++){if(this.getModule(n[c])==e.module)return!0}return!1}getModule(e){let n=c.UNKNOWN;return n="string"==typeof e?e:e.module,n}onDestroy(){this.clear()}update(){this.services.forEach((e=>{e&&e.handMessage()}))}close(){this.services.forEach((e=>{e&&e.close()}))}onLoad(){}onError(e,n){if(Log.d(`${n.module} 网络错误!!!`),!this.isWaiReconnect(n)&&n.reconnectHandler&&n.reconnectHandler.enabled&&this.waitReconnect.push(n),this.sortWait(),this.curReconnect)this.curReconnect==n&&n.reconnectHandler&&n.reconnectHandler.enabled&&n.reconnectHandler.onError(e);else for(;this.waitReconnect.length>0;)if(!this.curReconnect){if(this.curReconnect=this.waitReconnect.shift(),this.curReconnect&&this.curReconnect.reconnectHandler&&this.curReconnect.enabled){this.curReconnect.reconnectHandler.onError(e);break}this.curReconnect=void 0}}onClose(e,n){if(e.type!=c.ON_CUSTOM_CLOSE){if(Log.d(`${n.module} 网络关闭!!!`),!this.isWaiReconnect(n)&&n.reconnectHandler&&n.reconnectHandler.enabled&&this.waitReconnect.push(n),this.sortWait(),this.curReconnect)this.curReconnect==n&&n.reconnectHandler&&n.reconnectHandler.enabled&&n.reconnectHandler.onClose(e);else for(;this.waitReconnect.length>0;)if(!this.curReconnect){if(this.curReconnect=this.waitReconnect.shift(),this.curReconnect&&this.curReconnect.reconnectHandler&&this.curReconnect.enabled){this.curReconnect.reconnectHandler.onClose(e);break}this.curReconnect=void 0}}else Log.d(`${n.module} 应用层主动关闭Socket`)}onOpen(e,n){let c=!1;for(let t=0;t<this.waitReconnect.length;t++)if(this.waitReconnect[t]==n){n.reconnectHandler&&n.reconnectHandler.onOpen(e),c=!0,this.waitReconnect.splice(t,1);break}for(!c&&n&&n.reconnectHandler&&n.reconnectHandler.enabled&&n.reconnectHandler.onOpen(e),Log.d(`${n.module}重连成功...`),this.curReconnect=void 0;this.waitReconnect.length>0;)if(!this.curReconnect){if(this.curReconnect=this.waitReconnect.shift(),this.curReconnect&&this.curReconnect.reconnectHandler&&this.curReconnect.enabled){this.curReconnect.reconnectHandler.reconnect(),Log.d(`${this.curReconnect.module}进入重连...`);break}this.curReconnect=void 0}this.curReconnect||App.uiReconnect.hide()}onEnterBackground(){this.services.forEach((e=>{e.onEnterBackground()}))}onEnterForgeground(e){this.services.forEach((n=>{n.onEnterForgeground(e)}))}reconnect(e){if(!this.isWaiReconnect(e)&&e.reconnectHandler&&e.reconnectHandler.enabled&&this.waitReconnect.push(e),this.sortWait(),this.curReconnect){if(this.waitReconnect.length>1&&this.waitReconnect[0]!=this.curReconnect){if(this.curReconnect.reconnectHandler&&this.curReconnect.reconnectHandler.enabled&&this.curReconnect.reconnectHandler.isConnecting)return void Log.w(`优先级低的网络正常连接中 : ${this.curReconnect.module},正在连接中，将不会按照优先级进行重连`);for(!this.isWaiReconnect(e)&&e.reconnectHandler&&e.reconnectHandler.enabled&&this.waitReconnect.push(),this.sortWait(),Log.w(`当前网络:${this.curReconnect.module}不是优先级最高的，将为您重新切换到优先级高的网络进行重连!!!`),this.curReconnect=void 0;this.waitReconnect.length>0;)if(!this.curReconnect){if(this.curReconnect=this.waitReconnect.shift(),this.curReconnect&&this.curReconnect.reconnectHandler&&this.curReconnect.enabled){Log.w(`已为您切换优先级高的:${this.curReconnect.module}进行重连!!!`),this.curReconnect.reconnectHandler.reconnect();break}this.curReconnect=void 0}}this.curReconnect==e&&e.reconnectHandler&&e.reconnectHandler.enabled&&e.reconnectHandler.reconnect()}else for(;this.waitReconnect.length>0;)if(!this.curReconnect){if(this.curReconnect=this.waitReconnect.shift(),this.curReconnect&&this.curReconnect.reconnectHandler&&this.curReconnect.enabled){this.curReconnect.reconnectHandler.reconnect();break}this.curReconnect=void 0}}sortWait(){this.waitReconnect.length>=1&&this.waitReconnect.sort(((e,n)=>n.priority-e.priority))}getService(e){for(let n=0;n<this.services.length;n++)if(this.services[n].module==e)return this.services[n];return null}isWaiReconnect(e){return-1!=this.waitReconnect.indexOf(e)}debug(){Log.d("-----------网络管理器中相关网络信息------------"),this.services.forEach((e=>{let n=`Module : ${e.module} , 进入后台的最大允许时间 : ${e.maxEnterBackgroundTime} , 优先级 : ${e.priority}`;Log.d(n),n="重连信息 : ",e.reconnectHandler?n=`是否允许重连 : ${e.reconnectHandler.enabled}`:n+="无重连Handler",Log.d(n),n=`状态信息 , 是否允许连接网络 : ${e.enabled} 是否连接 : ${e.isConnected} 网络数据类型 : ${e.serviceType}`,Log.d(n)}))}}e("ServiceManager",t),t.module="【Service管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/SettingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./UIView.ts","./Decorators.ts","./Macros.ts"],(function(t){"use strict";var e,o,s,i,n,u,c,l,a,h,r,f,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){s=t.cclegacy,i=t.Node,n=t._decorator,u=t.find,c=t.Input,l=t.Slider,a=t.Toggle,h=t.ProgressBar},function(t){r=t.Config},function(t){f=t.default},function(t){g=t.inject},function(t){p=t.Macro}],execute:function(){var d,m,C,b;s._RF.push({},"c7b13vovM1LjpKzHWM97u42","SettingView",void 0);const{ccclass:A}=n;t("default",(d=g("content",i),A((b=e((C=class extends f{constructor(...t){super(...t),this.musicStatus=null,this.effectStatus=null,this.musicVolume=null,this.effectVolume=null,o(this,"content",b,this)}static getPrefabUrl(){return"common/prefabs/SettingView"}onLoad(){super.onLoad(),this.onN(u("close",this.content),c.EventType.TOUCH_END,this.onClickClose),this.onN(u("background/quit",this.content),c.EventType.TOUCH_END,this.onQuit);let t=u("background/musicVolume",this.content);this.onN(t,"slide",this.onMusicVolumeChange);let e=u("background/effectVolume",this.content);this.onN(e,"slide",this.onEffectVolumeChange),this.musicVolume=t.getComponent(l),this.effectVolume=e.getComponent(l),this.musicVolume.progress=App.globalAudio.musicVolume,this.effectVolume.progress=App.globalAudio.effectVolume,this.onMusicVolumeChange(this.musicVolume),this.onEffectVolumeChange(this.effectVolume);let o=u("background/musicStatus",this.content);this.musicStatus=o.getComponent(a);let s=u("background/effectStatus",this.content);this.effectStatus=s.getComponent(a),this.onN(o,"toggle",this.onMusicStatusChange),this.onN(s,"toggle",this.onEffectStatusChange),this.musicStatus.isChecked=App.globalAudio.isMusicOn,this.effectStatus.isChecked=App.globalAudio.isEffectOn,this.onMusicStatusChange(this.musicStatus,!1),this.onEffectStatusChange(this.effectStatus,!1),this.show(this.args)}get showAction(){return t=>{App.utils.showView(this.content,t)}}get closeAction(){return t=>{App.utils.hideView(this.content,t)}}onClickClose(){this.close()}onQuit(){this.close(),App.alert.show({immediatelyCallback:!0,text:App.getLanguage("quitGame"),confirmCb:t=>{t&&(App.globalAudio.playGlobalEffect(r.audioPath.button),App.entryManager.enterBundle(p.BUNDLE_RESOURCES))}})}onMusicVolumeChange(t){App.globalAudio.musicVolume=t.progress,t.node.getComponent(h).progress=t.progress}onEffectVolumeChange(t){App.globalAudio.effectVolume=t.progress,t.node.getComponent(h).progress=t.progress}onMusicStatusChange(t,e){null==e&&App.globalAudio.playGlobalEffect(r.audioPath.button),t.node.getChildByName("off").active=!t.isChecked,App.globalAudio.isMusicOn=t.isChecked}onEffectStatusChange(t,e){null==e&&App.globalAudio.playGlobalEffect(r.audioPath.button),t.node.getChildByName("off").active=!t.isChecked,App.globalAudio.isEffectOn=t.isChecked}}).prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc","./SingletonT.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.SingletonT}],execute:function(){e._RF.push({},"6524eDwP+pOxIVce9Jvkz7a","Singleton",void 0);class s extends n{constructor(...t){super(...t),this.module="【单列管理器】"}static get instance(){return this._instance||(this._instance=new s)}static get(t,e=!0,...n){return this.instance.get(t,e,...n)}static destory(t){return this.instance.destory(t)}static destoryExclude(t){return this.instance.destoryExclude(t)}static clear(t){this.instance.clear()}static debug(){this.instance.debug()}}t("Singleton",s),s._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/SingletonT.ts",["cc","./Macros.ts"],(function(e){"use strict";var t,s;return{setters:[function(e){t=e.cclegacy},function(e){s=e.Macro}],execute:function(){t._RF.push({},"cada6ZZEXlHUKK5Bplpb0ho","SingletonT",void 0);e("SingletonT",class{constructor(){this._datas=new Map,this.module=null}get(e,t=!0,...d){let o=this.getKey(e);if(o==s.UNKNOWN)return null;if(this._datas.has(o))return this._datas.get(o);if("string"!=typeof e&&t){let t=null;return t=e.instance?e.instance:new e,t.module=e.module,Log.d(`${t.module}初始化`),t.init&&t.init(...d),this._datas.set(e.module,t),t}return null}destory(e){if(e){let t=this.getKey(e);if(this._datas.has(t)){Log.d(`${t}销毁`);let e=this._datas.get(t);return e&&e.destory&&e.destory(),this._datas.delete(t),!0}return!1}return this._datas.forEach((e=>{e.isResident?Log.d(`${e.module}为常驻单列，不做销毁处理`):(Log.d(`${e.module}销毁`),e.destory&&e.destory(),this._datas.delete(e.module))})),!0}destoryExclude(e){if(!e)return this._datas.forEach((e=>{e.isResident?Log.d(`${e.module}为常驻单列，不做销毁处理`):(Log.d(`${e.module}销毁`),e.destory&&e.destory(),this._datas.delete(e.module))})),!0;this._datas.forEach(((t,s)=>{this.isInExclude(t,e)||(t.isResident?Log.d(`${t.module}为常驻单列，不做销毁处理`):(Log.d(`${t.module}销毁`),t.destory&&t.destory(),this._datas.delete(t.module)))}))}clear(e){e?this._datas.forEach(((t,s)=>{this.isInExclude(t,e)||(Log.d(`${t.module}清理`),t.clear&&t.clear())})):this._datas.forEach(((e,t)=>{Log.d(`${e.module}清理`),e.clear&&e.clear()}))}debug(){Log.d(`************************** ${this.module} 开始 **************************`),this._datas.forEach(((e,t,s)=>{e.debug?e.debug():Log.d(`${e.module} : 未实现debug接口`)})),Log.d(`************************** ${this.module} 结束 **************************`)}isInExclude(e,t){if(!t)return!1;for(let s=0;s<t.length;s++){if(this.getKey(t[s])==e.module)return!0}return!1}getKey(e){let t=s.UNKNOWN;return t="string"==typeof e?e:e.module,t}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/SliderEx.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,s,o,a,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.UITransform,o=e._decorator,a=e.Slider,h=e.Widget}],execute:function(){var i,d,l,u;n._RF.push({},"aea96X+4HJK2aiRcFtb5MxS","SliderEx",void 0);const{ccclass:g,property:c,executeInEditMode:p}=o;e("default",(i=c(s),g(d=p((u=t((l=class e extends a{constructor(...e){super(...e),r(this,"nodeProgress",u,this),this._handleDragStart=null,this._handleDragMove=null,this._handleDragEnd=null,this._transform=null}get transform(){return null==this._transform&&(this._transform=this.node.getComponent(s)),this._transform}__preload(){super.__preload();let e=this.node.getComponent(h);e&&e.updateAlignment()}_onHandleDragStart(e){super._onHandleDragStart(e),this._handleDragStart&&this._handleDragStart(this.progress)}_onTouchBegan(e){this.handle&&(super._onTouchBegan(e),this.handleTouchEvent(this._handleDragStart))}_onTouchMoved(e){this.handle&&(super._onTouchMoved(e),this.handleTouchEvent(this._handleDragMove))}_onTouchEnded(e){super._onTouchEnded(e),this.handleTouchEvent(this._handleDragEnd)}_onTouchCancelled(e){super._onTouchCancelled(e),this.handleTouchEvent(this._handleDragEnd)}_updateHandlePosition(){this.handle&&(super._updateHandlePosition(),this.updateProgressNode(this.progress))}handleTouchEvent(e){this.updateProgressNode(this.progress),e&&e(this.progress)}updateProgressNode(t){this.nodeProgress&&(this.direction==e.Direction.Horizontal?this.nodeProgress.width=this.transform.width*t:this.nodeProgress.height=this.transform.height*t)}handleDragStart(e){this._handleDragStart=e}handleDragMove(e){this._handleDragMove=e}handleDragEnd(e){this._handleDragEnd=e,this.updateProgressNode(this.progress)}}).prototype,"nodeProgress",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=l))||d)||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/Snapshot.ts",["cc"],(function(e){"use strict";var t,a,s,i,r,h,p,n,o,c,u,g,l;return{setters:[function(e){t=e.cclegacy,a=e.Component,s=e.RenderTexture,i=e.view,r=e.UITransform,h=e.ImageAsset,p=e.Texture2D,n=e.SpriteFrame,o=e.sys,c=e.Size,u=e.native,g=e.assetManager,l=e._decorator}],execute:function(){var _;t._RF.push({},"1ff00yaE7BLMZ9D4Mudhp/4","Snapshot",void 0);const{ccclass:m,property:d}=l;e("Snapshot",m("Snapshot")(_=class extends a{constructor(...e){super(...e),this._camera=null,this.onCaptureComplete=void 0,this._texture=null,this._canvas=null,this._buffer=null}start(){this._camera=App.uiManager.screenShotCamera,super.start&&super.start(),this._texture=new s,this._texture.reset({width:i.getVisibleSize().width,height:i.getVisibleSize().height}),this._camera.targetTexture=this._texture,this._camera.node.active=!0,this.scheduleOnce((()=>{this.capture()}),.2)}onDestroy(){this._camera.node.active=!1,super.onDestroy&&super.onDestroy()}capture(){let e=this.node.getComponent(r);if(!e)return;let t=e.width,a=e.height,s=e.getBoundingBoxToWorld(),i=s.x,h=s.y;this._buffer=this._texture.readPixels(Math.round(i),Math.round(h),t,a),this.saveImage()}genSpriteFrame(e,t){let a=new h;a.reset({_data:this._buffer,width:e,height:t,format:p.PixelFormat.RGBA8888,_compressed:!1});let s=new p;s.image=a;let i=new n;return i.texture=s,i.packable=!1,i.flipUVY=!0,i}createImageData(e,t,a){if(o.isBrowser||o.platform===o.Platform.WECHAT_GAME){this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=e,this._canvas.height=t);let s=this._canvas.getContext("2d"),i=4*e;for(let r=0;r<t;r++){let h=t-1-r,p=s.createImageData(e,1),n=h*e*4;for(let e=0;e<i;e++)p.data[e]=a[n+e];s.putImageData(p,0,r)}}}onCaptureFinish(e,t,a){this.onCaptureComplete&&(null==a&&(a=this.genSpriteFrame(e,t)),this.onCaptureComplete(a,new c(e,t))),this.destroy()}flipImageY(e,t,a){let s=new Uint8Array(t*a*4),i=4*t,r=a-1;for(let t=0;t<a;t++){let a=(r-t)*i,h=t*i;for(let t=0;t<i;t++)s[t+h]=e[a+t]}return s}savaAsImage(e,t,a){if(o.isBrowser)this.createImageData(e,t,a),App.canvasHelper.saveAsPNG(this._canvas,e,t),App.tips.show(App.getLanguage("capture_success")),this.onCaptureFinish(e,t);else if(o.isNative){let a=(new Date).format("yyyy_MM_dd_hh_mm_ss_SS")+".png",s=`${App.platform.screenshotsPath}/${a}`,i=this.flipImageY(this._buffer,e,t);u.saveImageData(i,e,t,s).then((()=>{this.onCaptureComplete&&g.loadRemote(s,((a,i)=>{if(a)Log.d("show image error");else{const a=new n,r=new p;r.image=i,a.texture=r,a.packable=!1,App.tips.show(App.getLanguage("capture_save_local_success1",[s])),this.onCaptureFinish(e,t,a)}})),Log.d("save image data success, file: "+s),App.tips.show(App.getLanguage("capture_save_local_success2",[s]))})).catch((()=>{Log.e("save image data failed!"),App.tips.show(App.getLanguage("capture_save_failed"))}))}else o.platform===o.Platform.WECHAT_GAME&&(this.createImageData(e,t,a),this._canvas.toTempFilePath({x:0,y:0,width:this._canvas.width,height:this._canvas.height,destWidth:this._canvas.width,destHeight:this._canvas.height,fileType:"png",success:e=>{wx.showToast({title:App.getLanguage("capture_success")}),App.tips.show(App.getLanguage("capture_success")),wx.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:e=>{wx.showToast({title:App.getLanguage("capture_save_photo_album")}),App.tips.show(App.getLanguage("capture_save_local_success2",[e.tempFilePath]))},fail:()=>{App.tips.show(App.getLanguage("capture_save_failed"))}})},fail:()=>{wx.showToast({title:App.getLanguage("capture_failed")}),App.tips.show(App.getLanguage("capture_failed"))}}),this.onCaptureFinish(e,t))}clearCanvas(){let e=this._canvas.getContext("2d");e&&e.clearRect(0,0,this._canvas.width,this._canvas.height)}saveImage(){let e=this.node.getComponent(r);e&&this.savaAsImage(e.width,e.height,this._buffer)}})||_);t._RF.pop()}}}));

System.register("chunks:///_virtual/SoundSet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts"],(function(e){"use strict";var o,t,n,i,u,s,r,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,u=e.Toggle,s=e.find},function(e){r=e.default},function(e){c=e.inject}],execute:function(){var l,d,a,g,h;n._RF.push({},"64d58FUOkBKVYU5tZIlYT9Y","SoundSet",void 0);e("default",(l=c("close",i),d=c("ToggleSound",u),g=o((a=class extends r{constructor(...e){super(...e),t(this,"back",g,this),t(this,"ToggleSound",h,this)}static getPrefabUrl(){return"common/prefabs/SoundSet"}onLoad(){super.onLoad(),this.onN(this.back,i.EventType.TOUCH_END,this.close),this.onN(this.ToggleSound.node,u.EventType.TOGGLE,this.onSound),this.ToggleSound.isChecked=App.globalAudio.isEffectOn,this.ToggleSound.isChecked?s("Background",this.ToggleSound.node).active=!1:s("Background",this.ToggleSound.node).active=!0}onSound(){var e=this.ToggleSound.isChecked;Log.d(`音效 ${e}`),App.globalAudio.isEffectOn=e,this.ToggleSound.isChecked?s("Background",this.ToggleSound.node).active=!1:s("Background",this.ToggleSound.node).active=!0}onDestroy(...e){super.onDestroy()}}).prototype,"back",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=o(a.prototype,"ToggleSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a));n._RF.pop()}}}));

System.register("chunks:///_virtual/StageData.ts",["cc","./GameData.ts","./Macros.ts","./Entry.ts"],(function(t){"use strict";var e,s,n,i;return{setters:[function(t){e=t.cclegacy},function(t){s=t.GameData},function(t){n=t.Macro},function(t){i=t.EntryData}],execute:function(){e._RF.push({},"c284cIfNW5DV5M9KCSAIfPf","StageData",void 0);class h extends s{constructor(...t){super(...t),this.defaultData=[{sort:0,type:0,name:{CN:"主包",EN:"Main"},bundle:n.BUNDLE_RESOURCES},{sort:1,type:1,name:{CN:"大厅",EN:"Hall"},bundle:n.BUNDLE_HALL},{sort:2,type:2,name:{CN:"扯旋",EN:"CheXuan"},bundle:n.BUNDLE_CheXuan}],this._bundles={},this.isShowDebugButton=!0,this._sceneStack=[],this._where=n.UNKNOWN,this._entrys=[],this._GPSLocation={latitude:0,longitude:0},this._HOT_UPDATE_URL="",this._BASE_HTTP_URL="",this._IsMatch=!1,this.tempSeatId=-1,this.tempTableId=-1,this.tempDiwang=-1,this.connBack=!1,this._FirstShow=!1}get bundles(){return this._bundles}get where(){return this._where}set where(t){Log.d(`${this.module}${this._where} ==> ${t}`);let e=this._where;this._where=t,e!=t&&this.push(t)}get entrys(){return this._entrys}init(t){super.init(),t||(t=this.defaultData),t.sort(((t,e)=>t.sort-e.sort)),this._entrys=[],this._bundles={},t.forEach((t=>{this._bundles[t.bundle]=t.type,this._bundles[t.type]=t.bundle,this._entrys.push(new i(t))}))}set GPSLocation(t){this._GPSLocation=t}get GPSLocation(){return this._GPSLocation}set HOT_UPDATE_URL(t){this._HOT_UPDATE_URL=t}get HOT_UPDATE_URL(){return this._HOT_UPDATE_URL}set BASE_HTTP_URL(t){this._BASE_HTTP_URL=t}get BASE_HTTP_URL(){return this._BASE_HTTP_URL}set IsMatch(t){this._IsMatch=t}get IsMatch(){return this._IsMatch}setTempSeat(t){this.tempSeatId=t}getTempSeat(){return this.tempSeatId}setTempRace(t){this.tempTableId=t}getTempRace(){return this.tempTableId}setTempDiwang(t){this.tempDiwang=t}getTempDiwang(){return this.tempDiwang}setConnBack(t){this.connBack=t}getConnBack(){return this.connBack}set FirstShow(t){this._FirstShow=t}get FirstShow(){return this._FirstShow}isLoginStage(t){return t?t==n.BUNDLE_RESOURCES:this.where==n.BUNDLE_RESOURCES}isHallStage(t){return t?t==n.BUNDLE_HALL:this.where==n.BUNDLE_HALL}isHClubRoomStage(t){return t?t==n.BUNDLE_HALL:this.where==n.BUNDLE_HALL}getEntry(t){console.log("请求的 bundle 名:",t),console.log("当前所有 entry:",JSON.stringify(this._entrys,null,2));for(let e=0;e<this._entrys.length;e++)if(console.log("检查 bundle:",this._entrys[e].bundle),this._entrys[e].bundle==t)return this._entrys[e].update;return console.warn("未匹配到 bundle 配置！"),null}get games(){let t=[];for(let e=0;e<this._entrys.length;e++){const s=this._entrys[e];s.bundle!=n.BUNDLE_HALL&&s.bundle!=n.BUNDLE_RESOURCES&&t.push(s)}return t}push(t){let e=0;for(let s=this._sceneStack.length-1;s>=0;s--){if(this._sceneStack[s]==t){e=this._sceneStack.length-s;break}}for(;e>0;)this._sceneStack.pop(),e--;this._sceneStack.push(t),Log.d(`${this.module}压入场景 : ${t}`),Log.d(`${this.module}当前场景堆栈 : ${this._sceneStack.toString()}`)}get prevWhere(){let t;return this._sceneStack.length>=2&&(t=this._sceneStack[this._sceneStack.length-2]),Log.d(`${this.module}获取的上一场景 : ${t}`),t}}t("StageData",h),h.module="【Stage数据】",e._RF.pop()}}}));

System.register("chunks:///_virtual/StageManager.ts",["cc","./UserData.ts","./ConfigInfo.ts","./Macros.ts","./CommonData.ts"],(function(e){"use strict";var n,t,a,o,c;return{setters:[function(e){n=e.cclegacy},function(e){t=e.UserDataEn},function(e){a=e.ConfigInfoEn},function(e){o=e.Macro},function(e){c=e.CommonData}],execute:function(){n._RF.push({},"9cf8et89KRIurZS/pJD913p","StageManager",void 0);class s{constructor(){this.module=null,this.isResident=!1}backLogin(){c.isConnected=!1,t.clear(),a.clear(),App.pomelo.disconnect(),App.uiManager.closeBundleView(o.BUNDLE_HALL),App.uiManager.closeBundleView(o.BUNDLE_CheXuan),App.stageData.isLoginStage()||App.entryManager.enterBundle(o.BUNDLE_RESOURCES)}init(...e){}destory(...e){}clear(...e){}debug(...e){}}e("default",s),s.module="【游戏流程管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("BuildTransition",(function(t,i,n){return{from:t,to:i,onTransition:n}})),i._RF.push({},"beec43oyY1GvrskHvSg8W05","StateMachine",void 0),function(t){t[t.NoFoundTransition=0]="NoFoundTransition",t[t.Transiting=1]="Transiting",t[t.ChangeStateFailure=2]="ChangeStateFailure"}(n||(n={}));const r={[n.NoFoundTransition]:"You can not {0} now. Current state is {1}",[n.Transiting]:"This is transiting now. You cannot transition more times at one time.",[n.ChangeStateFailure]:"From {0} to {1} state failure"};class o{constructor(t){this._transitions=null,this._curState=void 0,this._originTransitions=null,this._isTransiting=!1,this.onBefore=void 0,this.onAfter=void 0,this.onError=void 0;const{init:i,transitions:n}=t;this._curState=i,this.setupTransitions(n)}setupTransitions(t){this._originTransitions=t,this._transitions={},Object.keys(t).forEach((i=>{const o=i,s=t[o];let e=this;this._transitions[o]=function(){if(!e.exist(o))return void e.postError(n.NoFoundTransition,String.format(r[n.NoFoundTransition],o,e._curState));if(e._isTransiting)return void e.postError(n.Transiting,r[n.Transiting]);const t=e._curState,i=e._findDir(t,s);if(null==i)return void e.postError(n.NoFoundTransition,String.format(r[n.NoFoundTransition],o,e._curState));const{to:a,onTransition:u}=i,c="function"==typeof a?Reflect.apply(a,this,arguments):a;e._isTransiting=!0,e.onBefore&&e.onBefore(t,c);let f=!0;if(u&&(f=u(t,c)),!f)return e.postError(n.ChangeStateFailure,String.format(r[n.ChangeStateFailure],t,c)),e.onAfter&&e.onAfter(t,c),void(e._isTransiting=!1);e._curState=c,e.onAfter&&e.onAfter(t,c),e._isTransiting=!1}}))}postError(t,i){this.onError&&this.onError(t,i)}get transition(){return this._transitions}get state(){return this._curState}is(t){return this._curState==t}exist(t){const i=this._originTransitions[t];if(!i)return!1;return null!=this._findDir(this._curState,i)}_findDir(t,i){return Array.isArray(i)?this._findDirOfArray(t,i):this._isIncludeState(i.from,t)?i:null}_findDirOfArray(t,i){for(const n in i){const r=i[n];if(this._isIncludeState(r.from,t))return r}return null}_isIncludeState(t,i){return"*"===t||(i===t||!(!Array.isArray(t)||-1==t.indexOf(i)))}}t("default",o),o.Code=n,i._RF.pop()}}}));

System.register("chunks:///_virtual/TableView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayoutDefines.ts","./TableViewCell.ts"],(function(e){"use strict";var t,i,l,s,n,o,h,r,a,d,c,f,_,u,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){l=e.cclegacy,s=e.Enum,n=e._decorator,o=e.ScrollView,h=e.Vec2,r=e.UITransform,a=e.Size,d=e.instantiate,c=e.v2,f=e.Vec3,_=e.v3},function(e){u=e.LayoutParam,g=e.LayoutType},function(e){p=e.TableViewCell}],execute:function(){var O,I,C,T,y,S,b,m,v,x,w,D,A,L,R,z,U;l._RF.push({},"c1f55MBNyFBBpES2blsDr0B","TableView",void 0);const{ccclass:N,property:B,menu:P}=n;var E,V;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(E||(E={})),function(e){e[e.TOP_DOWN=0]="TOP_DOWN",e[e.BOTTOM_UP=1]="BOTTOM_UP"}(V||(V={}));class H{constructor(e,t,i,l){this._view=null,this._templete=null,this._offset=null,this.index=0,this.left=0,this.right=0,this.top=0,this.bottom=0,this.position=_(0,0,0),this._templete=e,this._view=t,this.index=l,this.init(i)}get isHorizontal(){return this._view.direction==E.HORIZONTAL}get fillOrder(){return this._view.fillOrder}get node(){return this._templete.node}get offset(){return this.isHorizontal?this._offset.x:this._offset.y}init(e){const t=this.node.getComponent(r);this.left=t.width*t.anchorX,this.right=t.width*(1-t.anchorX),this.top=t.height*(1-t.anchorY),this.bottom=t.height*t.anchorY,this.isHorizontal?this._offset=c(e,0):this._offset=c(0,e)}calculatePosition(){let e=this._align(this.node,this._view.content,this._offset);return this.position.x=e.x,this.position.y=e.y,this.position}clone(){let e=new H(this._templete,this._view,this.offset,this.index);return e.position.x=this.position.x,e.position.y=this.position.y,e}_align(e,t,i){let l=new u;return l.node=e,l.target=t,this.isHorizontal?this.fillOrder==V.TOP_DOWN?(l.alignFlags=g.MID_LETF,l.left=i.x):(l.alignFlags=g.MID_RIGHT,l.right=i.x):this.fillOrder==V.TOP_DOWN?(l.alignFlags=g.CENTER_TOP,l.top=i.y):(l.alignFlags=g.CENTER_BOT,l.bottom=i.y),App.layout.align(l),l.result.position}debug(e,t){let i=`[${this.index}] 位置 : (${this.position.x},${this.position.y}) , 偏移 : ${this.offset} , 左 : ${this.left} , 右 : ${this.right} , 上 : ${this.top} , 下 : ${this.bottom} `;e&&(i=e+i),t&&(i+=t),Log.d(i)}calculateSight(e,t,i,l){let s={isInSight:!1,offset:0},n=this.node.getComponent(r);if(t)if(e==V.TOP_DOWN){let e=this.node.scale.x,t=this.position.x;e<0&&(t-=this.right);let o=i.x+t-this.left;if(o>=0)o<l.width&&(s.isInSight=!0);else{n.width+o>0&&(s.isInSight=!0)}s.offset=o}else{let e=this.node.scale.x,t=this.position.x;e<0&&(t+=this.left);let o=i.x+t-this.left;if(o>0)o<l.width&&(s.isInSight=!0);else{n.width+o>0&&(s.isInSight=!0)}s.offset=o}else if(e==V.TOP_DOWN){let e=this.node.scale.y,t=this.position.y;e<0&&(t+=this.bottom);let o=i.y+t+this.top;o>0?o>n.height||(s.isInSight=!0):l.height+o<0||(s.isInSight=!0),s.offset=o}else{let e=this.node.scale.y,t=this.position.y;e<0&&(t-=this.top);let o=-(i.y+t+this.top);if(o>=0)l.height-o<0||(s.isInSight=!0);else{-o>n.height||(s.isInSight=!0)}s.offset=o}return s}}e("default",(O=N("TableView"),I=P("QuickUI组件/TableView"),C=B({override:!0,displayOrder:20,visible:function(){return this.direction==E.HORIZONTAL}}),T=B({override:!0,displayOrder:21,visible:function(){return this.direction==E.VERTICAL}}),y=B({tooltip:"滚动方向 \nHORIZONTAL 水平方向 \nVERTICAL 垂直方向",displayName:"Direction",type:s(E),visible:!0,displayOrder:22}),S=B({visible:!1,override:!0}),b=B({visible:!1,override:!0}),m=B({tooltip:"Cell项模板",displayName:"Template",type:p,visible:!0,displayOrder:23}),v=B({displayOrder:24,tooltip:"填充方式 \nTOP_DOWN 水平方向时，从左到右填充，垂直方向时，从上到下填充 \nBOTTOM_UP 水平方向时，从右到左填充，垂直方向时，从下到上填充",type:s(V)}),O(x=I(((U=class extends o{constructor(...e){super(...e),i(this,"_direction",D,this),i(this,"horizontal",A,this),i(this,"vertical",L,this),i(this,"_template",R,this),this._templateSize=new Map,i(this,"fillOrder",z,this),this._delegate=null,this._cellsUsed=[],this._cellsFreed=[],this._cellsInfos=[],this._indices=new Set,this._isUsedCellsDirty=!1,this._oldDirection=null,this._isDoing=!1,this._isShowAllCell=!1}get horizontalScrollBar(){return this._horizontalScrollBar}set horizontalScrollBar(e){this._horizontalScrollBar!==e&&(this._horizontalScrollBar=e,this._horizontalScrollBar&&(this._horizontalScrollBar.setScrollView(this),this._updateScrollBar(h.ZERO)))}get verticalScrollBar(){return this._verticalScrollBar}set verticalScrollBar(e){this._verticalScrollBar!==e&&(this._verticalScrollBar=e,this._verticalScrollBar&&(this._verticalScrollBar.setScrollView(this),this._updateScrollBar(h.ZERO)))}get direction(){return this._direction}set direction(e){this._direction!=e&&(this._direction=e)}get template(){return this._template}set template(e){this._template=e}get delegate(){return this._delegate||Log.e(`【${this.name}】致命错误 : 未设置TableView代理`),this._delegate}set delegate(e){this._delegate!==e&&(this._delegate=e)}get viewSize(){var e;let t=null==(e=this.view)?void 0:e.getComponent(r);return t?t.contentSize:a.ZERO}get viewAnchor(){var e;let t=null==(e=this.view)?void 0:e.anchorPoint;return t||h.ZERO}get contentSize(){var e;let t=null==(e=this.content)?void 0:e.getComponent(r);return t?t.contentSize:a.ZERO}get contentAnchor(){var e;let t=null==(e=this.content)?void 0:e.getComponent(r);return t?t.anchorPoint:h.ZERO}scrollToIndex(e,t=0,i=!0){if(!this.content)return;if(!(e>=0&&e<this.delegate.numberOfCellsInTableView(this)))return void Log.e(`错误的index : ${e}`);let l=this.getScrollOffset(),s=this._cellsInfos[e];if(this.fillOrder==V.TOP_DOWN)this.direction==E.HORIZONTAL?l.x=s.offset:l.y=s.offset;else{let t=this._cellsInfos[e+1];this.direction==E.HORIZONTAL?l.x=this.contentSize.width-t.offset:l.y=this.contentSize.height-t.offset}this.scrollToOffset(l,t,i)}updateCellAtIndex(e){let t=this.delegate.numberOfCellsInTableView(this);if(!(t>0&&e<t&&e>=0))return;let i=this.cellAtIndex(e);i&&this._moveCellOutOfSight(i);let l=this.delegate.tableCellTypeAtIndex(this,e);if(i=this._dequeueCell(l),!i){let e=this._getTemplete(l);if(!e)return;i=d(e.node).getComponent(p)}i&&(this._setIndexForCell(e,i),this._addCellIfNecessary(i),i.init(),this._updateCellData(i))}insertCellAtIndex(e){let t=this.delegate.numberOfCellsInTableView(this);if(0==t)return;if(null!=e&&null!=e||(e=t-1),e>t-1)return;this._isDoing=!0;let i=this.getScrollOffset();this._updateCellOffsets(),this._updateContentSize();let l=this.cellAtIndex(e);if(l){Log.d(`插入的Cell[${e}]在显示区域内`);let t=this._getCellIndex(l);this._moveCellIndex(t)}else Log.d(`插入的Cell${e}不在显示区域内,更新显示区域内的索引`),this._moveCellIndex(e);let s=this.delegate.tableCellTypeAtIndex(this,e),n=this._dequeueCell(s);if(!n){let e=this._getTemplete(s);if(!e)return;n=d(e.node).getComponent(p)}n&&(this._setIndexForCell(e,n),this._addCellIfNecessary(n),n.init(),this._updateCellData(n),this._isDoing=!1,this._calculateSightArea(),this.scrollToOffset(i))}removeCellAtIndex(e,t){let i=this.delegate.numberOfCellsInTableView(this);if(!(i>0&&e>=0&&e<i))return;let l=this.getScrollOffset();t(e),this._isDoing=!0,this._updateCellOffsets(),this._updateContentSize(),this._moveCellIndex(e,!0),this._isDoing=!1,this._calculateSightArea(),this.scrollToOffset(l)}reloadData(e=!0){this._oldDirection=e?null:this.direction;for(let e=0;e<this._cellsUsed.length;e++){let i=this._cellsUsed[e];var t;if(this.delegate.tableCellWillRecycle&&this.delegate.tableCellWillRecycle(this,i),this._cellsFreed.push(i),i.reset(),i.node.parent==this.content)null==(t=this.content)||t.removeChild(i.node)}this._indices.clear(),this._cellsUsed=[],this._isDoing=!0,this._updateCellOffsets(),this._updateContentSize(),this._isDoing=!1,this._calculateSightArea(),this._oldDirection!=this.direction&&(this.delegate.numberOfCellsInTableView(this)>0&&(this.direction==E.HORIZONTAL?this.scrollToLeft():this.scrollToTop()),this._oldDirection=this.direction)}cellAtIndex(e){if(this._indices.has(e))for(let t=0;t<this._cellsUsed.length;t++)if(this._cellsUsed[t].index==e)return this._cellsUsed[t];return null}_updateCellIndices(e){let t=[];if(this._indices.forEach(((e,i,l)=>{t.push(e)})),!(t.length<=0)){this._indices.clear();for(let i=0;i<t.length;i++){let l=e.find((e=>e.from==t[i]));l&&(t[i]=l.to),this._indices.add(t[i])}}}_moveCellIndex(e,t=!1){let i=[],l=t?-1:1;if(t){let t=this._cellsUsed.findIndex(((t,i,l)=>t.index==e));-1!=t&&this._moveCellOutOfSight(this._cellsUsed[t])}for(let s=0;s<this._cellsUsed.length;s++){let n=this._cellsUsed[s];if(n.index>=e){if(t&&n.index==e)continue;let s=n.index,o=n.index+l;this._setIndexForCell(o,n),this._updateCellData(n),i.push({from:s,to:o})}else this._updateCellPosition(n)}this._updateCellIndices(i)}_sortCell(){this._cellsUsed=this._cellsUsed.sort(((e,t)=>e.index-t.index))}_debugCellInfos(e){Log.d(`--------------------- ${e} ---------------------`),this._cellsInfos.forEach((e=>{e.debug()}))}_debugCell(e){Log.d(`--------------------- ${e} ---------------------`),Log.d("当前显示节点 :",this._indices),this._cellsUsed.forEach(((e,t,i)=>{Log.d(`[${t}] , type : ${e.type} ,index : ${e.index} , ${e.string} , position : (${e.node.position.x},${e.node.position.y})`)}))}_getCellIndex(e){for(let t=0;t<this._cellsUsed.length;t++)if(this._cellsUsed[t]===e)return this._cellsUsed[t].index;return-1}_debugData(){this.delegate&&this.delegate.tableDebug&&this.delegate.tableDebug(this)}_updateCellData(e){this.delegate.updateCellData(this,e)}_updateCellPosition(e){let t=this._cellsInfos[e.index];e.node.setPosition(t.position)}_addCellIfNecessary(e){var t;e.node.parent!=this.content?null==(t=this.content)||t.addChild(e.node):Log.e("添加的Cell 已经有父节点");this._cellsUsed.push(e),this._indices.add(e.index),this._isUsedCellsDirty=!0}_setIndexForCell(e,t){t.view=this,t.index=e,t.node.active=!0;let i=this._cellsInfos[e];t.node.setPosition(i.position)}_dequeueCell(e){if(this._cellsFreed.length<=0)return null;for(let t=0;t<this._cellsFreed.length;t++){let i=this._cellsFreed[t];if(i.type==e)return this._cellsFreed.splice(t,1),i}return null}_updateCellOffsets(){let e=this.delegate.numberOfCellsInTableView(this);if(this._cellsInfos=[],e>0){let t,i=0,l={width:0,height:0},s=0,n=null;for(s=0;s<e;s++){t=this.delegate.tableCellTypeAtIndex(this,s),n=this._getTemplete(t);let e=new H(n,this,i,s);this._cellsInfos.push(e);let o=n.node.getComponent(r);l.width=o.width,l.height=o.height,this.direction==E.HORIZONTAL?i+=l.width:i+=l.height}let o=new H(n,this,i,s);this._cellsInfos.push(o)}}_updateCellPositions(){this._cellsInfos.forEach((e=>{e.calculatePosition()}))}_updateContentSize(){let e=new a(0,0),t=this.delegate.numberOfCellsInTableView(this);if(t>0){let i=this._cellsInfos[t].offset;e=this.direction==E.HORIZONTAL?new a(i,this.viewSize.height):new a(this.viewSize.width,i)}if(this.content){this.content.getComponent(r).setContentSize(e)}this._updateCellPositions()}_calculateSightArea(){if(!this.content)return;if(this._isDoing)return;let e=this.content.position,t=new h(e.x,e.y),i=this.contentSize,l=this.contentAnchor,s=this.viewSize,n=this.viewAnchor,o=-l.y*i.height,r=-n.y*s.height,a=n.x*s.width;o=t.y+o;let d=null;d=this.direction==E.HORIZONTAL?c(a,t.y).add(t):c(t.x,r).add(t),this._isUsedCellsDirty&&this._sortCell();let f=Math.max(this.delegate.numberOfCellsInTableView(this)-1,0),_=this._calculateInInSight(d);if(_){if(this._cellsUsed.length>0){let e=this._cellsUsed[0],t=e.index;for(;t<_.start&&(this._moveCellOutOfSight(e),this._cellsUsed.length>0);)e=this._cellsUsed[0],t=e.index}if(this._cellsUsed.length>0){let e=this._cellsUsed[this._cellsUsed.length-1],t=e.index;for(;t<=f&&t>_.end&&(this._moveCellOutOfSight(e),this._cellsUsed.length>0);)e=this._cellsUsed[this._cellsUsed.length-1],t=e.index}for(let e=_.start;e<=_.end;e++)this._indices.has(e)||this.updateCellAtIndex(e)}}_getTemplete(e){for(let t=0;t<this.template.length;t++){if(this.template[t].type==e)return this.template[t]}return null}_moveCellOutOfSight(e){this.delegate&&this.delegate.tableCellWillRecycle&&this.delegate.tableCellWillRecycle(this,e),this._cellsFreed.push(e);let t=this._cellsUsed.indexOf(e);var i;(-1!=t&&this._cellsUsed.splice(t,1),this._indices.delete(e.index),e.reset(),e.node.parent==this.content)&&(null==(i=this.content)||i.removeChild(e.node));this._isUsedCellsDirty=!0}_calculateInInSight(e){let t=null;if(this._cellsInfos.length<=0)return t;let i=this.delegate.numberOfCellsInTableView(this);if(i<=0)return t;if(t={start:0,end:0,count:i},this._isShowAllCell)return t.start=0,t.end=i-1,t;if(1==i)return t;let l=0,s=i,n=this.viewSize,o=-1,h=0;for(;s>=l;){if(h=Math.floor(l+(s-l)/2),h<0||h>=this._cellsInfos.length)return null;let t=this._cellsInfos[h].calculateSight(this.fillOrder,this.direction==E.HORIZONTAL,e,n);if(t.isInSight){o=h;break}if(h+1<0||h+1>=this._cellsInfos.length)return null;let i=this._cellsInfos[h+1].calculateSight(this.fillOrder,this.direction==E.HORIZONTAL,e,n);if(i.isInSight){o=h;break}Math.abs(t.offset)<Math.abs(i.offset)?s=h-1:l=h+1}if(o<0)return null;t.start=o,t.end=o;for(let i=o-1;i>=0;i--){if(!this._cellsInfos[i].calculateSight(this.fillOrder,this.direction==E.HORIZONTAL,e,n).isInSight)break;t.start=i}for(let l=o+1;l<i;l++){if(!this._cellsInfos[l].calculateSight(this.fillOrder,this.direction==E.HORIZONTAL,e,n).isInSight)break;t.end=l}return t}scrollToTopLeft(e,t){Log.w("不支持该方法")}scrollToTopRight(e,t){Log.w("不支持该方法")}scrollToBottomLeft(e,t){Log.w("不支持该方法")}scrollToBottomRight(e,t){Log.w("不支持该方法")}_onMouseWheel(e,t){if(!this.enabledInHierarchy)return;if(this._hasNestedViewGroup(e,t))return;const i=new f,l=e.getScrollY();this.direction==E.VERTICAL?i.set(0,-.1*l,0):i.set(-.1*l,0,0),this._mouseWheelEventElapsedTime=0,this._processDeltaMove(i),this._stopMouseWheel||(this._handlePressLogic(),this.schedule(this._checkMouseWheel,1/60,NaN,0),this._stopMouseWheel=!0),this._stopPropagationIfTargetIsMe(e)}_flattenVectorByDirection(e){const t=e;return t.x=this.direction==E.HORIZONTAL?t.x:0,t.y=this.direction==E.VERTICAL?t.y:0,t}_setContentPosition(e){var t;if(!this._content)return;const i=null==(t=this.content)?void 0:t.getPosition();Math.abs(e.x-i.x)<this.getScrollEndedEventTiming()&&Math.abs(e.y-i.y)<this.getScrollEndedEventTiming()||(this._content.setPosition(e),this._calculateSightArea(),this._outOfBoundaryAmountDirty=!0)}}).Direction=E,U.FillOrder=V,t((w=U).prototype,"horizontalScrollBar",[C],Object.getOwnPropertyDescriptor(w.prototype,"horizontalScrollBar"),w.prototype),t(w.prototype,"verticalScrollBar",[T],Object.getOwnPropertyDescriptor(w.prototype,"verticalScrollBar"),w.prototype),D=t(w.prototype,"_direction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.HORIZONTAL}}),A=t(w.prototype,"horizontal",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=t(w.prototype,"vertical",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=t(w.prototype,"_template",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(w.prototype,"fillOrder",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.TOP_DOWN}}),x=w))||x)||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/TableViewCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(e){"use strict";var t,i,l,n,r;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){l=e.cclegacy,n=e._decorator},function(e){r=e.default}],execute:function(){var s,c,o,a,u,p;l._RF.push({},"911aez3VC9D84ngrsmXq6sf","TableViewCell",void 0);const{ccclass:y,property:f,menu:d}=n;e("TableViewCell",(s=d("QuickUI组件/TableViewCell"),c=f({displayName:"Type",tooltip:"列表项类型"}),y(o=s(((p=class extends r{constructor(...e){super(...e),this.view=null,this.index=-1,i(this,"type",u,this)}reset(){this.index=-1}init(){}willRecycle(){}}).INVALID_INDEX=-1,u=t((a=p).prototype,"type",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=a))||o)||o));l._RF.pop()}}}));

System.register("chunks:///_virtual/Tips.ts",["cc","./ITips.ts","./Config.ts"],(function(t){"use strict";var s,i,e,o,n,h,a,r,u,p,l,c,_;return{setters:[function(t){s=t.Vec3,i=t.instantiate,e=t.UITransform,o=t.log,n=t.cclegacy,h=t.Component,a=t.Tween,r=t.find,u=t.Label,p=t.UIOpacity,l=t.tween},function(t){c=t.ITips},function(t){_=t.ViewZOrder}],execute:function(){n._RF.push({},"cbe3apTgWJJCIVevDJz8JOj","Tips",void 0);class g extends h{constructor(...t){super(...t),this._content=null,this._curPositon=new s,this._curOpacity=null,this._transform=null}stopAllActions(){a.stopAllByTarget(this._content),a.stopAllByTarget(this._curPositon),this.opacity&&a.stopAllByTarget(this.opacity)}onDestroy(){this.stopAllActions()}init(t,s){this._content=r("content",this.node),this._content&&(this._content.getComponent(u).string=t),this.runTimeOut(s)}get opacity(){return this._curOpacity||(this._curOpacity=this.node.getComponent(p)),this._curOpacity}get transform(){return this._transform||(this._transform=this.node.getComponent(e)),this._transform}runTimeOut(t){let s=this;l(this._content).delay(t).call((()=>{App.tips.finishShowItem(s.node)})).start()}fadeOut(){this.opacity&&(a.stopAllByTarget(this.opacity),l(this.opacity).to(.5,{opacity:0}).call((()=>{var t;this.stopAllActions(),null==(t=this.node)||t.removeFromParent()})).start(),this.moveTo(0,this.node.position.y+this.transform.height))}fadeIn(){this.opacity&&(a.stopAllByTarget(this.opacity),this.opacity.opacity=0,l(this.opacity).to(.5,{opacity:255}).start(),this.moveTo(0,this.node.position.y+this.transform.height))}moveTo(t,s){a.stopAllByTarget(this._curPositon),this._curPositon.set(this.node.position),l(this._curPositon).to(.5,{x:t,y:s},{onUpdate:t=>{var s;null==(s=this.node)||s.setPosition(t)},easing:"expoOut"}).start()}}class m extends c{constructor(...t){super(...t),this._queue=[],this.MAX_NUM=3,this.FADE_TIME=2,this._id=0,this.startPosition=new s(0,100)}async _show(t){let s=i(App.uiManager.getScenePrefab("Tips"));if(s){let i=s.addComponent(g);i.init(t,this.FADE_TIME),s.setPosition(this.startPosition),i.fadeIn(),s.userData=this._id++,s.name=`Tips${s.userData}`,App.uiManager.addView(s,_.Tips);let n=this._queue.length;for(let t=0;t<n&&t<this.MAX_NUM;t++){let s=this._queue[t],i=s.getComponent(g),o=s.getComponent(e);i&&o&&i.moveTo(0,this.startPosition.y+o.height+(n-t)*(o.height+3))}if(this._queue.push(s),this._queue.length>this.MAX_NUM){var o;null==(o=this._queue.shift().getComponent(g))||o.fadeOut()}}}show(t){null!=t&&null!=t&&""!=t&&(o("Toast.show msg=%s",t),this._show(t))}finishShowItem(t){for(let i=0;i<this._queue.length;i++){if(this._queue[i].userData==t.userData){var s;this._queue.splice(i,1),null==(s=t.getComponent(g))||s.fadeOut();break}}}clear(){let t=null;for(;t=this._queue.pop();){let s=t.getComponent(g);s&&s.stopAllActions(),t.removeFromParent()}}}t("default",m),m.module="【Tips】",n._RF.pop()}}}));

System.register("chunks:///_virtual/UIDropdownList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,n,s,r,l,a,h,u,p,c,d,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Vec3,s=t.Node,r=t._decorator,l=t.Component,a=t.isValid,h=t.instantiate,u=t.ScrollView,p=t.ToggleContainer,c=t.EventHandler,d=t.tween,m=t.UITransform,g=t.easing}],execute:function(){var v,w,f,C,b,y,D,T,E,k,F,L,P;o._RF.push({},"047edVJ4FZJU5hLRe7pVINu","UIDropdownList",void 0);const{ccclass:I,property:_,menu:H}=r;var U;!function(t){t[t.SELECT_CHANGED=0]="SELECT_CHANGED"}(U||(U={}));let S=new n,N=new n;t("UIDropdownList",(v=I("UIDropdownList"),w=H("QuickUI组件/UIDropdownList"),f=_({tooltip:"",type:s}),C=_({tooltip:"",type:s}),b=_({tooltip:"",type:s}),y=_({tooltip:"",type:s}),v(D=w(((P=class extends l{constructor(...t){super(...t),i(this,"view",E,this),i(this,"block",k,this),i(this,"title",F,this),i(this,"itemTemplate",L,this),this.items=[],this._isFold=!0,this.toggleContainer=null,this.updateHandler=null}reload(t){var e;a(this.view)&&(a(this.itemTemplate),this.toggleContainer&&(this.reset(),t.forEach(((t,e)=>{var i;let o=h(this.itemTemplate);o.userData=t,this.items.push(o),null==(i=this.view.getComponent(u).content)||i.addChild(o),this.updateHandler&&this.updateHandler(!1,o,e)})),this.title.userData=null==(e=this.selected)?void 0:e.node.userData,this.updateHandler(!0,this.title,0)))}get selected(){if(this.toggleContainer)for(let t=0;t<this.toggleContainer.toggleItems.length;t++)if(this.toggleContainer.toggleItems[t].isChecked)return this.toggleContainer.toggleItems[t];return null}getList(){return this.items}onLoad(){if(super.onLoad&&super.onLoad(),a(this.block)&&this.block.on(s.EventType.TOUCH_END,this.fold,this),a(this.title)&&this.title.on(s.EventType.TOUCH_END,this.onTouchEnd,this),a(this.view)){var t;let e=this.view.getComponent(u);if(!e)return;if(this.toggleContainer=e.content.getComponent(p),!this.toggleContainer)return;let i=new c;i.component="UIDropdownList",i.handler="onSelected",i.target=this.node,null==(t=this.toggleContainer)||t.checkEvents.push(i)}this.reset()}onDestroy(){a(this.block)&&this.block.destroy(),a(this.itemTemplate)&&this.itemTemplate.destroy(),a(this.view)&&this.view.destroy(),super.onDestroy&&super.onDestroy()}onDisable(){this.fold(),super.onDisable&&super.onDisable()}fold(){this._isFold=!0;let t=this.block;a(t)&&t.removeFromParent(),a(this.view)&&this.view.parent&&d(this.view).delay(.05).to(.1,{scale:new n(1,0,1)}).call((()=>{this.view.removeFromParent()})).start()}unfold(){this._isFold=!0;let t=App.layerMgr.root,e=this.block;if(a(e)&&(e.removeFromParent(),e.setPosition(0,0),e.active=!0,null==t||t.addChild(e)),a(this.view)){var i;let e=this.view;e.removeFromParent();let o=this.title.getComponent(m);this.title.getWorldPosition(S),null==t||t.addChild(e),App.layerMgr.root.getComponent(m).convertToNodeSpaceAR(S,N),N.x+=(.5-o.anchorX)*o.width,N.y+=(0-o.anchorY)*o.height,this.view.getComponent(m).setAnchorPoint(.5,1),this.view.setPosition(N),e.active=!0,null==(i=e.getComponent(u))||i.scrollToTop(),d(this.view).to(.1,{scale:new n(1,1,1)},{easing:g.circOut}).call((()=>{})).start()}}onTouchEnd(){this._isFold?this.unfold():this.fold()}onSelected(t){this.fold(),this.title.userData=t.node.userData,this.updateHandler(!0,this.title,0)}reset(){a(this.block)&&this.block.removeFromParent(),a(this.itemTemplate)&&this.itemTemplate.removeFromParent(),a(this.view)&&(this.view.setScale(1,0,1),this.view.removeFromParent())}}).Event=U,E=e((T=P).prototype,"view",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(T.prototype,"block",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(T.prototype,"title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(T.prototype,"itemTemplate",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=T))||D)||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/UILabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,s,a,o,n;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t.Enum,a=t.CCString,o=t._decorator,n=t.Label}],execute:function(){var u,l,p,y,c,g,h,b,d,_,m;r._RF.push({},"b340dLlFTJHb7Z4XQaDDRVw","UILabel",void 0);const{ccclass:D,property:f,menu:L}=o,w=s(App.Bundles);t("default",(u=L("Quick渲染组件/UILabel"),l=f({displayName:"语言包所在Bundle",type:w,tooltip:"语言包所在bundle"}),p=f({displayName:"语言包Key",tooltip:"所在Bundle中语言包的key,如果语言包在Bundle内，请先用injectLanguageData装饰语言包数据代理类"}),y=f({displayName:"语言包附加参数",tooltip:"附加参数，如果语言包中有 xx{0}{1},有两个占位的参数需要替换",type:a}),c=f({displayName:"是否启用多语言",tooltip:"是否启用多语言,默认为启用"}),D(g=u((b=e((h=class extends n{constructor(...t){super(...t),i(this,"_lan",b,this),i(this,"_bundle",d,this),i(this,"_params",_,this),this._isDirty=!0,i(this,"_mult",m,this)}get bundle(){return this._bundle}set bundle(t){this._bundle!=t&&(this._bundle=t,this._isDirty=!0)}get language(){return this._lan}set language(t){this.language!=t&&(this._lan=t,this._isDirty=!0)}get params(){return this._params}set params(t){this._params=t,this._isDirty=!0}get isUseMultilingual(){return this._mult}set isUseMultilingual(t){t!=this._mult&&(this._mult=t,this._isDirty=!0)}onLoad(){super.onLoad(),App.language.add(this),this.update(0)}onDestroy(){App.language.remove(this),super.onDestroy()}update(t){super.update&&super.update(t),this._isDirty&&(this.forceDoLayout(),this._isDirty=!1)}forceDoLayout(){if(this.isUseMultilingual){let t=this.bundle,e=w[t],i=App.getLanguage(this.language,this.params,e);this.string=i}super.forceDoLayout()}}).prototype,"_lan",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=e(h.prototype,"_bundle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.resources}}),_=e(h.prototype,"_params",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=e(h.prototype,"_mult",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(h.prototype,"bundle",[l],Object.getOwnPropertyDescriptor(h.prototype,"bundle"),h.prototype),e(h.prototype,"language",[p],Object.getOwnPropertyDescriptor(h.prototype,"language"),h.prototype),e(h.prototype,"params",[y],Object.getOwnPropertyDescriptor(h.prototype,"params"),h.prototype),e(h.prototype,"isUseMultilingual",[c],Object.getOwnPropertyDescriptor(h.prototype,"isUseMultilingual"),h.prototype),g=h))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/UILoading.ts",["cc","./Config.ts","./IUILoading.ts"],(function(e){"use strict";var t,n,i,r,o,u;return{setters:[function(e){t=e.find,n=e.Label,i=e.cclegacy},function(e){r=e.Config,o=e.ViewZOrder},function(e){u=e.IUILoading}],execute:function(){i._RF.push({},"12c4eqKidlCLJ2tu1NcSFWA","UILoading",void 0);class d extends u{get prefab(){return App.uiManager.getScenePrefab("UILoading")}get delayTime(){return r.LOAD_VIEW_DELAY}get timeout(){return r.LOAD_VIEW_TIME_OUT}get zOrder(){return o.UILoading}findContent(){return t("content",this.node)}findText(){var e;return null==(e=t("text",this.content))?void 0:e.getComponent(n)}}e("default",d),d.module="【UILoading】",i._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["cc","./Enums.ts","./Macros.ts","./AdapterView.ts","./Resource.ts","./ViewAsset.ts"],(function(e){"use strict";var t,a,n,i,s,r,l,o,d,u,h,p,c;return{setters:[function(e){t=e.cclegacy,a=e.isValid,n=e.js,i=e.Prefab,s=e.Widget,r=e.instantiate,l=e.find,o=e.Camera},function(e){d=e.ViewStatus},function(e){u=e.Macro},function(e){h=e.default},function(e){p=e.Resource},function(e){c=e.ViewAsset}],execute:function(){t._RF.push({},"63b76CYxi5BSLOyiSlM2dNn","UIManager",void 0);class g{constructor(){this.isResident=!0,this.module=null,this._viewDatas=new Map,this.garbage=new c.Dynamic(u.DYNAMIC_LOAD_GARBAGE),this.retainMemory=new c.Dynamic(u.DYNAMIC_LOAD_RETAIN_MEMORY),this._canvas=null,this._mainController=null,this._prefabs=null,this._root3D=null}getViewData(e){let t=this.getClassName(e);if(t)return this._viewDatas.has(t)?this._viewDatas.get(t):void 0}getViewType(e){if(!a(e))return null;let t=e.className;if(!t)return null;let n=this._viewDatas.get(t);return n?n.viewType:null}getClassName(e){if(!e)return;let t;return t="string"==typeof e?e:n.getClassName(e),t}defaultOpenOption(e){let t={bundle:u.BUNDLE_RESOURCES,delay:e.delay,name:e.name,zIndex:0,preload:!1,type:e.type,args:e.args,isCache:App.isCacheUI};return null!=e.bundle&&(t.bundle=e.bundle),null!=e.zIndex&&(t.zIndex=e.zIndex),null!=e.preload&&(t.preload=e.preload),null!=e.isCache&&(t.isCache=e.isCache),t}preload(e,t,a){return this.open({type:e,preload:!0,bundle:t,isCache:a})}parsePrefabUrl(e){return"@"==e[0]?{isPrefab:!1,url:e.substr(1)}:{isPrefab:!0,url:e}}open(e){let t=this.defaultOpenOption(e);return this._open(t)}_open(e){return new Promise(((t,s)=>{if(!e.type)return void t(null);let r=n.getClassName(e.type);if(!App.layerMgr.root)return void t(null);let l=this.getViewData(e.type);if(l)return l.isPreload=e.preload,l.isLoaded?(l.status=d.WAITTING_NONE,e.preload||l.view&&a(l.node)&&(l.node.parent||this.addView(l.node,e.zIndex),l.view.show(e.args)),void t(l.view)):(l.status=d.WAITTING_NONE,e.preload||App.uiLoading.show(e.delay,e.name),void l.finishCb.push(t));{l=new c.Data,l.loadData.name=r;let a=e.type.getPrefabUrl(),n=this.parsePrefabUrl(a);if(l.isPreload=e.preload,l.isPrefab=n.isPrefab,l.viewType=e.type,l.bundle=e.bundle,l.isCache=e.isCache,this._viewDatas.set(r,l),!n.isPrefab)return l.cache=new p.Cache(n.url,i,e.bundle),l.cache.data=this.getScenePrefab(n.url),void this.createNode(l,t,e);let s=null;e.preload||(App.uiLoading.show(e.delay,e.name),s=(e,t,a)=>{let n=Math.ceil(e/t*100);App.uiLoading.updateProgress(n)}),this.loadPrefab(e.bundle,a,s).then((a=>{l.cache=a,App.asset.retainAsset(a),this.createNode(l,t,e),App.uiLoading.hide()})).catch((a=>{l.isLoaded=!0,Log.e(a),this._close(l),l.doCallback(null,r,"打开界面异常"),t(null);let n="";e.name&&(n=e.name),App.tips.show(`加载界面${n}失败，请重试`),App.uiLoading.hide()}))}}))}_addComponent(e,t,a){if(e){let n=t.name,i=e.getComponent(t.viewType);if(!i&&(i=e.addComponent(t.viewType),!i))return null;i.className=n,i.bundle=a.bundle,t.view=i,i.args=a.args;let r=i.getComponent(s);return r&&r.destroy(),i.getComponent(h)||i.addComponent(h),t.isPreload||this.addView(e,a.zIndex),i}return null}createNode(e,t,a){e.isLoaded=!0;let n=e.name;if(e.status==d.WAITTING_CLOSE)return t(null),void e.doCallback(null,n,"获取界内已经关闭");let i=r(e.cache.data);e.node=i;let s=this._addComponent(i,e,a);s?e.status==d.WATITING_HIDE?(s.hide(),t(s),e.doCallback(s,n,"加载完成，但加载过程中被隐藏")):(e.isPreload||s.show(a.args),t(s),e.doCallback(s,n,"加载完成，回调之前加载中的界面")):t(null)}loadPrefab(e,t,a){return new Promise(((n,s)=>{App.asset.load(e,t,i,a,(e=>{e&&e.data&&e.data instanceof i?n(e):s(`加载prefab : ${t} 失败`)}))}))}get mainController(){if(!this._mainController&&!a(this._mainController))return this._mainController;let e=this.canvas;return e?(this._mainController=e.getComponent("MainController"),this._mainController):null}get prefabs(){return this._prefabs||a(this._prefabs)||(this._prefabs=l("prefabs",this.canvas)),this._prefabs}get root3D(){return l("3d",this.canvas.parent)}get camera3d(){var e;return null==(e=l("Camera3D",this.canvas.parent))?void 0:e.getComponent(o)}get screenShotCamera(){var e;return null==(e=l("ScreenShotCamera",this.canvas))?void 0:e.getComponent(o)}get uiCamera(){var e;return null==(e=l("UICamera",this.canvas))?void 0:e.getComponent(o)}getScenePrefab(e){return l(e,this.prefabs)}onLoad(e){this._canvas=e}onDestroy(e){this._viewDatas.clear()}get canvas(){return this._canvas}addView(e,t){App.layerMgr.add(e,t)}addLocal(e,t){let a=this.getViewData(t);a&&a.loadData.addLocal(e,t)}addRemote(e,t){let a=this.getViewData(t);a&&a.loadData.addRemote(e,t)}close(e){let t=this.getViewData(e);t&&this._close(t)}_close(e){let t=e.name;e.node.destroy(),this._viewDatas.delete(t),Log.d(`${this.module} close view : ${t}`)}closeExcept(e){let t=this;if(null==e||null==e||0==e.length)return void this._viewDatas.forEach(((e,a)=>{t.close(a)}));let a=new Set;for(let t=0;t<e.length;t++)a.add(this.getClassName(e[t]));this._viewDatas.forEach(((e,n)=>{a.has(n)||t.close(n)}))}closeBundleView(e){let t=this;this._viewDatas.forEach(((a,n)=>{a.bundle==e&&t.close(n)}))}hide(e){let t=this.getViewData(e);t&&(t.isLoaded?t.view&&a(t.view.node)&&t.view.hide():t.status=d.WATITING_HIDE)}getView(e){return new Promise(((t,a)=>{if(null==e||null==e)return void t(null);let n=this.getViewData(e);n?n.isPreload?t(null):n.isLoaded?t(n.view):n.getViewCb.push(t):t(null)}))}checkView(e,t){}isShow(e){let t=this.getViewData(e);return!!t&&(!(!t.isLoaded||t.status!=d.WAITTING_NONE||!t.view)&&t.view.node.active)}addComponent(e){return App.layerMgr.addComponent(e)}removeComponent(e){App.layerMgr.removeComponent(e)}debug(){Log.d("-----------当前所有视图------------"),this._viewDatas.forEach(((e,t)=>{Log.d(`[${t}] isLoaded : ${e.isLoaded} status : ${e.status} view : ${n.getClassName(e.view)} active : ${!(!e.view||!e.view.node)&&e.view.node.active}`)}))}}e("UIManager",g),g.module="【UI管理器】",t._RF.pop()}}}));

System.register("chunks:///_virtual/UIQRCode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,s,i,n,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){o=t.cclegacy,s=t._decorator,i=t.Component,n=t.Graphics,l=t.UITransform,h=t.Color}],execute:function(){var a,u,g,c,p,f,m,d,C,y,L,b,w,B;o._RF.push({},"cc402xbQoJJwK8INJVjmBtx","UIQRCode",void 0);const _=1,k=2,P=4,D=8;class A{constructor(){this.buffer=[],this.length=0}get(t){let e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)}put(t,e){for(let r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))}getLengthInBits(){return this.length}putBit(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}class E{constructor(t){this.mode=P,this.bytes=[],this.bytes=T.toUTF8Array(t)}getLength(){return this.bytes.length}write(t){for(let e=0;e<this.bytes.length;e++)t.put(this.bytes[e],8)}}class T{constructor(t,e){this.typeNumber=0,this.errorCorrectLevel=0,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=e}addData(t){let e=new E(t);this.dataList.push(e),this.dataCache=null}isDark(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let t=1;for(t=1;t<40;t++){let e=Q.getRSBlocks(t,this.errorCorrectLevel),r=new A,o=0;for(let t=0;t<e.length;t++)o+=e[t].dataCount;for(let e=0;e<this.dataList.length;e++){let o=this.dataList[e];r.put(o.mode,4),r.put(o.getLength(),j.getLengthInBits(o.mode,t)),o.write(r)}if(r.getLengthInBits()<=8*o)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(let t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(let e=0;e<this.moduleCount;e++)this.modules[t][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=T.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}setupPositionProbePattern(t,e){for(let r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(let o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(this.modules[t+r][e+o]=0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4)}getBestMaskPattern(){let t=0,e=0;for(let r=0;r<8;r++){this.makeImpl(!0,r);let o=j.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){let t=j.getPatternPosition(this.typeNumber);for(let e=0;e<t.length;e++)for(let r=0;r<t.length;r++){let o=t[e],s=t[r];if(null==this.modules[o][s])for(let t=-2;t<=2;t++)for(let e=-2;e<=2;e++)this.modules[o+t][s+e]=-2==t||2==t||-2==e||2==e||0==t&&0==e}}setupTypeNumber(t){let e=j.getBCHTypeNumber(this.typeNumber);for(let r=0;r<18;r++){let o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(let r=0;r<18;r++){let o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}}setupTypeInfo(t,e){let r=this.errorCorrectLevel<<3|e,o=j.getBCHTypeInfo(r);for(let e=0;e<15;e++){let r=!t&&1==(o>>e&1);e<6?this.modules[e][8]=r:e<8?this.modules[e+1][8]=r:this.modules[this.moduleCount-15+e][8]=r}for(let e=0;e<15;e++){let r=!t&&1==(o>>e&1);e<8?this.modules[8][this.moduleCount-e-1]=r:e<9?this.modules[8][15-e-1+1]=r:this.modules[8][15-e-1]=r}this.modules[this.moduleCount-8][8]=!t}mapData(t,e){let r=-1,o=this.moduleCount-1,s=7,i=0;for(let n=this.moduleCount-1;n>0;n-=2)for(6==n&&n--;;){for(let r=0;r<2;r++)if(null==this.modules[o][n-r]){let l=!1;i<t.length&&(l=1==(t[i]>>>s&1)),j.getMask(e,o,n-r)&&(l=!l),this.modules[o][n-r]=l,s--,-1==s&&(i++,s=7)}if(o+=r,o<0||this.moduleCount<=o){o-=r,r=-r;break}}}static createData(t,e,r){let o=Q.getRSBlocks(t,e),s=new A;for(let e=0;e<r.length;e++){let o=r[e];s.put(o.mode,4),s.put(o.getLength(),j.getLengthInBits(o.mode,t)),o.write(s)}let i=0;for(let t=0;t<o.length;t++)i+=o[t].dataCount;if(s.getLengthInBits()>8*i)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*i+")");for(s.getLengthInBits()+4<=8*i&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*i||(s.put(T.PAD0,8),s.getLengthInBits()>=8*i));)s.put(T.PAD1,8);return T.createBytes(s,o)}static createBytes(t,e){let r=0,o=0,s=0,i=new Array(e.length),n=new Array(e.length);for(let l=0;l<e.length;l++){let h=e[l].dataCount,a=e[l].totalCount-h;o=Math.max(o,h),s=Math.max(s,a),i[l]=new Array(h);for(let e=0;e<i[l].length;e++)i[l][e]=255&t.buffer[e+r];r+=h;let u=j.getErrorCorrectPolynomial(a),g=new U(i[l],u.getLength()-1).mod(u);n[l]=new Array(u.getLength()-1);for(let t=0;t<n[l].length;t++){let e=t+g.getLength()-n[l].length;n[l][t]=e>=0?g.get(e):0}}let l=0;for(let t=0;t<e.length;t++)l+=e[t].totalCount;let h=new Array(l),a=0;for(let t=0;t<o;t++)for(let r=0;r<e.length;r++)t<i[r].length&&(h[a++]=i[r][t]);for(let t=0;t<s;t++)for(let r=0;r<e.length;r++)t<n[r].length&&(h[a++]=n[r][t]);return h}static toUTF8Array(t){for(var e=[],r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e.push(o):o<2048?e.push(192|o>>6,128|63&o):o<55296||o>=57344?e.push(224|o>>12,128|o>>6&63,128|63&o):(r++,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}return e}}T.PAD0=236,T.PAD1=17;const I=1,N=0,z=3,M=2,O=0,R=1,v=2,H=3,S=4,G=5,x=6,X=7;class j{static getBCHTypeInfo(t){let e=t<<10;for(;j.getBCHDigit(e)-j.getBCHDigit(j.G15)>=0;)e^=j.G15<<j.getBCHDigit(e)-j.getBCHDigit(j.G15);return(t<<10|e)^j.G15_MASK}static getBCHTypeNumber(t){let e=t<<12;for(;j.getBCHDigit(e)-j.getBCHDigit(j.G18)>=0;)e^=j.G18<<j.getBCHDigit(e)-j.getBCHDigit(j.G18);return t<<12|e}static getBCHDigit(t){let e=0;for(;0!=t;)e++,t>>>=1;return e}static getPatternPosition(t){return j.PATTERN_POSITION_TABLE[t-1]}static getMask(t,e,r){switch(t){case O:return(e+r)%2==0;case R:return e%2==0;case v:return r%3==0;case H:return(e+r)%3==0;case S:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case G:return e*r%2+e*r%3==0;case x:return(e*r%2+e*r%3)%2==0;case X:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}static getErrorCorrectPolynomial(t){let e=new U([1],0);for(let r=0;r<t;r++)e=e.multiply(new U([1,K.gexp(r)],0));return e}static getLengthInBits(t,e){if(1<=e&&e<10)switch(t){case _:return 10;case k:return 9;case P:case D:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case _:return 12;case k:return 11;case P:return 16;case D:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case _:return 14;case k:return 13;case P:return 16;case D:return 12;default:throw new Error("mode:"+t)}}}static getLostPoint(t){let e=t.getModuleCount(),r=0;for(let o=0;o<e;o++)for(let s=0;s<e;s++){let i=0,n=t.isDark(o,s);for(let r=-1;r<=1;r++)if(!(o+r<0||e<=o+r))for(let l=-1;l<=1;l++)s+l<0||e<=s+l||0==r&&0==l||n==t.isDark(o+r,s+l)&&i++;i>5&&(r+=3+i-5)}for(let o=0;o<e-1;o++)for(let s=0;s<e-1;s++){let e=0;t.isDark(o,s)&&e++,t.isDark(o+1,s)&&e++,t.isDark(o,s+1)&&e++,t.isDark(o+1,s+1)&&e++,0!=e&&4!=e||(r+=3)}for(let o=0;o<e;o++)for(let s=0;s<e-6;s++)t.isDark(o,s)&&!t.isDark(o,s+1)&&t.isDark(o,s+2)&&t.isDark(o,s+3)&&t.isDark(o,s+4)&&!t.isDark(o,s+5)&&t.isDark(o,s+6)&&(r+=40);for(let o=0;o<e;o++)for(let s=0;s<e-6;s++)t.isDark(s,o)&&!t.isDark(s+1,o)&&t.isDark(s+2,o)&&t.isDark(s+3,o)&&t.isDark(s+4,o)&&!t.isDark(s+5,o)&&t.isDark(s+6,o)&&(r+=40);let o=0;for(let r=0;r<e;r++)for(let s=0;s<e;s++)t.isDark(s,r)&&o++;return r+=10*(Math.abs(100*o/e/e-50)/5),r}}j.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],j.G15=1335,j.G18=7973,j.G15_MASK=21522;class K{static glog(t){if(t<1)throw new Error("glog("+t+")");return K.LOG_TABLE[t]}static gexp(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return K.EXP_TABLE[t]}}K.EXP_TABLE=new Array(256),K.LOG_TABLE=new Array(256);for(let t=0;t<8;t++)K.EXP_TABLE[t]=1<<t;for(let t=8;t<256;t++)K.EXP_TABLE[t]=K.EXP_TABLE[t-4]^K.EXP_TABLE[t-5]^K.EXP_TABLE[t-6]^K.EXP_TABLE[t-8];for(let t=0;t<255;t++)K.LOG_TABLE[K.EXP_TABLE[t]]=t;class U{constructor(t,e){if(this.num=[],null==t.length)throw new Error(t.length+"/"+e);let r=0;for(;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(let e=0;e<t.length-r;e++)this.num[e]=t[e+r]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){let e=new Array(this.getLength()+t.getLength()-1);for(let r=0;r<this.getLength();r++)for(let o=0;o<t.getLength();o++)e[r+o]^=K.gexp(K.glog(this.get(r))+K.glog(t.get(o)));return new U(e,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;let e=K.glog(this.get(0))-K.glog(t.get(0)),r=new Array(this.getLength());for(let t=0;t<this.getLength();t++)r[t]=this.get(t);for(let o=0;o<t.getLength();o++)r[o]^=K.gexp(K.glog(t.get(o))+e);return new U(r,0).mod(t)}}class Q{constructor(t,e){this.totalCount=0,this.dataCount=0,this.totalCount=t,this.dataCount=e}static getRSBlocks(t,e){let r=Q.getRsBlockTable(t,e);if(null==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);let o=r.length/3,s=new Array;for(let t=0;t<o;t++){let e=r[3*t+0],o=r[3*t+1],i=r[3*t+2];for(let t=0;t<e;t++)s.push(new Q(o,i))}return s}static getRsBlockTable(t,e){switch(e){case I:return Q.RS_BLOCK_TABLE[4*(t-1)+0];case N:return Q.RS_BLOCK_TABLE[4*(t-1)+1];case z:return Q.RS_BLOCK_TABLE[4*(t-1)+2];case M:return Q.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}}Q.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];const{ccclass:F,property:J,menu:q}=s;t("default",(a=F("UIQRCode"),u=q("Quick渲染组件/UIQRCode"),g=J({displayName:"内容",tooltip:"内容"}),c=J({displayName:"背景颜色",tooltip:"设置背景颜色"}),p=J({displayName:"前景颜色",tooltip:"设置前景颜色"}),f=J({displayName:"边距",tooltip:"边距"}),m=J({displayName:"大小",tooltip:"大小"}),a(d=u((y=e((C=class extends i{constructor(...t){super(...t),r(this,"_str",y,this),r(this,"_backColor",L,this),r(this,"_foreColor",b,this),r(this,"_margin",w,this),r(this,"_size",B,this)}get graphics(){let t=this.getComponent(n);return t||this.addComponent(n)}get string(){return this._str}set string(t){this._str!=t&&(this._str=t,this.setContent())}get backColor(){return this._backColor}set backColor(t){this._backColor.equals(t)||(this._backColor=t,this.setContent())}get foreColor(){return this._foreColor}set foreColor(t){this._foreColor.equals(t)||(this._foreColor=t,this.setContent())}get margin(){return this._margin}set margin(t){this._margin!=t&&(this._margin=t,this.setContent())}get size(){return this._size}set size(t){var e;this._size!=t&&(this._size=t,null==(e=this.node.getComponent(l))||e.setContentSize(t,t),this.setContent())}onLoad(){var t;null==(t=this.node.getComponent(l))||t.setContentSize(this._size,this._size),this.setContent()}resetInEditor(){var t;null==(t=this.node.getComponent(l))||t.setContentSize(this._size,this._size),this.setContent()}setContent(){const t=this.graphics;t.clear();let e=this.node.getComponent(l);t.fillColor=this.backColor;let r=e.width,o=-r*e.anchorX,s=-r*e.anchorY;t.rect(o,s,r,r),t.fill(),t.close();let i=new T(-1,2);i.addData(this.string),i.make(),t.fillColor=this.foreColor;let n=r-2*this.margin,h=i.getModuleCount(),a=n/h,u=n/h,g=Math.ceil(a),c=Math.ceil(u);for(let e=0;e<h;e++)for(let r=0;r<h;r++)i.isDark(e,r)&&(t.rect(o+this.margin+r*a,o+n-u-Math.round(e*u)+this.margin,g,c),t.fill())}}).prototype,"_str",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Hello World!"}}),e(C.prototype,"string",[g],Object.getOwnPropertyDescriptor(C.prototype,"string"),C.prototype),L=e(C.prototype,"_backColor",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(h.WHITE)}}),e(C.prototype,"backColor",[c],Object.getOwnPropertyDescriptor(C.prototype,"backColor"),C.prototype),b=e(C.prototype,"_foreColor",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(h.BLACK)}}),e(C.prototype,"foreColor",[p],Object.getOwnPropertyDescriptor(C.prototype,"foreColor"),C.prototype),w=e(C.prototype,"_margin",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(C.prototype,"margin",[f],Object.getOwnPropertyDescriptor(C.prototype,"margin"),C.prototype),B=e(C.prototype,"_size",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),e(C.prototype,"size",[m],Object.getOwnPropertyDescriptor(C.prototype,"size"),C.prototype),d=C))||d)||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIReconnect.ts",["cc","./Loading.ts"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy},function(e){c=e.default}],execute:function(){t._RF.push({},"eea64oh+bZBb7iXTe4r2WC1","UIReconnect",void 0);class n extends c{constructor(...e){super(...e),this.module=null,this.isResident=!0}startTimeOutTimer(e){}stopTimeOutTimer(){}}e("UIReconnect",n),n.module="【重连提示】",t._RF.pop()}}}));

System.register("chunks:///_virtual/UIRichText.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,s,a,n,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t.Enum,a=t.CCString,n=t._decorator,o=t.RichText}],execute:function(){var u,p,l,c,y,g,h,d,b,_,m;r._RF.push({},"c60049vLz5LvZDBP64ObpCM","UIRichText",void 0);const{ccclass:D,property:f,menu:L}=n,O=s(App.Bundles);t("default",(u=L("Quick渲染组件/UIRichText"),p=f({displayName:"语言包所在Bundle",type:O,tooltip:"语言包所在bundle"}),l=f({displayName:"语言包Key",tooltip:"所在Bundle中语言包的key,如果语言包在Bundle内，请先用injectLanguageData装饰语言包数据代理类"}),c=f({displayName:"语言包附加参数",tooltip:"附加参数，如果语言包中有 xx{0}{1},有两个占位的参数需要替换",type:a}),y=f({displayName:"是否启用多语言",tooltip:"是否启用多语言,默认为启用"}),D(g=u((d=e((h=class extends o{constructor(...t){super(...t),i(this,"_lan",d,this),i(this,"_bundle",b,this),i(this,"_params",_,this),this._isDirty=!0,i(this,"_mult",m,this)}get bundle(){return this._bundle}set bundle(t){this._bundle!=t&&(this._bundle=t,this._isDirty=!0)}get language(){return this._lan}set language(t){this.language!=t&&(this._lan=t,this._isDirty=!0)}get params(){return this._params}set params(t){this._params=t,this._isDirty=!0}get isUseMultilingual(){return this._mult}set isUseMultilingual(t){t!=this._mult&&(this._mult=t,this._isDirty=!0)}onLoad(){super.onLoad(),App.language.add(this),this.update(0)}onDestroy(){App.language.remove(this),super.onDestroy()}update(t){super.update&&super.update(t),this._isDirty&&(this.forceDoLayout(),this._isDirty=!1)}forceDoLayout(){if(this.isUseMultilingual){let t=this.bundle,e=O[t],i=App.getLanguage(this.language,this.params,e);this.string=i}}}).prototype,"_lan",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=e(h.prototype,"_bundle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.resources}}),_=e(h.prototype,"_params",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=e(h.prototype,"_mult",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(h.prototype,"bundle",[p],Object.getOwnPropertyDescriptor(h.prototype,"bundle"),h.prototype),e(h.prototype,"language",[l],Object.getOwnPropertyDescriptor(h.prototype,"language"),h.prototype),e(h.prototype,"params",[c],Object.getOwnPropertyDescriptor(h.prototype,"params"),h.prototype),e(h.prototype,"isUseMultilingual",[y],Object.getOwnPropertyDescriptor(h.prototype,"isUseMultilingual"),h.prototype),g=h))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/UISprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts"],(function(t){"use strict";var e,i,r,s,a,o,l,n;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t.Enum,a=t.CCString,o=t._decorator,l=t.Sprite},function(t){n=t.Macro}],execute:function(){var p,u,g,y,h,c,m,d,_,b,f,D,w,A,O,N,M;r._RF.push({},"51a47oGgppB6ZnHntSq3PUI","UISprite",void 0);const{ccclass:P,property:U,menu:j}=o,v=s(App.Bundles);t("default",(p=j("Quick渲染组件/UISprite"),u=U({displayName:"语言包所在Bundle",type:v,tooltip:"语言包所在bundle"}),g=U({displayName:"语言包Key",tooltip:"所在Bundle中语言包的key,如果语言包在Bundle内，请先用injectLanguageData装饰语言包数据代理类"}),y=U({displayName:"图集资源",tooltip:"图集资源"}),h=U({displayName:"远程地址",tooltip:"远程地址"}),c=U({displayName:"语言包附加参数",tooltip:"附加参数，如果语言包中有 xx{0}{1},有两个占位的参数需要替换",type:a}),m=U({displayName:"是否启用多语言",tooltip:"是否启用多语言,默认为启用"}),d=U({displayName:"资源持有人",tooltip:"资源持有人"}),P(_=p((f=e((b=class extends l{constructor(...t){super(...t),i(this,"_lan",f,this),i(this,"_bundle",D,this),i(this,"_params",w,this),this._isDirty=!0,i(this,"_mult",A,this),this.onLoadComplete=void 0,i(this,"_user",O,this),i(this,"_lanAtlas",N,this),i(this,"_remote",M,this)}get bundle(){return this._bundle}set bundle(t){this._bundle!=t&&(this._bundle=t,this._isDirty=!0)}get language(){return this._lan}set language(t){this.language!=t&&(this._lan=t,this._isDirty=!0)}get languageAtlas(){return this._lanAtlas}set languageAtlas(t){this._lanAtlas!=t&&(this._lanAtlas=t,this._isDirty=!0)}get isRemote(){return this._remote}set isRemote(t){this._remote!=t&&(this._remote=t,this._isDirty=!0)}get params(){return this._params}set params(t){this._params=t,this._isDirty=!0}get isUseMultilingual(){return this._mult}set isUseMultilingual(t){t!=this._mult&&(this._mult=t,this._isDirty=!0)}get user(){return this._user}set user(t){this._user=t}onLoad(){super.onLoad(),App.language.add(this),this.update(0)}onDestroy(){App.language.remove(this),super.onDestroy()}update(t){super.update&&super.update(t),this._isDirty&&(this.forceDoLayout(),this._isDirty=!1)}async forceDoLayout(){if(this.isUseMultilingual){let t=this.bundle,e=v[t];if(!App.bundleManager.getBundle(e))return;let i=App.getLanguage(this.language,this.params,e);if(!i)return;let r=await App.uiManager.getView(this.user);if(this.isRemote)this.loadRemoteImage({url:i,view:r,isNeedCache:!0});else if(this.languageAtlas.length>0){let t=App.getLanguage(this.languageAtlas,[],e);this.loadImage({url:{urls:t,key:i},view:r,bundle:e})}else this.loadImage({url:i,view:r,bundle:e})}}}).prototype,"_lan",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=e(b.prototype,"_bundle",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.resources}}),w=e(b.prototype,"_params",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(b.prototype,"_mult",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=e(b.prototype,"_user",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n.UNKNOWN}}),N=e(b.prototype,"_lanAtlas",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=e(b.prototype,"_remote",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"bundle",[u],Object.getOwnPropertyDescriptor(b.prototype,"bundle"),b.prototype),e(b.prototype,"language",[g],Object.getOwnPropertyDescriptor(b.prototype,"language"),b.prototype),e(b.prototype,"languageAtlas",[y],Object.getOwnPropertyDescriptor(b.prototype,"languageAtlas"),b.prototype),e(b.prototype,"isRemote",[h],Object.getOwnPropertyDescriptor(b.prototype,"isRemote"),b.prototype),e(b.prototype,"params",[c],Object.getOwnPropertyDescriptor(b.prototype,"params"),b.prototype),e(b.prototype,"isUseMultilingual",[m],Object.getOwnPropertyDescriptor(b.prototype,"isUseMultilingual"),b.prototype),e(b.prototype,"user",[d],Object.getOwnPropertyDescriptor(b.prototype,"user"),b.prototype),_=b))||_)||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIView.ts",["cc","./EventComponent.ts","./AudioComponent.ts","./Macros.ts"],(function(e){"use strict";var t,n,o,s,i,r,a,h;return{setters:[function(e){t=e.cclegacy,n=e._decorator,o=e.Input,s=e.KeyCode,i=e.Game},function(e){r=e.default},function(e){a=e.default},function(e){h=e.Macro}],execute:function(){var c,d;t._RF.push({},"88e0cFi4dhOUr9sdD/3nRz4","UIView",void 0);const{ccclass:l,property:u,menu:g}=n;e("default",l(c=g("Quick公共组件/UIView")(((d=class extends r{constructor(...e){super(...e),this._logic=null,this._args=void 0,this._className="unknow",this._bundle=null,this._enabledKeyUp=!1,this._enabledKeyDown=!1,this.audioHelper=null,this._enterBackgroundTime=0,this._enableFrontAndBackgroundSwitch=!1}static getPrefabUrl(){return Log.e("请求实现public static getPrefabUrl"),h.UNKNOWN}get args(){return this._args}set args(e){this._args=e}set className(e){this._className=e}get className(){return this._className}set bundle(e){this._bundle=e}get bundle(){return this._bundle}get closeAction(){return null}close(){this.closeAction?this.closeAction((()=>{App.uiManager.close(this.className)})):App.uiManager.close(this.className)}get showAction(){return null}show(e){this._args=e,this.node&&(this.node.active=!0),this.onShow(),this.showAction&&this.showAction((()=>{}))}get hideAction(){return null}hide(){this.hideAction?this.hideAction((()=>{this.node&&this.node.removeFromParent()})):this.node&&this.node.removeFromParent()}get enabledKeyUp(){return this._enabledKeyUp}set enabledKeyUp(e){this._enabledKeyUp=e,e?this.onI(o.EventType.KEY_UP,this.onKeyUp):this.offI(o.EventType.KEY_UP,this.onKeyUp)}get enabledKeyDown(){return this._enabledKeyUp}set enabledKeyDown(e){this._enabledKeyUp=e,e?this.onI(o.EventType.KEY_DOWN,this.onKeyDown):this.offI(o.EventType.KEY_DOWN,this.onKeyDown)}onKeyUp(e){e.keyCode==s.ESCAPE?this.onKeyBackUp(e):e.propagationStopped=!0}onKeyDown(e){e.keyCode==s.ESCAPE?this.onKeyBackDown(e):e.propagationStopped=!0}onKeyBackUp(e){e.propagationStopped=!0}onKeyBackDown(e){e.propagationStopped=!0}onLoad(){this.audioHelper=this.addComponent(a),this.audioHelper.owner=this;let e=App.logicManager.get(this,!0);e&&e.onLoad(this),this._logic=e,super.onLoad()}set enableFrontAndBackgroundSwitch(e){this._enableFrontAndBackgroundSwitch=e,e?(this.onG(i.EVENT_SHOW,this._onEnterForgeGround),this.onG(i.EVENT_HIDE,this._onEnterBackground)):(this.offG(i.EVENT_SHOW,this._onEnterForgeGround),this.offG(i.EVENT_HIDE,this._onEnterBackground))}get enableFrontAndBackgroundSwitch(){return this._enableFrontAndBackgroundSwitch}_onEnterBackground(){this._enterBackgroundTime=Date.timeNow(),this.onEnterBackground()}_onEnterForgeGround(){let e=Date.timeNow()-this._enterBackgroundTime;this.onEnterForgeground(e)}onEnterForgeground(e){}onEnterBackground(){}onClose(){}onShow(){}onDestroy(){this._logic&&App.logicManager.destory(this._logic.module),super.onDestroy()}update(e){this._logic&&this._logic.update(e)}reset(){this._logic&&this._logic.reset(this)}}).logicType=null,c=d))||c)||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Update.ts",["cc","./Macros.ts"],(function(e){"use strict";var t,a,E;return{setters:[function(e){t=e.cclegacy,a=e.native},function(e){E=e.Macro}],execute:function(){let s;e("Update",void 0),t._RF.push({},"3d08aMS7tVOUJAnh86aBZlX","Update",void 0),function(e){e.MAIN_PACK=E.MAIN_PACK_BUNDLE_NAME,e.MANIFEST_ROOT="manifest/";let t,s,A;!function(e){e[e.ERROR_NO_LOCAL_MANIFEST=0]="ERROR_NO_LOCAL_MANIFEST",e[e.ERROR_DOWNLOAD_MANIFEST=1]="ERROR_DOWNLOAD_MANIFEST",e[e.ERROR_PARSE_MANIFEST=2]="ERROR_PARSE_MANIFEST",e[e.NEW_VERSION_FOUND=3]="NEW_VERSION_FOUND",e[e.ALREADY_UP_TO_DATE=4]="ALREADY_UP_TO_DATE",e[e.UPDATE_PROGRESSION=5]="UPDATE_PROGRESSION",e[e.ASSET_UPDATED=6]="ASSET_UPDATED",e[e.ERROR_UPDATING=7]="ERROR_UPDATING",e[e.UPDATE_FINISHED=8]="UPDATE_FINISHED",e[e.UPDATE_FAILED=9]="UPDATE_FAILED",e[e.ERROR_DECOMPRESS=10]="ERROR_DECOMPRESS",e[e.MAIN_PACK_NEED_UPDATE=11]="MAIN_PACK_NEED_UPDATE",e[e.PRE_VERSIONS_NOT_FOUND=12]="PRE_VERSIONS_NOT_FOUND",e[e.UNINITED=13]="UNINITED"}(t||(t={})),e.Code=t,function(e){e[e.UNINITED=0]="UNINITED",e[e.UNCHECKED=1]="UNCHECKED",e[e.PREDOWNLOAD_VERSION=2]="PREDOWNLOAD_VERSION",e[e.DOWNLOADING_VERSION=3]="DOWNLOADING_VERSION",e[e.VERSION_LOADED=4]="VERSION_LOADED",e[e.PREDOWNLOAD_MANIFEST=5]="PREDOWNLOAD_MANIFEST",e[e.DOWNLOADING_MANIFEST=6]="DOWNLOADING_MANIFEST",e[e.MANIFEST_LOADED=7]="MANIFEST_LOADED",e[e.NEED_UPDATE=8]="NEED_UPDATE",e[e.READY_TO_UPDATE=9]="READY_TO_UPDATE",e[e.UPDATING=10]="UPDATING",e[e.UNZIPPING=11]="UNZIPPING",e[e.UP_TO_DATE=12]="UP_TO_DATE",e[e.FAIL_TO_UPDATE=13]="FAIL_TO_UPDATE"}(s||(s={})),e.State=s,function(e){e[e.NEED_DOWNLOAD=0]="NEED_DOWNLOAD",e[e.UP_TO_DATE=1]="UP_TO_DATE",e[e.NEED_UPDATE=2]="NEED_UPDATE"}(A||(A={})),e.Status=A;class D{constructor(e,t){this.bundle="",this.name="",this.name=e,this.bundle=t}clone(){return new D(this.name,this.bundle)}}e.Config=D;e.AssetsManager=class{constructor(e,t){this.name="",this._manager=null,this.type="",this.storagePath="",this.name=e,this.type=`type.${e}`,this.storagePath=t,this.create()}get manager(){return this._manager||this.create(),this._manager}set manager(e){this._manager=e}reset(){try{this.manager&&"function"==typeof this.manager.reset?this.manager.reset():Log.d("[AssetsManager] reset 方法不可用")}catch(e){Log.e(`[AssetsManager] reset 调用失败: ${e}`)}}create(){Log.d(`创建 ${this.name} AssetsManager`),this.manager=new a.AssetsManager(this.type,this.storagePath)}setPackageUrl(e){this.manager&&"function"==typeof this.manager.setPackageUrl?this.manager.setPackageUrl(e):Log.e("[AssetsManager] setPackageUrl not available")}setMainBundles(e){this.manager&&"function"==typeof this.manager.setMainBundles?this.manager.setMainBundles(e):Log.e("[AssetsManager] setMainBundles not available")}setDownloadAgainZip(e){this.manager&&"function"==typeof this.manager.setDownloadAgainZip?this.manager.setDownloadAgainZip(e):Log.e("[AssetsManager] setDownloadAgainZip not available")}}}(s||(s=e("Update",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateItem.ts",["cc","./Macros.ts","./Update.ts","./HallUpdate.ts"],(function(e){"use strict";var t,s,a,n,d,l;return{setters:[function(e){t=e.cclegacy,s=e.native,a=e.game},function(e){n=e.Macro},function(e){d=e.Update},function(e){l=e.HallUpdate}],execute:function(){t._RF.push({},"7c9a6PDI79IarK+jVWGiFP0","UpdateItem",void 0);e("UpdateItem",class{get name(){return App.getLanguage(this._name)}get assetsManager(){return App.updateManager.getAssetsManager(this)}get code(){return this.isBrowser?d.Code.ALREADY_UP_TO_DATE:this._code}set code(e){this._code=e}get state(){return this.isBrowser?d.State.UP_TO_DATE:this._state}set state(e){this._state=e}constructor(e){this.hasCheckedUpdate=!1,this._name="",this.bundle="",this.handler=null,this.userData=null,this.isLoaded=!1,this._code=d.Code.UNINITED,this._state=d.State.UNINITED,this._name=e.name,this.bundle=e.bundle}get updateName(){return this.assetsManager.name}get isBrowser(){return App.updateManager.isBrowser}get isSkipUpdate(){return this.isBrowser?(App.tips.show("update isbrower"),!0):(App.tips.show("update platorem "+App.updateManager.isSkipCheckUpdate),App.updateManager.isSkipCheckUpdate)}reset(){this.hasCheckedUpdate=!1,this.state=d.State.UNINITED,this.code=d.Code.UNINITED,Log.d(`lownurl${this.bundle} AssetsManager 重置`);const e=this.assetsManager.manager;e&&"function"==typeof e.reset?e.reset():Log.d(`lownurl${this.bundle} manager 无 reset 方法，跳过`)}convertBundle(e){return App.updateManager.convertBundle(e)}getProjectString(){return App.updateManager.getProjectString(this.bundle)}checkUpdate(){this.hasCheckedUpdate?Log.d(`lownurl${this.bundle} 🚫 已经执行过 checkUpdate，跳过`):(this.hasCheckedUpdate=!0,this.handler.onStarCheckUpdate(this),this.checkBundleUpdate())}get isMain(){return this.assetsManager.name==d.MAIN_PACK}get remoteMd5(){var e,t;const s=null==(e=(t=this.assetsManager.manager).getRemoteManifest)?void 0:e.call(t);return s&&"function"==typeof s.getMd5?s.getMd5():(Log.d(`lownurl${this.bundle} remoteManifest 或 getMd5 方法不存在`),"")}get storagePath(){return App.updateManager.storagePath}get hotUpdateUrl(){return App.updateManager.hotUpdateUrl}get isUpdating(){let e=e=>e==d.State.PREDOWNLOAD_VERSION?(Log.d(`lownurl${this.bundle} 准备下载版本文件`),!0):e==d.State.DOWNLOADING_VERSION?(Log.d(`lownurl${this.bundle} 下载版本文件中`),!0):e==d.State.PREDOWNLOAD_MANIFEST?(Log.d(`lownurl${this.bundle} 准备下载project文件`),!0):e==d.State.DOWNLOADING_MANIFEST?(Log.d(`lownurl${this.bundle} 下载project文件中`),!0):e==d.State.VERSION_LOADED?(Log.d(`lownurl${this.bundle} 下载版本文件完成，下一步骤会解析版本文件，也算在更新过程中`),!0):e==d.State.MANIFEST_LOADED?(Log.d(`lownurl${this.bundle} 下载project文件完成,下载步骤会解析project文件，也算在更新过程中`),!0):e==d.State.UPDATING?(Log.d(`lownurl${this.bundle} 正在更新中`),!0):void 0;return e(this.assetsManager.manager.getState())?(Log.d(`lownurl${this.bundle} C++层更新中`),!0):!!e(this.state)&&(Log.d(`lownurl${this.bundle} TS层更新中`),!0)}checkBundleUpdate(){Log.d(`lownurl${this.bundle} 🔍 checkBundleUpdate() 开始`),Log.d(`lownurl${this.bundle} 🔍 checkBundleUpdate() 开始 2`);try{if(Log.d(`lownurl${this.bundle} 🔍 checkBundleUpdate() 开始1 `+this.assetsManager.manager.getLocalManifest()),this.assetsManager.manager.getLocalManifest()&&(App.tips.show(`lownurl${this.bundle} 本地 Manifest 已经存在，跳过重新载入`),Log.d(`lownurl${this.bundle} ✅ 本地文件已加载，跳过重新载入 Manifest`),this.isUpdating))return Log.d(`lownurl${this.bundle} 🔄 正在检测更新中...`),void this.handler.onShowUpdating(this);App.tips.show("cnmdebi"),Log.d(`lownurl${this.bundle} 🔍 checkBundleUpdate() 开始  11111`);let e=this.getProjectString();if(Log.d(`lownurl${this.bundle} 📄 读取本地 Project 文件结果:`),Log.d(`lownurl${this.bundle} 📄 本地 project 内容: '}`),e)try{Log.d(`lownurl jsbGameManifest 1 ${this.storagePath}`);let t=new s.Manifest(e,this.storagePath);Log.d(`lownurl jsbGameManifest 2 version=${t.getVersion()} url=${t.getPackageUrl()}`),this.assetsManager.manager.loadLocalManifest(t,""),Log.d("lownurl jsbGameManifest 3"),this._checkUpdate(),Log.d("lownurl jsbGameManifest 4")}catch(e){Log.e(`lownurl${this.bundle} ❌ 加载本地 Manifest 出错: ${e}`)}else{Log.d(`lownurl${this.bundle} 📁 未找到 project 文件，生成默认初始 Manifest`);let e={version:"0",bundle:this.convertBundle(this.bundle),md5:n.UNKNOWN},t=JSON.stringify(e);Log.d(`lownurl${this.bundle} 🧾 初始 Manifest 内容: 成功`);try{Log.d(`lownurl jsbGameManifest 1 ${this.storagePath}`);let e=new s.Manifest(t,this.storagePath);Log.d(`lownurl jsbGameManifest 2 version=${e.getVersion()} url=${e.getPackageUrl()}`),this.assetsManager.manager.loadLocalManifest(e,""),Log.d("lownurl jsbGameManifest 3"),this._checkUpdate(),Log.d("lownurl jsbGameManifest 4")}catch(e){Log.e(`lownurl${this.bundle} ❌ 加载初始 Manifest 出错: ${e}`)}}}catch(e){Log.e(`lownurl${this.bundle} ❌ 调用 getLocalManifest() 出错: ${e}`)}}_checkUpdate(){Log.d("lownurl _checkUpdate() 1"),Log.d(`lownurl${this.bundle} 进入检测更新`),this.state=d.State.UPDATING,this.assetsManager.manager.setEventCallback(this.checkCb.bind(this)),this.assetsManager.manager.checkUpdate()}checkCb(e){let t=e.getEventCode(),s=this.assetsManager.manager.getState();switch(Log.d(`lownurl${this.bundle} checkCb event code : ${t} state : ${s}`),t){case d.Code.ERROR_NO_LOCAL_MANIFEST:Log.d(`lownurl${this.bundle} No local manifest file found, hot update skipped.`);break;case d.Code.ERROR_DOWNLOAD_MANIFEST:case d.Code.ERROR_PARSE_MANIFEST:Log.d(`lownurl${this.bundle} Fail to download manifest file, hot update skipped.`);break;case d.Code.ALREADY_UP_TO_DATE:Log.d(`lownurl${this.bundle} Already up to date with the latest remote version.`),this.isMain?App.updateManager.savePreVersions():this.bundle==n.BUNDLE_HALL&&(t=App.updateManager.checkMainMd5(this,t));break;case d.Code.NEW_VERSION_FOUND:Log.d(`lownurl${this.bundle} New version found, please try to update.`),Log.d(`lownurl${this.bundle} 🚀 触发 handler.onNewVersionFund (提早)`),Log.d(`lownurl${this.bundle} 🚀 this.handler 是: ${this.handler.constructor.name}`),Log.d(`lownurl${this.bundle} 🚀 handler内容预览: ${JSON.stringify(this.handler)}`),this.handler?(Log.d(`lownurl${this.bundle} 🚀 handler instanceof HallUpdate: ${this.handler instanceof l}`),Log.d(`lownurl${this.bundle} 🚀 handler 构造函数: ${this.handler.constructor.name}`)):Log.d(`lownurl${this.bundle} 🚀 handler 为空!`),this.isMain||(t=App.updateManager.checkAllowUpdate(this,t));break;default:return}this.state=s,this.code=t,t===d.Code.NEW_VERSION_FOUND?(Log.d(`lownurl${this.bundle} 🚀 触发 handler.onNewVersionFund`),this.handler.onNewVersionFund(this)):t===d.Code.ALREADY_UP_TO_DATE?(Log.d(`lownurl${this.bundle} ✅ 触发 handler.onAreadyUpToData`),this.handler.onAreadyUpToData(this)):t===d.Code.ERROR_DOWNLOAD_MANIFEST||t===d.Code.ERROR_NO_LOCAL_MANIFEST||t===d.Code.ERROR_PARSE_MANIFEST?(Log.d(`lownurl${this.bundle} ❌ 触发 handler.onUpdateFailed`),this.handler.onUpdateFailed(this)):t===d.Code.MAIN_PACK_NEED_UPDATE||t===d.Code.PRE_VERSIONS_NOT_FOUND?(Log.d(`lownurl${this.bundle} ⚠️ 触发 handler.onNeedUpdateMain`),this.handler.onNeedUpdateMain(this)):(Log.d(`lownurl${this.bundle} 🔄 触发 handler.onOther`),this.handler.onOther(this))}doUpdate(){Log.d(`lownurl${this.bundle} 即将热更新, updating : ${this.isUpdating}`),this.isUpdating||(Log.d(`lownurl${this.bundle} 执行更新 `),this.assetsManager.manager.setEventCallback(this.updateCb.bind(this)),this.assetsManager.manager.update())}updateCb(e){let t=!1,n=!1,l=e.getEventCode(),o=this.assetsManager.manager.getState();switch(Log.d(`lownurl${this.bundle} --update cb code : ${l} state : ${o}`),l){case d.Code.ERROR_NO_LOCAL_MANIFEST:Log.d(`lownurl${this.bundle} No local manifest file found, hot update skipped.`),n=!0;break;case d.Code.UPDATE_PROGRESSION:Log.d(`lownurl${this.bundle} ${e.getDownloadedBytes()} / ${e.getTotalBytes()}`),Log.d(`lownurl${this.bundle} ${e.getDownloadedFiles()} / ${e.getTotalFiles()}`),Log.d(`lownurl${this.bundle} percent : ${e.getPercent()}`),Log.d(`lownurl${this.bundle} percent by file : ${e.getPercentByFile()}`),Log.d(`lownurl${this.bundle} assetId : ${e.getAssetId()}`);var i=e.getMessage();i&&Log.d(`lownurl${this.bundle} Updated file: ${i}`);break;case d.Code.ERROR_DOWNLOAD_MANIFEST:case d.Code.ERROR_PARSE_MANIFEST:Log.d(`lownurl${this.bundle} Fail to download manifest file, hot update skipped.`),n=!0;break;case d.Code.ALREADY_UP_TO_DATE:Log.d(`lownurl${this.bundle} Already up to date with the latest remote version`),n=!0,this.isMain&&App.updateManager.savePreVersions();break;case d.Code.UPDATE_FINISHED:Log.d(`lownurl${this.bundle} Update finished. ${e.getMessage()}`),t=!0,this.isMain&&App.updateManager.savePreVersions();break;case d.Code.UPDATE_FAILED:Log.d(`lownurl${this.bundle} Update failed. ${e.getMessage()}`);break;case d.Code.ERROR_UPDATING:Log.d(`lownurl${this.bundle} Asset update error: ${e.getAssetId()} , ${e.getMessage()}`);break;case d.Code.ERROR_DECOMPRESS:Log.d(`lownurl${this.bundle} ${e.getMessage()}`)}n&&this.assetsManager.manager.setEventCallback(null);let r=!1;this.isMain?t&&(this.assetsManager.manager.setEventCallback(null),e.getDownloadedFiles()>0&&(r=!0)):t&&(Log.d(`lownurl${this.bundle} 更新前是否加载过 : ${this.isLoaded}`),this.isLoaded&&e.getDownloadedFiles()>0&&(Log.d(`lownurl${this.bundle} 已经加载过，需要重启`),r=!0)),this.state=o,this.code=l;let h={downloadedBytes:e.getDownloadedBytes(),totalBytes:e.getTotalBytes(),downloadedFiles:e.getDownloadedFiles(),totalFiles:e.getTotalFiles(),percent:e.getPercent(),percentByFile:e.getPercentByFile(),code:e.getEventCode(),state:o,needRestart:r,bundle:this.bundle,assetId:e.getAssetId(),progress:0};h.code==d.Code.UPDATE_FINISHED?(h.progress=1.1,this.handler.onDownloading(this,h)):h.code==d.Code.UPDATE_PROGRESSION?(h.totalBytes<=0?h.progress=0:h.progress=h.percent==Number.NaN?0:h.percent,this.handler.onDownloading(this,h)):h.code==d.Code.ALREADY_UP_TO_DATE?(h.progress=1,this.handler.onDownloading(this,h)):h.code!=d.Code.UPDATE_FAILED&&h.code!=d.Code.ERROR_NO_LOCAL_MANIFEST&&h.code!=d.Code.ERROR_DOWNLOAD_MANIFEST&&h.code!=d.Code.ERROR_PARSE_MANIFEST&&h.code!=d.Code.ERROR_DECOMPRESS||(h.progress=-1,Log.d(`更新${this.name}失败`),this.handler.onUpdateFailed(this)),t&&(Log.d(`lownurl${this.bundle} 更新完成,下载资源数 : ${e.getDownloadedFiles()}`),App.updateManager.savePreVersions2(this.bundle),r?(Log.d(`lownurl${this.bundle} 更新完成，需要重启游戏`),this.handler.onNeedRestartApp(this,(e=>{s.fileUtils.purgeCachedEntries();let t=.5;e&&(t=1),setTimeout((()=>{Log.d(`lownurl${this.bundle} 重启游戏`),a.restart()}),t)}))):(Log.d("lownurl onDownloadComplete"),s.fileUtils.purgeCachedEntries(),this.reset(),this.handler.onDownloadComplete(this))),Log.d(`lownurl${this.bundle}update cb  failed : ${n}  , isRestartApp : ${r} isUpdateFinished : ${t} , updating : ${this.isUpdating}`)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateLoading.ts",["cc","./Loading.ts"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.default}],execute:function(){e._RF.push({},"634b97zYMlAP5z8Buea/nWN","UpdateLoading",void 0);class i extends s{constructor(...t){super(...t),this.module=null}show(t,e,s){return this.timeOutCb=void 0,this._show(999),this._content=[],"string"==typeof t&&this._content.push(t),this}startShowContent(){this.text.string=this._content[0]}updateProgress(t){try{if(this.text){if(null==t||null==t||Number.isNaN(t)||t<0)return void this.hide();(t*=100)>=0&&t<=100&&(this.text.string=App.getLanguage("loadingProgress",[t.toFixed(2)]))}}catch(t){console.error(this.module,"updateProgress",t)}}}t("default",i),i.module="【UpdateLoading】",e._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateManager.ts",["cc","./Update.ts","./env","./Macros.ts","./HttpClient.ts","./UpdateItem.ts"],(function(e){"use strict";var t,s,o,n,i,r,l,d;return{setters:[function(e){t=e.cclegacy,s=e.native,o=e.sys},function(e){n=e.Update},function(e){i=e.PREVIEW},function(e){r=e.Macro},function(e){l=e.HttpPackage},function(e){d=e.UpdateItem}],execute:function(){t._RF.push({},"a8a370bCy5IT6wexJ6WyBkT","UpdateManager",void 0);class u{constructor(){this.isResident=!0,this.module=null,this.items=[],this.current=null,this._hotUpdateUrl="",this.isSkipCheckUpdate=!1,this.assetsManagers={},this.preVersions={},this.remoteVersions={},this.defaultVersion="1.0.0",this.defaultMD5=r.UNKNOWN,this.mainBundles=["src","jsb-adapter","assets/resources","assets/main","assets/internal","main.js"],this.isAutoVersion=!0}get storagePath(){return s.fileUtils.getWritablePath()+"caches/"}get hotUpdateUrl(){return console.log(`当前热更新地址为:${this._hotUpdateUrl}`),this._hotUpdateUrl}set hotUpdateUrl(e){this._hotUpdateUrl=e}get isBrowser(){return o.platform==o.Platform.WECHAT_GAME||i||o.isBrowser}getAssetsManager(e){let t=e.convertBundle(e.bundle);if(!this.assetsManagers[t]){const e=new n.AssetsManager(t,this.storagePath);e.setPackageUrl(this.hotUpdateUrl),e.setMainBundles(this.mainBundles),e.setDownloadAgainZip(.8),this.assetsManagers[t]=e}return this.assetsManagers[t]}dowonLoad(e){App.tips.show("update");try{let o="";try{o=JSON.stringify(e)}catch(e){o=`[无法序列化 item: ${e instanceof Error?e.message:"未知错误"}]`}Log.d(`🔁 dowonLoad 开始处理，item = ${o}`);const n=(null==e?void 0:e.bundle)||"[未定义bundle]";var t,s;if(Log.d(`📦 处理 Bundle: ${n}，跳过更新？${e.isSkipUpdate}`),App.tips.show("update"+e.isSkipUpdate),e.isSkipUpdate)return Log.d(`⚡ 跳过更新，直接加载 Bundle: ${n}`),void(null==(t=e.handler)||null==t.onLoadBundle||t.onLoadBundle(e));if(this.current=this.getItem(e),this.current)if(this.current.isUpdating)Log.d(`🔄 当前 ${n} 正在更新中...`),null==(s=this.current.handler)||null==s.onShowUpdating||s.onShowUpdating(this.current);else Log.d(`▶️ 当前 ${n} 不在更新状态，开始更新流程`),this._dowonLoad(e);else Log.d(`🆕 ${n} 不在当前队列，加入队列并开始下载`),this.items.push(e),this._dowonLoad(e)}catch(e){Log.e(`❌ dowonLoad 执行出错：${e}`)}}async _dowonLoad(e){if(this.current=e,await this.loadVersions(this.current)){Log.d("lownurl 4 ");let t=this.getStatus(e.bundle);Log.d("lownurl 42 "+t),t==n.Status.UP_TO_DATE?(Log.d("lownurl 4 2"),e.state=n.State.UP_TO_DATE,Log.d(`${e.bundle} 已经是最新，直接进入...`),e.handler.onAreadyUpToData(e)):(Log.d(`lownurl 5 ${e.bundle} 进入检测更新...`),console.log(`${e.bundle} 进入检测更新...`),e.state=n.State.READY_TO_UPDATE,e.checkUpdate())}}getItem(e){if(e instanceof d)return this._getItem(e.bundle);{let t=this._getItem(e.bundle);return null==t&&(t=new d(e)),t}}_getItem(e){for(let t=0;t<this.items.length;t++)if(e==this.items[t].bundle)return this.items[t];return null}checkAllowUpdate(e,t){let s=e.remoteMd5,o=this.preVersions[e.updateName];return null==o||null==o?(Log.d("预处理版本未存在!!!!"),n.Code.PRE_VERSIONS_NOT_FOUND):(o.md5==s?Log.d(`${e.bundle} 将要下载版本 md5 与远程版本 md5 相同，可以下载 version : ${o.version} md5:${o.md5}`):e.bundle==r.BUNDLE_HALL?(Log.d(`${e.bundle} 更新`),this.isMd5Change(n.MAIN_PACK)?(Log.d(`更新${e.bundle}时，主包有更新，需要先更新主包`),t=n.Code.MAIN_PACK_NEED_UPDATE):Log.d(`更新${e.bundle}时，主包无更新，直接更新进入`)):this.isMd5Change(n.MAIN_PACK)||this.isMd5Change(r.BUNDLE_HALL)?(Log.d(`更新${e.bundle}时，主包与大厅有更新，下载 md5 :${s} 与预处理md5不一致，需要对主包先进行更新`),t=n.Code.MAIN_PACK_NEED_UPDATE):Log.d(`更新${e.bundle}时，主包与大厅无更新，可直接下载更新！！`),t)}checkMainMd5(e,t){return Log.d(`${e.bundle} 无更新，检测主包md5是否变化，如果变更，需要提示玩家更新主包`),this.isMd5Change(n.MAIN_PACK)&&(console.log(`进入${e.bundle}时，主包有更新，需要先更新主包`),t=n.Code.MAIN_PACK_NEED_UPDATE),t}getStatus(e){if(this.isBrowser||this.isSkipCheckUpdate)return n.Status.UP_TO_DATE;e=this.convertBundle(e);const t=this.getVersionInfo(e),s=this.remoteVersions[e];return Log.d(`lownurl🧩 [getStatus] 当前检测 bundle: ${e}`),Log.d(`lownurl📄 本地版本信息: ${t?JSON.stringify(t):"null"}`),Log.d(`lownurl🌐 远程版本信息: ${s?JSON.stringify(s):"null"}`),t?s&&t.md5===s.md5?(Log.d("lownurl✅ 本地和远程 md5 相同，状态为 UP_TO_DATE"),n.Status.UP_TO_DATE):(Log.d("lownurl⚠️ 本地和远程 md5 不同，需要更新"),n.Status.NEED_UPDATE):(Log.d("lownurl📦 本地未找到 versionInfo，判定为 NEED_DOWNLOAD"),n.Status.NEED_DOWNLOAD)}get appVersion(){if(this.isBrowser)return this.defaultVersion;{let e=`${n.MANIFEST_ROOT}apk.json`,t=this.getString(e);if(t){return`v${JSON.parse(t).version}`}return console.log(`${this.module}无法读取到${e}`),this.defaultVersion}}getMd5(e){if(this.isBrowser)return this.defaultMD5;{e=this.convertBundle(e);let t=this.getVersionInfo(e);return t?`${t.md5}`:this.remoteVersions[e]?(console.log(`${this.module}本地无版本信息,返回远程版本${this.remoteVersions[e].md5}`),Log.d(`lownurl getMd5(bundle: BUNDLE_TYPE) ${this.module}本地无版本信息,返回远程版本${this.remoteVersions[e].md5}`),`${this.remoteVersions[e].md5}`):(console.log(`${this.module}远程无版本信息，返回默认版本${this.defaultMD5}`),Log.d(`lownurl getMd5(bundle: BUNDLE_TYPE) ${this.module}远程无版本信息，返回默认版本${this.defaultMD5}`),this.defaultMD5)}}getVersion(e){if(this.isBrowser)return this.defaultVersion;{e=this.convertBundle(e),this.isAutoVersion&&(e=r.MAIN_PACK_BUNDLE_NAME);let t=this.getVersionInfo(e);return t?`${t.version}`:this.remoteVersions[e]?(console.log(`${this.module}本地无版本信息,返回远程版本${this.remoteVersions[e].version}`),`${this.remoteVersions[e].version}`):(console.log(`${this.module}远程无版本信息，返回默认版本${this.defaultVersion}`),this.defaultVersion)}}isMd5Change(e){return e=this.convertBundle(e),!(!this.preVersions[e]||!this.remoteVersions[e]||this.preVersions[e].md5==this.remoteVersions[e].md5)}getString(e){let t=`${this.storagePath}${e}`;return Log.d(`yinyuan 🔍 尝试读取缓存路径: ${t}`),s.fileUtils.isFileExist(t)?(Log.d(`yinyuan ✅ 命中缓存路径: ${t}`),s.fileUtils.getStringFromFile(t)):(Log.d(`yinyuan ❌ 缓存路径未命中: ${t}`),s.fileUtils.isFileExist(e)?(Log.d(`yinyuan ✅ 命中包内路径: ${e}`),s.fileUtils.getStringFromFile(e)):void Log.d(`yinyuan ❌ 包内路径也未命中: ${e}`))}getVersionString(e){e=this.convertBundle(e);let t=`${n.MANIFEST_ROOT}${e}_version.json`;return Log.d("lownurl getVersionString "+t),this.getString(t)}getProjectString(e){e=this.convertBundle(e);let t=`${n.MANIFEST_ROOT}${e}_project.json`;return Log.d("lownurl getProjectString "+t),this.getString(t)}getVersionInfo(e){let t=this.getVersionString(e);if(t){return JSON.parse(t)}}loadVersions(e){return new Promise((async(t,o)=>{if(this.isBrowser)return void t(!0);e.state=n.State.PREDOWNLOAD_VERSION,e.handler.onShowUpdating(e),console.log(`${this.module} 请求远程版本信息`);let i=await this.readRemoteVersions();if(Log.d("lownurl "+i),i){this.remoteVersions=JSON.parse(i),Log.d("lownurl "+this.remoteVersions);let o=e.convertBundle(e.bundle);Log.d("lownurl 2"),o==n.MAIN_PACK&&this.getStatus(o)==n.Status.UP_TO_DATE&&(console.log(`${this.module} 主包已经是最新，写入远程的版本信息`),this.savePreVersions(),s.fileUtils.purgeCachedEntries()),console.log(`${this.module} 加载${e.bundle}时，加载远程版本信息成功...`),Log.d(`lownurl 3 ${this.module} 加载${e.bundle}时，加载远程版本信息成功...`),e.state=n.State.VERSION_LOADED,t(!0)}else Log.d("lownurl 3"),this.remoteVersions={},e.state=n.State.FAIL_TO_UPDATE,e.code=n.Code.PRE_VERSIONS_NOT_FOUND,e.handler.onPreVersionFailed(e),console.log(`${this.module} 加载${e.bundle}时，加载远程版本信息失败...`),Log.d(`lownurl 3 4${this.module} 加载${e.bundle}时，加载远程版本信息失败...`),t(!1)}))}convertBundle(e){return e==r.BUNDLE_RESOURCES?n.MAIN_PACK:e}readRemoteVersions(){return new Promise((e=>{let t=new l;t.data.url=`${this.hotUpdateUrl}/${n.MANIFEST_ROOT}versions.json`,Log.d("lownurl "+t.data.url),t.data.isAutoAttachCurrentTime=!1,t.send((t=>{e(t),Log.d("lownurl success "+t)}),(t=>{Log.d("lownurl error"),Log.dump(t),e(null)}))}))}savePreVersions(){if(Object.keys(this.remoteVersions).length>0){console.log(`${this.module} 保存远程版本信息如下:`);let e=JSON.stringify(this.remoteVersions);console.log(e),this.preVersions=JSON.parse(e)}else console.log(`${this.module} 致命更新错误,无法读取到远程版本信息!!!`)}savePreVersions2(e){const t=this.remoteVersions,o=e??r.MAIN_PACK_BUNDLE_NAME;if(Object.keys(t).length>0){Log.d(`lownurl${this.module} 保存远程版本信息如下:`);let e=JSON.stringify(t);Log.d("lownurl"+e),this.preVersions=JSON.parse(e);const n=t[o];if(n){const e=`${this.storagePath}manifest/${o}_version.json`,t=JSON.stringify(n);s.fileUtils.writeStringToFile(t,e),s.fileUtils.purgeCachedEntries(),Log.d(`lownurl✅ 保存版本到本地文件的内容是: ${t}`),Log.d(`lownurl✅ 保存版本到本地文件: ${e}`)}else Log.d(`lownurl❌ 未找到 bundle ${o} 的远程版本数据，无法保存`)}else Log.d(`lownurl${this.module} ❌ 致命更新错误,无法读取到远程版本信息!!!`)}debug(){Log.d("-----------热更新管理器中相关信息------------"),Log.dump({name:"预处理版本信息",data:this.preVersions}),Log.dump({name:"远程版本信息",data:this.remoteVersions})}}e("UpdateManager",u),u.module="【更新管理器】",t._RF.pop()}}}));

System.register("chunks:///_virtual/UserApi.ts",["cc","./CommonEvent.ts","./UserData.ts","./BaseApi.ts"],(function(e){"use strict";var t,r,s,u;return{setters:[function(e){t=e.cclegacy},function(e){r=e.UserInfoEvent},function(e){s=e.UserDataEn},function(e){u=e.default}],execute:function(){let a;e("RegisterDevice",void 0),t._RF.push({},"da89dlsEbRKpIh2MfkAo2bd","UserApi",void 0),function(e){e.IOS="1",e.ANDROID="2",e.WEB="3"}(a||(a=e("RegisterDevice",{})));e("default",class extends u{register(e){return new Promise(((t,r)=>{e.avatar?this.updateAvatar({buffer:e.avatar}).then((s=>{e.avatar=s.data,this.post("/user/register",e,{}).then((e=>{t(e)})).catch((e=>r(e)))})).catch((e=>r(e))):this.post("/user/register",e,{}).then((e=>{t(e)})).catch((e=>r(e)))}))}refreshToken(e){return this.post("/user/refreshToken",e)}login(e,t){return this.post("/user/login",{phone:e,password:t})}getRobotConfig(){return this.post("/user/getRobotConfig",{})}gameLogin(e,t=null){return this.post("/game/getLoginToken",{TOKEN:e,ClubId:t})}remarkName(e,t){return this.post("/user/setOtherRemark",{to_user_id:e,remark_name:t},{})}donate(e,t,r){return this.post("/donate/order",{amount:t,user_id:e,pwd:r},{})}donateNoPass(e,t){return this.post("/donate/order",{amount:t,user_id:e},{})}donateRecord(){return this.post("/donate/record",{},{})}donateNewRecord(){return this.post("/donate/newRecord",{},{})}goldRecord(e=1){return this.post("/user/balanceRecord",{page:e},{})}balanceUpDownRecord(e=null,t=1){return this.post("/user/balanceUpDownRecord",{page:t,userId:e},{})}gameSummary(e=1){return this.post("/user/gameSummary",{page:e},{})}tableSettle(e){return this.post("/user/getTableEnd",{room_id:e},{})}tableUserReplay(e,t,r){return this.post("/user/tableUserReplay",{room_id:e,user_id:t,page:r},{})}showCardInfo(e,t){return this.post("/user/showCardInfo",{room_id:e,gameId:t},{})}updateLoginPwd(e,t,r){return this.post("/user/updateLoginPwd",{old_pwd:e,pwd:t,pwd_confirmation:r},{})}updateBankPwd(e,t,r){return this.post("/user/updateFundPwd",{old_pwd:e,pwd:t,login_pwd:r},{})}Modify(e){return e.avatar?new Promise(((t,r)=>{this.updateAvatar({buffer:e.avatar}).then((s=>{e.avatar=s.data,this.post("/user/updateAvatarAndUsername",e,{}).then((e=>{t(e)})).catch((e=>r(e)))})).catch((e=>r(e)))})):this.post("/user/updateAvatarAndUsername",e,{})}updateAvatar(e){return this.post("/upload/uploadImage",e,{is_arraybuffer:"true"})}getUserInfo(){return new Promise(((e,t)=>{this.post("/user/getUserInfo",{},{}).then((t=>{var u=s.getUserData();const a=t.data;let n=!1;for(const e in a){let t=a[e];if(!u.hasOwnProperty(e)||t!=u[e]){if("id"==e)continue;u[e]=a[e],n||(n=!0)}}n&&App.event.emit(r.USER_DATA_UPDATA),e(t)})).catch((e=>t(e)))}))}setTransPassword(e){return this.post("/user/setFundPwd",e,{})}outLogin(e){return this.post("/user/logout",{token_jwt:e},{})}setOtherMute(e){return this.post("/user/setOtherMute",{to_user_id:e},{})}unsetOtherMute(e){return this.post("/user/unsetOtherMute",{to_user_id:e},{})}getUserName(e){return this.post("/user/getUserName",{user_id:e},{})}getSelfClub(){return this.post("/user/getselfClub",{},{})}createClub(e){return new Promise(((t,r)=>{e.avatar?this.updateAvatar({buffer:e.avatar}).then((s=>{e.avatar=s.data,this.post("/user/createClub",e,{}).then((e=>{t(e)})).catch((e=>r(e)))})).catch((e=>r(e))):this.post("/user/createClub",e,{}).then((e=>{t(e)})).catch((e=>r(e)))}))}searchClub(e){return this.post("/user/searchClub",{key:e},{})}joinClub(e){return this.post("/user/insertClub",{clubid:e},{})}clubApplyList(e){return this.post("/user/getClubApply",{clubid:e},{})}handleClubjoinreq(e,t,r){return this.post("/user/handleClubjoinreq",{clubid:e,userid:t,status:r},{})}searchClubMember(e,t){return this.post("/user/searchmember",{clubid:e,userid:t},{})}getClubMembers(e,t){return this.post("/user/getclubuser",{clubid:e,type:t},{})}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["cc","./BaseData.ts"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.default}],execute:function(){e._RF.push({},"c026emPte9Ev5Jiy37ZOVUx","UserData",void 0);class a extends s{constructor(){super()}setUserData(t){this.setData(a.USER_DATA,t)}getUserData(){return this.getData(a.USER_DATA)}getPhoneEncFour(){const t=this.getUserData(),e=t&&t.phone;let s="";return e&&(s=e.substring(0,3)+"****"+e.substring(e.length-4,e.length)),s||"***********"}clear(){this.clearData()}}a.USER_DATA="USER_DATA",a.instance=new a;t("UserDataEn",a.instance);e._RF.pop()}}}));

System.register("chunks:///_virtual/UserInfo.ts",["cc","./BaseData.ts","./SaveDataUtils.ts"],(function(t){"use strict";var e,s,n;return{setters:[function(t){e=t.cclegacy},function(t){s=t.default},function(t){n=t.SaveDataType}],execute:function(){e._RF.push({},"b7f4eE8bHtN1KZb5GUmAyMT","UserInfo",void 0);class a extends s{constructor(){super()}setUserLoginConfig(t){this.setData(a.USER_LOGIN_CONFIG,t,n.LOCAL_STORAGE)}clearUserLoginConfig(){this.removeData(a.USER_LOGIN_CONFIG,n.LOCAL_STORAGE)}getUserLoginConfig(){return this.getData(a.USER_LOGIN_CONFIG,n.LOCAL_STORAGE)}}t("default",a),a.USER_LOGIN_CONFIG="USER_LOGIN_CONFIG",a.instance=new a,e._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc","./Macros.ts","./Config.ts"],(function(t){"use strict";var e,r,a;return{setters:[function(t){e=t.cclegacy},function(t){r=t.Macro},function(t){a=t.Config}],execute:function(){e._RF.push({},"7e6f3RPxZRI9bzmg9LxXxFx","Utils",void 0);class s{static isPhoneNumber(t){return/^1\d{10}$/.test(t)}static isNumber(t){return/^\d+$/.test(t)}static isEmpty(t){return null==t||null==t||("string"!=typeof t||""==t.replace(" ",""))}static getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(e);return null!=r?unescape(r[2]):null}static getLastDay(t,e){return new Date(t,e,0).getDate()}static getScore(t,e=2){var r=(t/this.scoreRatio).toFixed(e+1);return 0==e?r.slice(0,-2):r.slice(0,-1)}static getScoreImplicit(t){var e=this.getScore(t,2);return"0"===e[e.length-1]&&(e=e.slice(0,-1)),"0"===e[e.length-1]&&(e=e.slice(0,-2)),e}static convertToServerScore(t){return t*this.scoreRatio}static format(t,...e){return e.forEach((e=>{t=t.replace("%s",e+"")})),t}static padLeft(t,e=6){t=t??0;for(var r=(t+="").length;r<e;)t="0"+t,r++;return t}static convertToTime(t){var e=Math.floor(t/60);t%=60;return this.padLeft(e,2)+":"+this.padLeft(t,2)}static dateFormat(t=new Date,e="yyyy-MM-dd hh:mm:ss"){var r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r[a]:("00"+r[a]).substr((""+r[a]).length)));return e}static isArray(t){return Array.isArray(t)}static isObject(t){return"[object Object]"==Object.prototype.toString.call(t)&&!s.isArray(t)}static isObjectAndArray(t){return"[object Object]"==Object.prototype.toString.call(t)||s.isArray(t)}static onCreateFName(){let t=String((new Date).getTime()),e=Number((Math.random()*t.length-2).toFixed(0)),r=s.randomRge(6,12);var a,i,n;return i=e,n=r,t=(a=t).slice(0,i)+n+a.slice(i),t}static randomRge(t,e){let r="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=e?Math.round(Math.random()*(e-t))+t:t;for(let t=0;t<s;t++){let t=Math.round(Math.random()*(a.length-1));r+=a.substring(t,t+1)}return r}static randomArray(t){if("string"==typeof t)return t;return t[Math.floor(Math.random()*t.length)]}static onRecordAudio(t,e,r){let s={};if(0==t)s.FName=e,s.Status=t;else if(1==t){let i=App.stageData.BASE_HTTP_URL+a.UP_AUDIO_URL;r||(r=5),s.FName=e,s.Status=t,s.RecordTime=r,s.Url=i}else s.FName=e,s.Status=t;let i=JSON.stringify(s);window.Platform.onRecordAudio(i)}static onStartPlayAudio(t,e){let r=t.substring(t.lastIndexOf("/")+1),a={FName:r.substring(0,r.indexOf(".")),Url:t},s=JSON.stringify(a);window.Platform.onPlayAudio(s)}static loadCardSprite(t,e){App.asset.loadSF(r.BUNDLE_RESOURCES,"common/images/poker/"+e,(e=>{t.spriteFrame=e}))}}t("default",s),s.scoreRatio=100,Array.prototype.remove||(Array.prototype.remove=function(t){const e=this.indexOf(t);-1!==e&&this.splice(e,1)}),Array.prototype.includes||(Array.prototype.includes=function(t,e){void 0===e&&(e=0);const r=this.length;e<0&&(e=Math.max(0,r+e));for(let a=e;a<r;a++)if(this[a]===t)return!0;return!1}),e._RF.pop()}}}));

System.register("chunks:///_virtual/Utils2.ts",["cc"],(function(t){"use strict";var e,n,a,l,s,o,r,i,g;return{setters:[function(t){e=t.cclegacy,n=t.Tween,a=t.tween,l=t.Vec3,s=t.UITransform,o=t.view,r=t.v3,i=t.safeMeasureText,g=t.Component}],execute:function(){e._RF.push({},"834c7+oOQpO/pw/9yqGEA/H","Utils",void 0);const c=999;class u{constructor(){this.module=null}showView(t,e){t&&(n.stopAllByTag(c),a(t).tag(c).set({scale:new l(.2,.2,.2)}).to(.2,{scale:new l(1.15,1.15,1.15)}).delay(.05).to(.1,{scale:new l(1,1,1)}).call((()=>{e&&e()})).start())}hideView(t,e){t&&(n.stopAllByTag(c),a(t).tag(c).to(.2,{scale:new l(1.15,1.15,1.15)}).to(.1,{scale:new l(.3,.3,.3)}).call((()=>{e&&e()})).start())}bottomToView(t,e){let l=t.getComponent(s).height,i=o.getVisibleSize();t.setPosition(0,-i.height/2),t&&(n.stopAllByTag(c),a(t).tag(c).by(.3,{position:r(0,l,0)},{easing:"backInOut"}).call((()=>{e&&e()})).start())}viewToBottom(t,e){let l=t.getComponent(s).height,i=o.getVisibleSize();t.setPosition(0,-i.height/2+l),t&&(n.stopAllByTag(c),a(t).tag(c).by(.3,{position:r(0,-l,0)},{easing:"backInOut"}).call((()=>{e&&e()})).start())}isMail(t){return/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/g.test(t)}isTEL(t){return/^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/g.test(t)}limitString(t,e,n=100,a=".."){if(t){t.string=e,t.forceDoLayout();let l=t.getComponent(s).width;if(l<=n)return;let o=(l-n)/(l/e.length);o=Math.floor(o);let r=e.substring(0,e.length-o)+a;if(t.assemblerData&&t.assemblerData.context){let e=i(t.assemblerData.context,r);for(;e>n;)r=r.substring(0,r.length-a.length-1)+a,e=i(t.assemblerData.context,r)}t.string=r}}toThousandths(t){let e="";t<0&&(t*=-1,e="-");let n=/(?=(?!\b)(\d{3})+\.?\b)/g;return e+t.toString().replace(/(^|\s)\d+(?=\.?\d*($|\s))/g,(t=>t.replace(n,",")))}toFormat(t,e=2){let n=1e3,a={K:n,M:n*n,B:n*n*n,T:n*n*n*n},l=["K","M","B","T"],s="",o="",r=0,i=1;if(t<0&&(i=-1),(t=Math.abs(t))<n)o=t.toFixed(e);else for(let n=l.length-1;n>=0;n--){if(r=t/a[l[n]],r>=1){o=r.toFixed(e),s=l[n];break}}return r=parseFloat(o),`${r*i}${s}`}toNumber(t,e=2){let n=t.match(/-?\d+e?[+-]?\d+[KMBT]?|-?\d*\.\d*e?[+-]?\d*[KMBT]?|-?\d+[KMBT]?/);if(n&&n.length>0){let t=1e3,a={K:t,M:t*t,B:t*t*t,T:t*t*t*t},l="";for(let t=0;t<n.length;t++)l+=n[t];let s=l.match(/[KMBT]/),o="";s&&s.length>0&&(o=s[0]);let r=l.substring(0,l.length-o.length),i=parseFloat(r),g=a[o];return g&&(i*=g),parseFloat(i.toFixed(e))}return Log.e(`无法匹配${t}`),0}isIDNumber(t){return!!/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/g.test(t)}isTencentQQ(t){return!!/^[1-9][0-9]{4,}$/.test(t)}contentSubRe(t,e="...",n=8){let a=0,l="";for(let s=0;s<t.length;s++)if(t.charCodeAt(s)>127||94==t.charCodeAt(s)?a+=2:a+=1,l+=t.charAt(s),s<t.length-1&&a>=n){e&&(l+=e);break}return l}addCheckRule(t,e,n,a,l,s){let o=new g.EventHandler;o.target=t,o.component=n,o.handler=a,o.customEventData=l,e[s]=[o]}addListRule(t,e,n,a,l,s){let o=new g.EventHandler;o.target=t,o.component=n,o.handler=a,o.customEventData=l,e[s]=o}transferDataTime(t){const e=new Date(t),n=e.getFullYear(),a=e.getMonth()+1,l=a<10?"0"+a:""+a,s=e.getDate(),o=s<10?"0"+s:""+s,r=e.getHours(),i=r<10?"0"+r:""+r,g=e.getMinutes(),c=g<10?"0"+g:""+g,u=e.getSeconds();return`${n}/${l}/${o} ${i}:${c}:${u<10?"0"+u:""+u}`}}t("Utils",u),u.module="【Utils】",e._RF.pop()}}}));

System.register("chunks:///_virtual/ViewAsset.ts",["cc","./Enums.ts","./Macros.ts"],(function(e){"use strict";var s,t,i,a;return{setters:[function(e){s=e.cclegacy,t=e.isValid},function(e){i=e.ViewStatus},function(e){a=e.Macro}],execute:function(){let h;e("ViewAsset",void 0),s._RF.push({},"495c8uZF4FHy4BM1OaVadzK","ViewAsset",void 0),function(e){class s{constructor(e=null){this.local=new Map,this.remote=new Map,this.name=void 0,this.name=e}addLocal(e,s=null){this.name==a.DYNAMIC_LOAD_GARBAGE&&Log.e(`找不到资源持有者: ${e.key}`),this.local.has(e.key)||(App.asset.retainAsset(e),this.local.set(e.key,e))}addRemote(e,s=null){this.remote.has(e.key)||(this.name==a.DYNAMIC_LOAD_GARBAGE&&Log.e(`找不到资源持有者 : ${e.key}`),App.cache.remoteCaches.retainAsset(e),this.remote.set(e.key,e))}clear(e=!1){if(this.name==a.DYNAMIC_LOAD_GARBAGE){(this.local.size>0||this.remote.size>0)&&Log.e("当前未能释放资源如下:"),this.local&&this.local.size>0&&(Log.e("-----------local-----------"),this.local&&this.local.forEach(((e,s)=>{Log.e(s)}))),this.remote&&this.remote.size>0&&(Log.e("-----------remote-----------"),this.remote&&this.remote.forEach(((e,s)=>{Log.e(s)})))}else this.local&&(this.local.forEach(((e,s)=>{App.asset.releaseAsset(e)})),e||this.local.clear()),this.remote&&(this.remote.forEach(((e,s)=>{App.cache.remoteCaches.releaseAsset(e)})),e||this.remote.clear())}resume(e){let s=App.releaseManger.get(e.bundle,e.key);s&&(App.cache.set(s),App.asset.retainAsset(s))}resumeRelease(){this.local&&this.local.forEach(((e,s)=>{this.resume(e)})),this.remote&&this.remote.forEach(((e,s)=>{this.resume(e)}))}}e.Dynamic=s;e.Data=class{constructor(){this.isLoaded=!1,this.status=i.WAITTING_NONE,this.view=null,this.finishCb=[],this.getViewCb=[],this.isPreload=!1,this.isPrefab=!0,this.cache=null,this.viewType=null,this.bundle=null,this.loadData=new s,this.node=null,this.isCache=!1}get name(){return this.loadData.name}doGet(e,s,t){for(let s=0;s<this.getViewCb.length;s++){let t=this.getViewCb[s];t&&t(e)}this.getViewCb=[]}doFinish(e,s,t){for(let s=0;s<this.finishCb.length;s++){let t=this.finishCb[s];t&&t(e)}this.finishCb=[]}doCallback(e,s,t){this.doFinish(e,s,t),this.doGet(e,s,t)}resumeRelease(){let e=this;return App.isLazyRelease&&this.isCache&&(t(this.view)&&t(this.node)?(this.isPrefab&&this.loadData.resume(this.cache),this.loadData.resumeRelease()):e=void 0),e}toRelease(){this.status,i.WAITTING_CLOSE;let e=App.isLazyRelease&&this.isCache,s=!1;return t(this.view)&&t(this.node)&&(this.node.removeFromParent(),this.view.onClose(),e?s=!0:this.node.destroy()),this.isPrefab&&this.cache&&App.asset.releaseAsset(this.cache),this.loadData.clear(e),s}destroy(){t(this.view)&&t(this.node)&&this.node.destroy()}}}(h||(h=e("ViewAsset",{}))),s._RF.pop()}}}));

System.register("chunks:///_virtual/WalletApi.ts",["cc","./ConfigInfo.ts","./BaseApi.ts"],(function(e){"use strict";var t,r,a,n;return{setters:[function(e){t=e.cclegacy},function(e){r=e.ConfigInfoEn,a=e.EmConfigData},function(e){n=e.default}],execute:function(){e({RechargeRoomReq:void 0,WithDrawConfigReq:void 0}),t._RF.push({},"dc847SzFaxCt4I8UeX3qc2F","WalletApi",void 0);let i,o;e("default",class extends n{reqWalletRechargeConf(){return new Promise(((e,t)=>{this.post("/recharge/config",{},{}).then((t=>{r.setConfig(a.WALLET_RECHARGE,t.data),e(t.data)})).catch((e=>{t(e)}))}))}reqWalletRecharge(e){return new Promise(((t,r)=>{this.post("/recharge/order",e,{}).then((e=>{t(e)})).catch((e=>{r(e)}))}))}reqWalletWithdrawConf(){return new Promise(((e,t)=>{this.post("/withdraw/config",{},{}).then((t=>{r.setConfig(a.WALLET_WITHDRAW,t.data),e(t.data)})).catch((e=>{t(e)}))}))}reqWalletWithdrawBind(e){return new Promise(((t,r)=>{this.post("/withdraw/bindBank",e,{}).then((e=>{t(e.data)})).catch((e=>{r(e)}))}))}reqWalletWithdraw(e){return new Promise(((t,r)=>{this.post("/withdraw/order",e,{}).then((e=>{t(e.data)})).catch((e=>{r(e)}))}))}reqRecords(){return new Promise(((e,t)=>{this.post("/recharge/record",{},{}).then((t=>{e(t.data)})).catch((e=>{t(e)}))}))}}),i||(i=e("RechargeRoomReq",{})),o||(o=e("WithDrawConfigReq",{})),t._RF.pop()}}}));

System.register("chunks:///_virtual/WalletRechargePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Macros.ts","./Utils.ts","./Config.ts","./UserData.ts","./ConfigInfo.ts"],(function(e){"use strict";var t,n,i,a,o,l,r,s,h,u,p,c,m,d,g,b,f,y,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Node,o=e.EditBox,l=e.Label,r=e._decorator,s=e.instantiate,h=e.Toggle,u=e.Sprite,p=e.Button},function(e){c=e.default},function(e){m=e.inject},function(e){d=e.Macro},function(e){g=e.default},function(e){b=e.Config},function(e){f=e.UserDataEn},function(e){y=e.ConfigInfoEn,C=e.EmConfigData}],execute:function(){var A,T,_,P,I,v,w,E,S,x,B,U,N,R,z,D,k,G,F,L,O,q,V,$,M,W,H,j,J,K;i._RF.push({},"6f1007gczFP2bnNkR66inp6","WalletRechargePage",void 0);const{ccclass:Q,property:X}=r;e("default",(A=m("select_channel",a),T=m("select_type",a),_=m("select_amount",a),P=m("select_amount/button",a),I=m("select_channel/layout",a),v=m("select_channel/item",a),w=m("select_type/content",a),E=m("select_type/item",a),S=m("select_type/item1",a),x=m("select_amount/amounts",a),B=m("select_amount/gold",a),U=m("select_amount/money/input",o),N=m("select_amount/money/mask",a),R=m("select_amount/money/tips",l),Q((k=t((D=class extends c{constructor(...e){super(...e),n(this,"nSelectChannel",k,this),n(this,"nSelectType",G,this),n(this,"nAmount",F,this),n(this,"btnReq",L,this),n(this,"nChannelParent",O,this),n(this,"prebItemChannel",q,this),n(this,"nTypeParent",V,this),n(this,"prebItemType",$,this),n(this,"prebItemType1",M,this),n(this,"nAmountParent",W,this),n(this,"prebItemAmount",H,this),n(this,"editAmount",j,this),n(this,"editAmountMask",J,this),n(this,"editAmountTips",K,this),this.extendUrl=null,this._payViewID=0}onLoad(){super.onLoad(),this.onN(this.btnReq,a.EventType.TOUCH_END,this.reqRechange),this.resetView()}onEnable(){this.reqConfAndShow()}resetView(){this.nSelectType.active=!1,this.nAmount.active=!1,this.nSelectChannel.active=!1,this.prebItemAmount.active=!1,this.editAmountTips.node.active=!1}reqConfAndShow(){App.apis.wallet.reqWalletRechargeConf().then((e=>{this.nSelectType.active=!0,this.nAmount.active=!0,this.nSelectChannel.active=!0,this.updateChannels(e)})).catch((e=>{App.alert.show(e.message)}))}checkInput(){let e=!0,t=null;(this.editAmount.string.trim()||(e=!1,t="充值金额不能为空"),e)&&(Number(this.editAmount.string)<=0&&(e=!1,t="充值金额必须大于0"));return e||App.tips.show(t),e}reqRechange(){if(5!=this._payViewID)App.globalAudio.playGlobalEffect(b.audioPath.button),this.checkInput()&&App.apis.wallet.reqWalletRecharge({pay_view_id:this._payViewID+"",amount:Number(this.editAmount.string)*g.scoreRatio+""}).then((e=>{var t=e.data;"SUCCESS"===t.retCode||"0"==t.retCode?App.nativeBridge.openUrl(t.payJumpUrl):this.showFailedTip()})).catch((e=>{this.showFailedTip(e.message)}));else{App.globalAudio.playGlobalEffect(b.audioPath.button);const n=y.getConfig(C.CONFIG);if(!n||!n.chat_url)return void App.tips.show("获取聊天链接地址失败！");var e=f.getUserData(),t=n.chat_url+`?uid=${e.id}&uname=${encodeURI(e.username)}`;App.nativeBridge.openUrl(t)}}showFailedTip(e=""){App.alert.show({text:"下单失败"+e,confirmCb:()=>{App.globalAudio.playGlobalEffect(b.audioPath.button)},confirmString:"确定"})}updateChannels(e){(this.nChannelParent.children.forEach((e=>e.active=!1)),e.forEach(((t,n)=>{let i=null;i=n<this.nChannelParent.children.length?this.nChannelParent.children[n]:s(this.prebItemChannel),i.active=!0,i.setParent(this.nChannelParent),this.setChannelItem(i,t),this.onN(i,h.EventType.TOGGLE,(()=>this.onChannelChange(i.getComponent(h),e[n])))})),0!=e.length)&&(this.nChannelParent.children[0].getComponent(h).setIsCheckedWithoutNotify(!0),this.updateTypes(e[0].payViews))}onChannelChange(e,t){if(!e.isChecked)return;App.globalAudio.playGlobalEffect(b.audioPath.button),this.updateTypes(t.payViews);let n=this.getIconIndex(t.name);this.nAmount.active=!("5"===n)}setChannelItem(e,t){e.getChildByName("hot").active=0!=t.flag,e.getChildByPath("lab_name").getComponent(l).string=t.name,e.getChildByPath("type_bg_s/lab_name").getComponent(l).string=t.name,App.asset.loadSF(d.BUNDLE_RESOURCES,"common/images/wallet/icon_"+this.getIconIndex(t.name),(t=>{this.node&&this.isValid&&(e.getChildByPath("type_bg_s/icon").getComponent(u).spriteFrame=t,e.getChildByPath("icon").getComponent(u).spriteFrame=t)}))}getIconIndex(e){return-1!=e.indexOf("微信")?"0":-1!=e.indexOf("支付宝")?"1":-1!=e.indexOf("银联")?"2":-1!=e.indexOf("数字钱包")?"3":-1!=e.indexOf("人工充值")?"4":"0"}updateTypes(e){console.log("====>>>>updateTypes: ",e),this.nTypeParent.removeAllChildren(),e.forEach(((t,n)=>{let i=null;t.extend?(i=s(this.prebItemType1),this.onN(i.getChildByName("btn_chat"),p.EventType.CLICK,(()=>{App.nativeBridge.openUrl(this.extendUrl)}))):i=s(this.prebItemType),i.active=!0,i.setParent(this.nTypeParent),this.setTypeItem(i,t),this.onN(i,h.EventType.TOGGLE,(()=>this.onTypeChange(i.getComponent(h),e[n])))})),0!=e.length&&(this.nTypeParent.children[0].getComponent(h).isChecked=!0,this.selectType(e[0],!1))}onTypeChange(e,t){e.isChecked&&(App.globalAudio.playGlobalEffect(b.audioPath.button),this.selectType(t))}selectType(e,t=!0){if(t&&App.globalAudio.playGlobalEffect(b.audioPath.button),e.extend){var n=f.getUserData();const t=App.stageData.BASE_HTTP_URL.replace(/\/api$/,"")+"/"+e.extend+`?uid=${n.id}&uname=${encodeURI(n.username)}`;this.extendUrl=t}else{var i=this.parseAmountList(e.recommendAmounts);this.updateAmount(i),this._payViewID=e.id;let t=1==e.isFixed;this.editAmountMask.active=t,this.editAmountTips.node.active=!t,t||(this.editAmountTips.string=`提示：充值范围 ${g.getScoreImplicit(e.min)} ~ ${g.getScoreImplicit(e.max)}`)}}parseAmountList(e){if(!e)return[];const t=e.split(","),n=[];return t.forEach((e=>n.push(Number(e)))),n}setTypeItem(e,t){e.getChildByName("hot").active=0!=t.flag,e.getChildByPath("lab")&&(e.getChildByPath("lab").getComponent(l).string=t.name),e.getChildByPath("type_bg_s/lab")&&(e.getChildByPath("type_bg_s/lab").getComponent(l).string=t.name)}updateAmount(e){(this.nAmountParent.removeAllChildren(),e.forEach((e=>{const t=s(this.prebItemAmount);t.active=!0,t.setParent(this.nAmountParent),t.getChildByName("amount").getComponent(l).string=g.getScore(e);var n=t.getComponent(h);n.node.on("toggle",(()=>{n.isChecked&&(App.globalAudio.playGlobalEffect(b.audioPath.button),this.editAmount.string=g.getScore(e))}),this.node)})),e.length>0)&&(this.nAmountParent.children[0].getComponent(h).setIsCheckedWithoutNotify(!0),this.editAmount.string=g.getScore(e[0]))}}).prototype,"nSelectChannel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"nSelectType",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"nAmount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(D.prototype,"btnReq",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"nChannelParent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(D.prototype,"prebItemChannel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(D.prototype,"nTypeParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(D.prototype,"prebItemType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"prebItemType1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(D.prototype,"nAmountParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(D.prototype,"prebItemAmount",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(D.prototype,"editAmount",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(D.prototype,"editAmountMask",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(D.prototype,"editAmountTips",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=D))||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/WebSocketClient.ts",["cc","./Macros.ts"],(function(t){"use strict";var s,e;return{setters:[function(t){s=t.cclegacy},function(t){e=t.Macro}],execute:function(){s._RF.push({},"791e34uVbBJ2Y7472KZ8z2x","WebSocketClient",void 0);t("default",class{constructor(){this._tag="[WebSocketClinet]",this._ip="",this._port=null,this._protocol="wss",this._dataArr=[],this._isWaitingConnect=!1,this._conTimeOut=10,this._sendTimeOut=10,this._ws=null,this._onOpen=null,this._onClose=null,this._onMessage=null,this._onError=null,this._closeEvent=null}set connectTimeOut(t){this._conTimeOut=t}get connectTimeOut(){return this._conTimeOut}set sendTimeOut(t){this._sendTimeOut=t}get sendTimeOut(){return this._sendTimeOut}set onOpen(t){this._onOpen=t}get onOpen(){return this._onOpen}set onClose(t){this._onClose=t}get onClose(){return this._onClose}set onMessage(t){this._onMessage=t}get onMessage(){return this._onMessage}set onError(t){this._onError=t}get onError(){return this._onError}init(t,s,e){this._ip=t,this._port=s,this._protocol=e,this._dataArr=[],this._conTimeOut=10,this._sendTimeOut=10,this._closeEvent=null}connectWebSocket(t,s,e){if(this.init(t,s,e),!this._ip)return;let i=`${e}://${this._ip}`;this._port&&(i+=`:${this._port}`),"wss"==e?(App.wssCacertUrl||Log.e("请先设置wss的证书url,MainController脚本中直接挂载证书"),this._ws=new WebSocket(i,[],App.wssCacertUrl)):this._ws=new WebSocket(i),this._ws&&(this._ws.binaryType="arraybuffer",this._ws.onopen=this.__onConected.bind(this),this._ws.onmessage=this.__onMessage.bind(this),this._ws.onclose=this.__onClose.bind(this),this._ws.onerror=this.__onError.bind(this))}initWebSocket(t,s,e){if(!(null==t||null==t||t.length<0))if(this._ws)if(this._ws.readyState==WebSocket.CONNECTING){if(this._ip==t&&this._port==s)return}else this._ws.readyState==WebSocket.OPEN?this._ip==t&&this._port:this._ws.readyState==WebSocket.CLOSING?(this._isWaitingConnect=!0,this._ip=t,this._port=s):(this._ws=null,this.connectWebSocket(t,s,e));else this.connectWebSocket(t,s,e)}__onConected(t){if(this._ws,this._dataArr.length>0){for(let t=0;t<this._dataArr.length;t++)this.send(this._dataArr[t]);this._dataArr=[]}this.onOpen&&this.onOpen(t)}__onMessage(t){this.onMessage&&this.onMessage(t)}__onClose(t){this._ws=null,this._closeEvent&&(t=this._closeEvent,this._closeEvent=null),this._isWaitingConnect?(this._closeEvent=null,this.connectWebSocket(this._ip,this._port,this._protocol),this._isWaitingConnect=!1):this.onClose&&this.onClose(t)}__onError(t){this.onError&&this.onError(t)}get isConnected(){return!(!this._ws||this._ws.readyState!==WebSocket.OPEN)}send(t){if(this._ws&&t)if(this._ws.readyState===WebSocket.OPEN)this._ws.send(t);else if(this._ws.readyState==WebSocket.CONNECTING)this._dataArr.push(t);else{this._ws.readyState,WebSocket.CLOSING}}close(){this._ws&&(this._closeEvent={type:e.ON_CUSTOM_CLOSE},this._ws.close()),this._dataArr=[]}}),s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});